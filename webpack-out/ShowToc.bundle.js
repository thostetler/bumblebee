/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/components/analytics.js":
/*!****************************************!*\
  !*** ./src/js/components/analytics.js ***!
  \****************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  /*\n   * Set of targets\n   * each has a set of hooks which coorespond to the event label passed\n   * types represents the possible event targets which can be used\n   * url is a template which will be passed the incoming data\n   */\n  var TARGETS = {\n    resolver: {\n      hooks: ['toc-link-followed', 'abstract-link-followed', 'citations-link-followed', 'associated-link-followed'],\n      types: ['abstract', 'citations', 'references', 'metrics', 'coreads', 'similar', 'graphics', 'associated', 'toc'],\n      url: function url(_ref) {\n        var bibcode = _ref.bibcode,\n            target = _ref.target;\n        return \"link_gateway/\".concat(bibcode, \"/\").concat(target);\n      }\n    }\n  };\n  /**\n   * fire off the xhr request to the url\n   *\n   * @param {string} url\n   * @param {object} data\n   */\n\n  var sendEvent = function sendEvent(url) {\n    window.fetch(url, {\n      method: 'GET'\n    }).catch(function (error) {\n      window.getSentry().captureMessage('Failed to send analytics event', {\n        extra: {\n          url: url,\n          error: error.message\n        }\n      });\n    });\n  };\n\n  var isValidEvent = function isValidEvent(_ref2) {\n    var label = _ref2.label,\n        target = _ref2.target;\n\n    if (typeof label !== 'string' || typeof target !== 'string') {\n      return false;\n    }\n\n    return TARGETS.resolver.hooks.includes(label) && TARGETS.resolver.types.includes(target);\n  };\n  /**\n   * Go through the targets and fire the event if the label passed\n   * matches one of the hooks specified.  Also the data.target must match one\n   * of the types listed on the target config\n   *\n   * @param {string} label - the event label\n   * @param {object} data - the event data\n   */\n\n\n  var adsLogger = function adsLogger(label, data) {\n    var target = data ? data.target : null;\n    var bibcode = data ? data.bibcode : null;\n\n    if (bibcode !== null && isValidEvent({\n      label: label,\n      target: target\n    })) {\n      sendEvent(data.url ? data.url : TARGETS.resolver.url({\n        bibcode: bibcode,\n        target: target\n      }));\n    }\n  };\n\n  var buffer = [];\n  var gaName = window.GoogleAnalyticsObject || 'ga';\n\n  var cleanBuffer = function cleanBuffer() {\n    if (window[gaName]) {\n      for (var i = 0; i < buffer.length; i++) {\n        window[gaName].apply(this, buffer[i]);\n      }\n\n      buffer = [];\n    }\n  };\n\n  var CACHE_TIMEOUT = 300;\n  /**\n   * Simple debouncing mechanism with caching\n   * this will store stringified version of the incoming events and provide a way to\n   * check if the event has recently been cached.  With a short rolling timer to keep the timeout short to hopefully\n   * only target duplicate calls.\n   */\n\n  var AnalyticsCacher = /*#__PURE__*/function () {\n    function AnalyticsCacher() {\n      _classCallCheck(this, AnalyticsCacher);\n\n      this.timer = null;\n      this.cache = new Set();\n    }\n\n    _createClass(AnalyticsCacher, [{\n      key: \"stringify\",\n      value: function stringify(args) {\n        return JSON.stringify(args, function (key, value) {\n          // filter out this cache-buster id added by GTM\n          if (key === 'gtm.uniqueEventId') {\n            return undefined;\n          }\n\n          return value;\n        });\n      }\n    }, {\n      key: \"add\",\n      value: function add() {\n        this._resetTimeout();\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.cache.add(this.stringify(args));\n      }\n    }, {\n      key: \"has\",\n      value: function has() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return this.cache.has(this.stringify(args));\n      }\n    }, {\n      key: \"_resetTimeout\",\n      value: function _resetTimeout() {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(this._clear.bind(this), CACHE_TIMEOUT);\n      }\n    }, {\n      key: \"_clear\",\n      value: function _clear() {\n        this.cache.clear();\n      }\n    }]);\n\n    return AnalyticsCacher;\n  }();\n\n  var cacher = new AnalyticsCacher();\n\n  var Analytics = function Analytics(action, event, type, description) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 4 ? _len3 - 4 : 0), _key3 = 4; _key3 < _len3; _key3++) {\n      args[_key3 - 4] = arguments[_key3];\n    }\n\n    if (cacher.has(arguments)) {\n      return;\n    }\n\n    cacher.add(arguments);\n    adsLogger.apply(null, Array.prototype.slice.call(arguments, 3)); // if the action is send and the event is event, then we want to send the event to the dataLayer\n\n    if (Array.isArray(window.dataLayer) && action === 'send' && event === 'event') {\n      // some events are 'interaction' or 'error', so add that to the event name\n      window.dataLayer.push({\n        event: \"\".concat(type, \"_\").concat(description),\n        // if the next argument is an object, we'll use that as the data, ignore an extra arguments\n        value1: args[0],\n        value2: args[1],\n        value3: args[2]\n      });\n    } else if (Array.isArray(window.dataLayer) && action === 'send') {\n      window.dataLayer.push({\n        event: event,\n        value1: type,\n        value2: description,\n        value3: args[0]\n      });\n    } else if (Array.isArray(window.dataLayer) && action === 'set') {\n      window.dataLayer.push({\n        event: 'config',\n        value1: event,\n        value2: type,\n        value3: description\n      });\n    }\n  };\n  /**\n   * Get the datalayer for sending events to\n   * @returns {*|*[]}\n   */\n\n\n  Analytics.getDL = function () {\n    if (window.dataLayer && Array.isArray(window.dataLayer)) {\n      return window.dataLayer;\n    }\n\n    return [];\n  };\n  /**\n   * Push a new object to the datalayer\n   * @param {Object} data\n   */\n\n\n  Analytics.push = function (data) {\n    if (cacher.has(data)) {\n      return;\n    }\n\n    cacher.add(data);\n    Analytics.getDL().push(data);\n  };\n  /**\n   * Reset the datalayer\n   */\n\n\n  Analytics.reset = function () {\n    Analytics.getDL().push(function () {\n      this.reset();\n    });\n  };\n  /**\n   * set a value on the datalayer\n   * @param {string} property\n   * @param {unknown} value\n   */\n\n\n  Analytics.set = function (property, value) {\n    Analytics.getDL().push(function () {\n      this.set(property, value);\n    });\n  };\n  /**\n   * get a value on the datalayer\n   * @param {string} property\n   */\n\n\n  Analytics.get = function (property) {\n    var value;\n    Analytics.getDL().push(function () {\n      value = this.get(property);\n    });\n    return value;\n  };\n\n  return Analytics;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/analytics.js?");

/***/ }),

/***/ "./src/js/components/api_feedback.js":
/*!*******************************************!*\
  !*** ./src/js/components/api_feedback.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/mixins/hardened */ \"./src/js/mixins/hardened.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, Hardened) {\n  var ApiFeedback = function ApiFeedback(options) {\n    _.extend(this, _.defaults(options || {}, {\n      code: 200,\n      msg: undefined\n    }));\n\n    this.setCode(this.code);\n  };\n\n  ApiFeedback.CODES = {\n    INVALID_PASSWORD: 498,\n    ACCOUNT_NOT_FOUND: 495,\n    // Account not found during signin\n    ALREADY_LOGGED_IN: 493,\n    // Already signed during signup\n    REQUIRES_LOGIN: 491,\n    TOO_MANY_CHARACTERS: 486,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    INTERNAL_SERVER_ERROR: 500,\n    BAD_GATEWAY: 502,\n    SERVER_ERROR: 503,\n    TOO_MANY_FAILURES: 580,\n    ALL_FINE: 200,\n    KEEP_WAITING: 190,\n    TESTING: 0,\n    // Internal events\n    MAKE_SPACE: -1,\n    UNMAKE_SPACE: -1.1,\n    SEARCH_CYCLE_STARTED: -2,\n    SEARCH_CYCLE_FAILED_TO_START: -3,\n    SEARCH_CYCLE_PROGRESS: -4,\n    SEARCH_CYCLE_STOP_MONITORING: -5,\n    SEARCH_CYCLE_FINISHED: -6,\n    QUERY_ASSISTANT: -7,\n    ALERT: -8,\n    CANNOT_ROUTE: -9,\n    API_REQUEST_ERROR: -10,\n    BIBCODE_DATA_REQUESTED: -11\n  };\n  var _codes = {};\n\n  _.each(_.pairs(ApiFeedback.CODES), function (p) {\n    _codes[p[1]] = p[0];\n  });\n\n  _.extend(ApiFeedback.prototype, {\n    hardenedInterface: {\n      code: 'integer value of the code',\n      msg: 'string message',\n      toJSON: 'for cloning',\n      getApiRequest: 'to get the original request',\n      getSenderKey: 'retrieve the senders key'\n    },\n    initialize: function initialize() {},\n    toJSON: function toJSON() {\n      return {\n        code: this.code,\n        msg: this.msg\n      };\n    },\n    setCode: function setCode(c) {\n      if (!_codes[c]) {\n        throw new Error('This code is not in the list ApiCodes - please extend js/components/api_feedback first:', this.code);\n      }\n\n      this.code = c;\n    },\n    setApiRequest: function setApiRequest(apiRequest) {\n      this.req = apiRequest;\n    },\n    getApiRequest: function getApiRequest() {\n      return this.req;\n    },\n    setMsg: function setMsg(msg) {\n      this.msg = msg;\n    },\n    getSenderKey: function getSenderKey() {\n      return this.senderKey;\n    },\n    setSenderKey: function setSenderKey(key) {\n      this.senderKey = key;\n    }\n  }, Hardened);\n\n  ApiFeedback.extend = Backbone.Model.extend;\n  return ApiFeedback;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_feedback.js?");

/***/ }),

/***/ "./src/js/components/api_query.js":
/*!****************************************!*\
  !*** ./src/js/components/api_query.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n A facade: api query exposing only the set of functions that we allow. This is\n the module that you want to load in the application (do not load the concrete\n implementaions, such as solr_params !)\n\n Put in your config:\n map: {\n 'your/module': {\n 'api_query_impl': 'js/components/specific_impl_of_the_api_query'\n }\n },\n\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/solr_params */ \"./src/js/components/solr_params.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, ApiQueryImplementation, Facade) {\n  var hardenedInterface = {\n    add: 'add values',\n    set: 'set (replace existing)',\n    get: 'get values',\n    has: 'has a key',\n    hasVal: 'more specific `has` using _.isEmpty',\n    url: 'url string of the params',\n    load: 'loads query as a string',\n    clear: 'clears all values',\n    unset: 'removes a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    pairs: 'get all values as pairs',\n    keys: 'as keys',\n    values: 'only values',\n    hasChanged: 'whether this object has modification (since its creation)',\n    previousAttributes: 'get all changed attributes',\n    previous: 'previous values for a given attribute'\n  };\n\n  var ApiQuery = function ApiQuery(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiQueryImplementation) {\n      this.innerQuery = new Facade(hardenedInterface, data);\n    } else {\n      this.innerQuery = new Facade(hardenedInterface, new ApiQueryImplementation(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerQuery[element].apply(this.innerQuery, arguments);\n    };\n  });\n\n  _.extend(ApiQuery.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerQuery.clone.apply(this.innerQuery, arguments);\n      return new ApiQuery(clone);\n    },\n    load: function load() {\n      var clone = this.innerQuery.load.apply(this.innerQuery, arguments);\n      return new ApiQuery(clone);\n    }\n  });\n\n  return ApiQuery;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_query.js?");

/***/ }),

/***/ "./src/js/components/api_request.js":
/*!******************************************!*\
  !*** ./src/js/components/api_request.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/28/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\"), __webpack_require__(/*! js/components/default_request */ \"./src/js/components/default_request.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, Facade, ApiRequestImpl) {\n  var hardenedInterface = {\n    // add makes no sense with request\n    get: 'get a key',\n    set: 'set (replace existing)',\n    url: 'url string defining this request',\n    has: 'has a key',\n    load: 'loads request as a string',\n    clear: 'clears all values',\n    unset: 'removes a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    pairs: 'get all values as pairs',\n    keys: 'as keys',\n    values: 'only values',\n    hasChanged: 'whether this object has modification (since its creation)',\n    previousAttributes: 'get all changed attributes',\n    previous: 'previous values for a given attribute'\n  };\n\n  var ApiRequest = function ApiRequest(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiRequestImpl) {\n      this.innerRequest = new Facade(hardenedInterface, data);\n    } else {\n      this.innerRequest = new Facade(hardenedInterface, new ApiRequestImpl(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerRequest[element].apply(this.innerRequest, arguments);\n    };\n  });\n\n  _.extend(ApiRequest.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerRequest.clone.apply(this.innerRequest, arguments);\n      return new ApiRequest(clone);\n    },\n    load: function load() {\n      var clone = this.innerRequest.load.apply(this.innerRequest, arguments);\n      return new ApiRequest(clone);\n    }\n  });\n\n  return ApiRequest;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_request.js?");

/***/ }),

/***/ "./src/js/components/api_targets.js":
/*!******************************************!*\
  !*** ./src/js/components/api_targets.js ***!
  \******************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 1/20/15\n *\n * contains api targets\n * and any related limits\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var config = {\n    BOOTSTRAP: '/accounts/bootstrap',\n    SEARCH: 'search/query',\n    QTREE: 'search/qtree',\n    BIGQUERY: 'search/bigquery',\n    EXPORT: 'export/',\n    SERVICE_AUTHOR_NETWORK: 'vis/author-network',\n    SERVICE_PAPER_NETWORK: 'vis/paper-network',\n    SERVICE_WORDCLOUD: 'vis/word-cloud',\n    SERVICE_METRICS: 'metrics',\n    SERVICE_OBJECTS: 'objects',\n    SERVICE_OBJECTS_QUERY: 'objects/query',\n    SERVICE_CITATION_HELPER: 'citation_helper',\n    SERVICE_AUTHOR_AFFILIATION_EXPORT: 'authoraff',\n    MYADS_STORAGE: 'vault',\n    MYADS_NOTIFICATIONS: 'vault/_notifications',\n    AUTHOR_AFFILIATION_SEARCH: 'author-affiliation/search',\n    AUTHOR_AFFILIATION_EXPORT: 'author-affiliation/export',\n    RESOLVER: 'resolver',\n    CSRF: 'accounts/csrf',\n    USER: 'accounts/user',\n    USER_DATA: 'vault/user-data',\n    SITE_CONFIGURATION: 'vault/configuration',\n    TOKEN: 'accounts/user/token',\n    LOGIN: 'accounts/user/login',\n    LOGOUT: 'accounts/user/logout',\n    VERIFY: 'accounts/verify',\n    RESEND_VERIFY: \"accounts/user/{email}/verify\",\n    RESET_PASSWORD: 'accounts/user/reset-password',\n    CHANGE_PASSWORD: 'accounts/user/change-password',\n    CHANGE_EMAIL: 'accounts/user/change-email',\n    INFO: 'accounts/info',\n    PROTECTED: 'accounts/protected',\n    STATUS: 'accounts/status',\n    RECOMMENDER: 'recommender',\n    GRAPHICS: 'graphics',\n    FEEDBACK: 'feedback',\n    // library import from classic\n    LIBRARY_IMPORT_CLASSIC_AUTH: 'harbour/auth/classic',\n    LIBRARY_IMPORT_CLASSIC_MIRRORS: 'harbour/mirrors',\n    LIBRARY_IMPORT_CLASSIC_TO_BBB: 'biblib/classic',\n    // library import from 2.0\n    LIBRARY_IMPORT_ADS2_AUTH: 'harbour/auth/twopointoh',\n    LIBRARY_IMPORT_ADS2_TO_BBB: 'biblib/twopointoh',\n    LIBRARY_IMPORT_ZOTERO: 'harbour/export/twopointoh/zotero',\n    LIBRARY_IMPORT_MENDELEY: 'harbour/export/twopointoh/mendeley',\n    // returns credentials from both classic and 2.0 if they exist\n    LIBRARY_IMPORT_CREDENTIALS: 'harbour/user',\n    // store ADS information connected with ORCID here\n    ORCID_PREFERENCES: 'orcid/preferences',\n    ORCID_NAME: 'orcid/orcid-name',\n    // library endpoints\n    // can get info about all libraries, or list of bibcodes associated w/specific lib (libraries/id)\n    // post to /libraries/ to create a library\n    LIBRARIES: 'biblib/libraries',\n    LIBRARY_TRANSFER: 'biblib/transfer',\n    // can post, put, and delete changes to individual libs using this endpoint\n    DOCUMENTS: 'biblib/documents',\n    PERMISSIONS: 'biblib/permissions',\n    REFERENCE: 'reference/text',\n\n    /*\n     * this is used by the mixin 'user_change_rows' to set max allowed/default requested\n     */\n    _limits: {\n      // use the same name from discovery.config.js\n      ExportWidget: {\n        default: 500,\n        limit: 3000\n      },\n      Metrics: {\n        default: 7000,\n        limit: 7000\n      },\n      AuthorNetwork: {\n        default: 400,\n        limit: 1000\n      },\n      PaperNetwork: {\n        default: 400,\n        limit: 1000\n      },\n      ConceptCloud: {\n        default: 150,\n        limit: 150\n      },\n      BubbleChart: {\n        // default == limit\n        default: 1500\n      }\n    }\n  }; // add credential info\n  // doesn't require cross domain cookies\n\n  config._doesntNeedCredentials = [config.SEARCH, config.QTREE, config.BIGQUERY, config.EXPORT, config.SERVICE_AUTHOR_NETWORK, config.SERVICE_PAPER_NETWORK, config.SERVICE_WORDCLOUD, config.SERVICE_METRICS, config.RECOMMENDER, config.GRAPHICS, config.FEEDBACK];\n  return config;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_targets.js?");

/***/ }),

/***/ "./src/js/components/default_request.js":
/*!**********************************************!*\
  !*** ./src/js/components/default_request.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Created by rchyla on 3/28/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/multi_params */ \"./src/js/components/multi_params.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, ApiQuery, MultiParams) {\n  var basicCheck = function basicCheck(s) {\n    if (_.isString(s)) {\n      return true;\n    }\n\n    if (_.isArray(s)) {\n      var l = s.length;\n\n      for (var i = 0; i < l; i++) {\n        var x = s[i];\n\n        if (!(_.isString(x) || _.isNumber(x))) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  var allowedAttrs = {\n    query: function query(v) {\n      if (_.isUndefined(v)) {\n        return true;\n      }\n\n      return v instanceof ApiQuery;\n    },\n    target: basicCheck,\n    sender: basicCheck,\n    options: basicCheck\n  };\n  var checker = {\n    target: function target(s) {\n      if (s && s.substring(0, 1) !== '/') {\n        return '/' + s;\n      }\n    }\n  };\n  var Request = MultiParams.extend({\n    /**\n     * Internal method: we allow only certain keys\n     *\n     * @param attributes\n     * @param options\n     * @returns {boolean}\n     * @private\n     */\n    _validate: function _validate(attributes, options) {\n      _.forOwn(attributes, function (val, attr) {\n        var tempVal = attributes[attr];\n\n        if (!(attr in allowedAttrs)) {\n          throw new Error('Invalid attr: ' + attr);\n        }\n\n        if (!allowedAttrs[attr].call(allowedAttrs, tempVal)) {\n          throw new Error('Invalid value:key ' + attr + tempVal);\n        }\n      });\n\n      return true;\n    },\n\n    /**\n     * Modified version of the multi-valued set(); we do not insist\n     * on having the values in array\n     *\n     * @param key\n     * @param val\n     * @param options\n     * @returns {Request}\n     */\n    set: function set(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    // for requests, we use all components: path, query, hash\n    _checkParsed: function _checkParsed(attrs) {\n      if (_.isObject(attrs)) {\n        var ret = {};\n\n        if ('#query' in attrs && !_.isEmpty(attrs['#query'])) {\n          ret.query = new ApiQuery(attrs['#query']);\n        }\n\n        if ('#path' in attrs) {\n          ret.target = attrs['#path'][0];\n        }\n\n        if ('#hash' in attrs) {\n          _.extend(ret, _.each(attrs['#hash'], function (val, key, obj) {\n            if (val.length == 1) {\n              obj[key] = val[0];\n            }\n          }));\n        }\n\n        return ret;\n      }\n\n      return attrs;\n    },\n\n    /*\n     * Return the url string encoding all parameters that made\n     * this request. The parameters will be sorted alphabetically\n     * by their keys and URL encoded so that they can be used\n     * in requests.\n     */\n    url: function url(whatToSort) {\n      if (!whatToSort) {\n        whatToSort = this.attributes;\n      }\n\n      var target = whatToSort.target;\n      var url = target ? _.isArray(target) ? target.join('/') : target : '';\n\n      if ('query' in whatToSort) {\n        url += '?' + whatToSort.query.url();\n      }\n\n      if ('sender' in whatToSort) {\n        url += '#' + MultiParams.prototype.url.call(this, {\n          sender: whatToSort.sender\n        });\n      }\n\n      return url;\n    },\n\n    /**\n     * Re-constructs the query from the url string, returns the json attributes;\n     * cannot be used it the instance is locked\n     *\n     * @param query (String)\n     * @returns {Model}\n     */\n    load: function load(query) {\n      return MultiParams.prototype.load.call(this, query.indexOf('?') > -1 ? query : query + '?');\n    }\n  });\n  return Request;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/default_request.js?");

/***/ }),

/***/ "./src/js/components/facade.js":
/*!*************************************!*\
  !*** ./src/js/components/facade.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/16/14. inspiration: http://jsfiddle.net/pajtai/GD5qR/35/\n */\n\n/*\n * // Interface\n *  var remoteInterface = {\n *    on: 'turn on'\n *  };\n *  // Implementation\n *  var htmlRemote = {\n *    on: function() { console.log(\"remote on\"); return this; }\n *  };\n *  // Protecting the implementation\n *  var htmlInterface = new Facade(remoteInterface, htmlRemote);\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Facade) {\n  // The Facade encapsulates objectIn according to the description\n  // The exposed facade is guaranteed to have exactly the functions described in description.\n  var Facade = function Facade(description, objectIn) {\n    var facade; // TODO: add enforce of \"new\"\n\n    facade = {};\n    this.mixIn(description, objectIn, facade); // TODO: check that \"mixIn\" is not taken\n\n    facade.mixIn = this.mixIn;\n    return facade;\n  };\n\n  Facade.prototype.mixIn = function (description, objectIn, facade) {\n    var property;\n    var propertyValue;\n    facade = facade || this;\n\n    for (property in description) {\n      propertyValue = description[property];\n\n      if (property in objectIn) {\n        var p = objectIn[property];\n\n        if (typeof propertyValue === 'function') {\n          // redefining the method\n          facade[property] = _.bind(propertyValue, objectIn);\n        } else if (typeof p === 'function') {\n          // exposing the method\n          facade[property] = _.bind(p, objectIn);\n        } else if (_.isUndefined(p)) {// pass\n        } else if (_.isString(p) || _.isNumber(p) || _.isBoolean(p) || _.isDate(p) || _.isNull(p) || _.isRegExp(p)) {\n          // build getter method\n          facade['get' + property.substring(0, 1).toUpperCase() + property.substring(1)] = _.bind(function () {\n            return this.ctx[this.name];\n          }, {\n            ctx: objectIn,\n            name: property\n          });\n          facade[property] = p; // copy the value (it is immutable anyways)\n        } else if (p.hasOwnProperty('__facade__') && p.__facade__) {\n          // exposing internal facade\n          facade[property] = p;\n        } else if (_.isObject(p) && 'getHardenedInstance' in p) {\n          // builds a facade\n          facade[property] = p.getHardenedInstance();\n        } else {\n          throw new Error(\"Sorry, you can't wrap '\" + property + \"': \" + p);\n        }\n      } else if (typeof propertyValue === 'function') {\n        facade[property] = _.bind(propertyValue, objectIn);\n      } else {\n        throw new Error('Unknown key: ' + property + '(' + propertyValue + ')');\n      }\n    }\n\n    if (objectIn) {\n      // .name is not supported in IE\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n      facade.__facade__ = Boolean(objectIn.constructor ? objectIn.constructor.name ? objectIn.constructor.name : true : true);\n    } else {\n      facade.__facade__ = true;\n    } // TODO:rca - shall we use?\n    // if (Object.freeze)\n    //  facade = Object.freeze(facade);\n\n\n    return facade;\n  };\n\n  return Facade;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/facade.js?");

/***/ }),

/***/ "./src/js/components/multi_params.js":
/*!*******************************************!*\
  !*** ./src/js/components/multi_params.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n multi_params is a generic class to store any parameters;\n it is backed by BB.Model and has all the functionality\n the values are always stored as an array of values; so\n even if you try to set strings, you will always have\n list of strings\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, $) {\n  var Model = Backbone.Model.extend({\n    locked: false,\n    _checkLock: function _checkLock() {\n      if (this.locked === true) {\n        throw Error('Object locked for modifications');\n      }\n    },\n    isLocked: function isLocked() {\n      return this.locked;\n    },\n    lock: function lock() {\n      this.locked = true;\n    },\n    unlock: function unlock() {\n      this.locked = false;\n    },\n    clone: function clone() {\n      if (this.isLocked()) {\n        var c = new this.constructor(this.attributes);\n        c.lock();\n        return c;\n      }\n\n      return new this.constructor(this.attributes);\n    },\n    hasVal: function hasVal(key) {\n      return !_.isEmpty(this.get(key));\n    },\n    // we allow only strings and numbers; instead of sending\n    // signal we throw a direct error\n    _validate: function _validate(attributes, options) {\n      // check we have only numbers and/or finite numbers\n      for (var attr in attributes) {\n        if (!_.isString(attr)) {\n          throw new Error('Keys must be strings, not: ' + attr);\n        } // remove empty strings\n\n\n        var tempVal = attributes[attr];\n        tempVal = _.without(_.flatten(tempVal), '', false, null, undefined, NaN);\n\n        if (!_.isArray(tempVal)) {\n          throw new Error('Values were not converted to an Array');\n        }\n\n        if (_.isEmpty(tempVal) && options.unset !== true) {\n          throw new Error('Empty values not allowed');\n        }\n\n        if (!_.every(tempVal, function (v) {\n          return _.isString(v) || _.isNumber(v) && !_.isNaN(v);\n        })) {\n          throw new Error('Invalid value (not a string or number): ' + tempVal);\n        }\n\n        attributes[attr] = tempVal;\n      }\n\n      return true;\n    },\n    // Every value is going to be multi-valued by default\n    // in this way we can treat all objects in the same way\n    set: function set(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      for (var attr in attrs) {\n        var tempVal = attrs[attr]; // convert to array if necessary\n\n        if (!_.isArray(tempVal)) {\n          attrs[attr] = _.flatten([tempVal]);\n        }\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    unset: function unset() {\n      this._checkLock();\n\n      Backbone.Model.prototype.unset.apply(this, arguments);\n    },\n    // adds values to existing (like set, but keeps the old vals)\n    add: function add(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      for (var attr in attrs) {\n        var tempVal = attrs[attr]; // convert to array if necessary\n\n        if (!_.isArray(tempVal)) {\n          tempVal = _.flatten([tempVal]);\n        }\n\n        if (this.has(attr)) {\n          tempVal = _.clone(this.get(attr)).concat(tempVal);\n        }\n\n        attrs[attr] = tempVal;\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    // synchronization is disabled\n    sync: function sync() {\n      throw Error('MultiParams cannot be saved to server');\n    },\n\n    /*\n     * Return the url string encoding all parameters that made\n     * this query. The parameters will be sorted alphabetically\n     * by their keys and URL encoded so that they can be used\n     * in requests.\n     */\n    url: function url(whatToSort) {\n      if (!whatToSort) {\n        whatToSort = this.attributes;\n      } // sort keys alphabetically\n\n\n      var sorted = _.pairs(whatToSort).sort(function (a, b) {\n        return a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0;\n      }); // June1:rca - I need to preserve order of values (becuaes of the query modifications/updates) the logic\n      // just requires us to be careful and we need order to be preserved when the query is cloned\n      // also sort values\n      // var s = {};\n      // sorted.map(function(item) { s[item[0]] = (_.isArray(item[1]) ? item[1].sort() : item[1]) });\n      // we have to double encode certain elements\n      // sorted = _.map(sorted, function(pair) { return [pair[0], _.map(pair[1], function(v) {return (v.indexOf && v.indexOf('=') > -1) ? encodeURIComponent(v) : v })]});\n      // use traditional encoding\n      // use %20 instead of + (url encoding instead of form encoding)\n\n\n      var encoded = $.param(_.object(sorted), true);\n      encoded = encoded.replace(/\\+/g, '%20'); // Replace funky unicode quotes with normal ones\n\n      encoded = encoded.replace(/%E2%80%9[ECD]/g, '%22');\n      return encoded;\n    },\n\n    /**\n     * Parses string (urlparams) and returns it as an object\n     * @param resp\n     * @param options\n     * @returns {*}\n     */\n    parse: function parse(resp, options) {\n      if (_.isString(resp)) {\n        var attrs = {};\n        resp = decodeURI(resp);\n\n        if (resp.indexOf('?') > -1) {\n          attrs['#path'] = [resp.slice(0, resp.indexOf('?'))];\n          resp = resp.slice(resp.indexOf('?') + 1);\n        }\n\n        if (resp.indexOf('#') > -1) {\n          attrs['#hash'] = this._parse(resp.slice(resp.indexOf('#') + 1));\n          resp = resp.slice(0, resp.indexOf('#'));\n        }\n\n        attrs['#query'] = this._parse(resp);\n        return this._checkParsed(attrs);\n      }\n\n      return this._checkParsed(resp); // else return resp object\n    },\n    _parse: function _parse(resp) {\n      var attrs = {};\n      var hash;\n\n      if (!resp.trim()) {\n        return attrs;\n      }\n\n      var hashes = resp.slice(resp.indexOf('?') + 1).split('&'); // resp = decodeURIComponent(resp);\n\n      var key;\n      var value;\n\n      for (var i = 0; i < hashes.length; i++) {\n        hash = hashes[i].split('=');\n        key = decodeURIComponent(hash[0].split('+').join(' ')); // optimized: .replace(/\\+/g, \" \")\n\n        var vall = hash[1];\n\n        if (hash.length > 2) {\n          hash.shift();\n          vall = hash.join('=');\n        } // replace literal '%' with code and '+' become literal spaces\n\n\n        value = decodeURIComponent(vall.replace(/%(?!\\d|[ABCDEF]+)/gi, '%25').split('+').join(' '));\n\n        if (attrs[key] !== undefined) {\n          attrs[key].push(value);\n        } else {\n          attrs[key] = [value];\n        }\n      }\n\n      return attrs;\n    },\n    // default behaviour is just to keep the query parameters\n    // after the string was parsed, you can override it to suit other needs\n    _checkParsed: function _checkParsed(attrs) {\n      if (_.isObject(attrs)) {\n        if ('#query' in attrs) {\n          return attrs['#query'];\n        }\n      }\n\n      return attrs;\n    },\n\n    /**\n     * Re-constructs the query from the url string, returns the json attributes;\n     * cannot be used it the instance is locked\n     *\n     * @param query (String)\n     * @returns {Model}\n     */\n    load: function load(query) {\n      this._checkLock();\n\n      var vals = this.parse(query);\n      this.clear();\n      this.set(vals);\n      return this;\n    }\n  });\n  return Model;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/multi_params.js?");

/***/ }),

/***/ "./src/js/components/pubsub_events.js":
/*!********************************************!*\
  !*** ./src/js/components/pubsub_events.js ***!
  \********************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/30/14.\n */\n\n/**\n * Catalogue of PubSub events; we assume this:\n *\n *  - FC = the component lives in the 'Forbidden City'\n *         inside Application, typically this is a PubSub or Api, Mediator\n *         or any component with elevated access\n *\n *  - OC = Outer City: the suburbs of the application; these are typically\n *         UI components (behind the wall), untrusted citizens of the\n *         BumbleBee state\n *\n *  WARNING: do not use spaces; events with spaces are considered to be\n *        multiple events! (e.g. '[PubSub] New-Query' will be two events)\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var PubSubEvents = {\n    /**\n     * Usually called by OC's as a first step in the query processing.\n     * It means: 'user did something', we need to start reacting. The OC\n     * will build a new ApiQuery and send it together with this event\n     */\n    START_SEARCH: '[PubSub]-New-Query',\n\n    /**\n     * Called by FC's (usually: Mediator) - this is a signal to *all* OC's\n     * they should receive ApiQuery object, compare it against their\n     * own query; find diff and create a new ApiRequest (asking for a data)\n     * and send that back\n     */\n    INVITING_REQUEST: '[PubSub]-Inviting-Request',\n\n    /**\n     * Will be called by OC's, this is response to ApiQuery input.\n     */\n    DELIVERING_REQUEST: '[PubSub]-New-Request',\n\n    /**\n     * Will be called by OC's, this is one-time forget action (outside of the\n     * the search cycle); use this for any query that needs to be executed\n     * and not be tracked by search cycle\n     */\n    EXECUTE_REQUEST: '[PubSub]-Execute-Request',\n\n    /**\n     * Called from the router, the QID will be passed; the query needs to be\n     * loaded and executed\n     */\n    EXECUTE_STORED_QUERY: '[PubSub]-Execute-Stored-Query',\n\n    /**\n     * Published by FC's - typically Mediator - when a response has been retrieved\n     * for a given ApiRequest.\n     *\n     * OC's should subscribe to this event when they want to receive data\n     * from the treasury (api)\n     *\n     *  - input: ApiRequest\n     *  - output: ApiResponse\n     */\n    DELIVERING_RESPONSE: '[PubSub]-New-Response',\n\n    /**\n     * The walls of the FC are being closed; and no new requests will be served\n     */\n    CLOSING_GATES: '[PubSub]-Closing',\n\n    /**\n     * PubSub will not receive any requests any more\n     */\n    CLOSED_FOR_BUSINESS: '[PubSub]-Closed',\n\n    /**\n     * ForbiddenCity is about to receive requests\n     */\n    OPENING_GATES: '[PubSub]-Opening',\n\n    /**\n     * Called after PubSub became ready - it is fully operational\n     */\n    OPEN_FOR_BUSINESS: '[PubSub]-Ready',\n\n    /**\n     *  Set of error warnings issues by PubSub - or by some other FC's - to\n     *  deal with congestion or other problems\n     */\n    SMALL_FIRE: '[PubSub]-Problem',\n    BIG_FIRE: '[PubSub]-Big-Problem',\n    CITY_BURNING: '[PubSub]-Disaster',\n\n    /**\n     * A message containing feedback from the FC; traveling towards OC\n     * The feedback will be instance of ApiFeedback\n     */\n    FEEDBACK: '[FC]-FeedBack',\n\n    /**\n     * A message from the router requesting showing citizens of the\n     * city\n     */\n    DISPLAY_DOCUMENTS: '[Router]-Display-Documents',\n    DISPLAY_DOCUMENTS_DETAILS: '[Router]-Display-Documents-Details',\n\n    /**\n     * Used by OC to request parsed query tree - to check a query\n     * for example\n     */\n    GET_QTREE: '[FC]-GetQTree',\n    NAVIGATE: '[Router]-Navigate-With-Trigger',\n\n    /*\n     * so navigator can notify interested widgets about a change\n     * from search page to user page, for instance-- navigator cannot\n     * to this since it listens to many events including widget-show events\n     * */\n    PAGE_CHANGE: '[Navigator]Page-Changed',\n\n    /* for custom widget-to-widget events */\n    CUSTOM_EVENT: '[PubSub]-Custom-Event',\n    ARIA_ANNOUNCEMENT: '[PubSub]-Aria-Announcement',\n\n    /* anything to do with changing the state of the user, including session events */\n    USER_ANNOUNCEMENT: '[PubSub]-User-Announcement',\n\n    /**\n     * A message/action that should be displayed to the user (on prominent)\n     * place\n     */\n    ALERT: '[Alert]-Message',\n    ORCID_ANNOUNCEMENT: '[PubSub]-Orcid-Announcement',\n\n    /**\n     * Happens during the main cycle of the application birth\n     *  LOADED = when all components were successfuly loaded\n     *  BOOTSTRAPPED = + when all dynamic config was loaded\n     *  STARTING = + right before the router and history objects start()\n     *  STARTED = app is alive and handling requests\n     */\n    APP_LOADED: '[App]-Application-Loaded',\n    APP_BOOTSTRAPPED: '[App]-Application-Bootstrapped',\n    APP_STARTING: '[App]-Application-Starting',\n    APP_STARTED: '[App]-Application-Started',\n    APP_EXIT: '[App]-Exit',\n\n    /**\n     * Is triggered when user selects/deselects records\n     */\n    PAPER_SELECTION: '[User]-Paper-Selection',\n    // instead of toggling, adds all papers\n    BULK_PAPER_SELECTION: '[User]-Bulk-Paper-Selection',\n\n    /*\n     * is triggered by app storage itself when list of selected papers changes\n     * */\n    STORAGE_PAPER_UPDATE: '[User]-Paper-Update',\n    LIBRARY_CHANGE: '[PubSub]-Library-Change'\n  };\n  return PubSubEvents;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/pubsub_events.js?");

/***/ }),

/***/ "./src/js/components/pubsub_key.js":
/*!*****************************************!*\
  !*** ./src/js/components/pubsub_key.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/14/14.\n */\n\n/*\n * A simple, yet important, class - every subscriber\n * to the PubSub must contain one key. This class\n * should be instantiated in a safe manner. ie.\n *\n * PubSubKey.newInstance({creator: this});\n *\n * But beware that as long as the subscriber is alive\n * reference to the creator will be saved inside\n * the key! So choose carefully whether you use this\n * functionality\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_) {\n  var PubSubKey = function PubSubKey(options) {\n    _.extend(this, options);\n  };\n\n  _.extend(PubSubKey, {\n    /*\n     * Creates a new Instances of the PubSubKey\n     * with a storage that cannot be changed.\n     * To double sign the key, you can pass\n     * an object that identifies creator of the\n     * key and test identity, eg.\n     *\n     * var creator = {};\n     * var k = PubSubKey(creator);\n     * k.getCreator() === k;\n     *\n     */\n    newInstance: function newInstance(options) {\n      var priv = {\n        id: _.has(options, 'id') ? options.id : _.uniqueId(':psk'),\n        creator: _.has(options, 'creator') ? options.creator : null\n      };\n      return new PubSubKey({\n        getId: function getId() {\n          return priv.id;\n        },\n        getCreator: function getCreator() {\n          return priv.creator;\n        }\n      });\n    }\n  });\n\n  return PubSubKey;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/pubsub_key.js?");

/***/ }),

/***/ "./src/js/components/solr_params.js":
/*!******************************************!*\
  !*** ./src/js/components/solr_params.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\nSubclass of the multi-param with a functionality specific for\nSOLR queries. Do not use this class directly inside your app!\nInstead, import 'api_query' and configure it properly\n\n * <p>For a list of possible parameters, please consult the links below.</p>\n *\n * @see http://wiki.apache.org/solr/CoreQueryParameters\n * @see http://wiki.apache.org/solr/CommonQueryParameters\n * @see http://wiki.apache.org/solr/SimpleFacetParameters\n * @see http://wiki.apache.org/solr/HighlightingParameters\n * @see http://wiki.apache.org/solr/MoreLikeThis\n * @see http://wiki.apache.org/solr/SpellCheckComponent\n * @see http://wiki.apache.org/solr/StatsComponent\n * @see http://wiki.apache.org/solr/TermsComponent\n * @see http://wiki.apache.org/solr/TermVectorComponent\n * @see http://wiki.apache.org/solr/LocalParams\n *\n * @param properties A map of fields to set. Refer to the list of public fields.\n * @class ParameterStore\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/components/multi_params */ \"./src/js/components/multi_params.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (MultiParams, Backbone, _, $) {\n  var SolrParams = MultiParams.extend({\n    fieldsToConcatenate: [],\n    defaultOperator: ' ',\n    fieldProcessors: {\n      '*': function _(vals, self) {\n        return [vals.join(self.defaultOperator)];\n      }\n    },\n    initialize: function initialize(attributes, options) {\n      if (options) {\n        _.extend(this, _.pick(options, ['fieldsToConcatenate', 'defaultOperator', 'fieldProcessors']));\n      }\n    },\n    url: function url(resp, options) {\n      // first massage the fields, but do not touch the original values\n      // lodash has a parameter isDeep that can be set to true, but\n      // for compatibility reasons with underscore, lets' not use it\n      // the values should always be only one level deep\n      var values = _.clone(this.attributes);\n\n      var l = this.fieldsToConcatenate.length;\n      var k = '';\n\n      for (var i = 0; i < l; i++) {\n        k = this.fieldsToConcatenate[i];\n\n        if (this.has(k)) {\n          if (this.fieldProcessors[k]) {\n            values[k] = this.fieldProcessors[k](this.get(k), this);\n          } else {\n            values[k] = this.fieldProcessors['*'](this.get(k), this);\n          }\n        }\n      } // then call the default implementation of the url handling\n\n\n      return MultiParams.prototype.url.call(this, values);\n    }\n  });\n  return SolrParams;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/solr_params.js?");

/***/ }),

/***/ "./src/js/mixins/add_stable_index_to_collection.js":
/*!*********************************************************!*\
  !*** ./src/js/mixins/add_stable_index_to_collection.js ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * This mixin (only has a single function) will reset the collection if numFound doesn't exist,\n * or else add  to the collection. Make sure the model for the collection has idAttribute : \"resultsIndex\"\n * to allow for the collection to add records properly.\n *\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_) {\n  var WidgetPaginator = {\n    /**\n     * returns zero-indexed start val (we expect the page\n     * to be zero-indexed!)\n     */\n    getPageStart: function getPageStart(page, perPage, numFound) {\n      return numFound ? Math.min(page * perPage, numFound) : page * perPage;\n    },\n\n    /**\n     * returns final row value for constructing a page (inclusive)\n     */\n    getPageEnd: function getPageEnd(page, perPage, numFound) {\n      var endVal = this.getPageStart(page, perPage) + perPage;\n      return endVal > numFound ? numFound : endVal;\n    },\n\n    /**\n     * Returns the page number (on which the position falls)\n     * It is zero-based count\n     *\n     * @param start (zero indexed start value of record, returned by solr)\n     * @param perPage\n     * @returns {number}\n     */\n    getPageVal: function getPageVal(start, perPage) {\n      return Math.floor(start / perPage);\n    },\n\n    /**\n     * Add 'resultsIndex' attribute into the model.\n     *\n     * @param docs\n     * @param start\n     * @returns {*}\n     */\n    addPaginationToDocs: function addPaginationToDocs(docs, start) {\n      var s = _.isArray(start) ? start[0] : parseInt(start);\n\n      _.each(docs, function (d) {\n        d.resultsIndex = s; // non zero-indexed\n\n        d.indexToShow = s + 1;\n        s += 1;\n      });\n\n      return docs;\n    }\n  };\n  return WidgetPaginator;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/add_stable_index_to_collection.js?");

/***/ }),

/***/ "./src/js/mixins/dependon.js":
/*!***********************************!*\
  !*** ./src/js/mixins/dependon.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/13/14.\n */\n\n/*\n * This module contains a set of utilities that can be added to classes\n * to give them certain functionality\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/pubsub_events */ \"./src/js/components/pubsub_events.js\"), __webpack_require__(/*! js/components/pubsub_key */ \"./src/js/components/pubsub_key.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, PubSubEvents, PubSubKey) {\n  var Mixin = {\n    /*\n     * BeeHive is the object that allows modules to get access to objects\n     * of the application (but we make sure these objects are protected\n     * and only application can set/change them). This mixin gives objects\n     * functions to query 'BeeHive'\n     */\n    BeeHive: {\n      // called by parents (app) to give modules access\n      setBeeHive: function setBeeHive(brundibar) {\n        if (_.isEmpty(brundibar)) throw new Error('Huh? Empty Beehive? Trying to be funny?');\n        this.__beehive = brundibar;\n      },\n      getBeeHive: function getBeeHive() {\n        if (!this.hasBeeHive()) throw new Error('The BeeHive is inactivate (or dead :<})');\n        return this.__beehive;\n      },\n      hasBeeHive: function hasBeeHive() {\n        if (this.__beehive && (this.__beehive.active || this.__beehive.__facade__ && this.__beehive.getActive())) {\n          return true;\n        }\n\n        return false;\n      },\n\n      /**\n       * Method which returns a masked instance of PubSub (unless the PubSub\n       * is already a hardened instance; which carries its own key)\n       *\n       * You can call pubsub.publish() without having to supply the pubsub key\n       * (which is what most controllers want to do; there are only some\n       * exceptions to this rule; ie. query-mediator). If you need to get\n       * access to the full PubSub (and you have it inside BeeHive) then do\n       * this.getBeeHive().getService('PubSub')\n       */\n      getPubSub: function getPubSub() {\n        if (!this.hasBeeHive()) throw new Error('The BeeHive is inactive (or dead >:})');\n        if (!this.__ctx) this.__ctx = {};\n        if (this.__ctx.pubsub) return this.__ctx.pubsub;\n\n        var pubsub = this.__beehive.getService('PubSub');\n\n        if (pubsub && pubsub.__facade__) return pubsub; // build a unique key for this instance\n\n        this.__ctx.pubsub = {\n          _key: pubsub.getPubSubKey(),\n          _exec: function _exec(name, args) {\n            args = _.toArray(args);\n            if (args[0] instanceof PubSubKey) throw Error('You have given us a PubSub key, this.publish() method does not need it.');\n            args.unshift(this._key);\n            pubsub[name].apply(pubsub, args);\n          },\n          publish: function publish() {\n            this._exec('publish', arguments);\n          },\n          subscribe: function subscribe() {\n            this._exec('subscribe', arguments);\n          },\n          subscribeOnce: function subscribeOnce() {\n            this._exec('subscribeOnce', arguments);\n          },\n          unsubscribe: function unsubscribe() {\n            this._exec('unsubscribe', arguments);\n          },\n          getCurrentPubSubKey: function getCurrentPubSubKey() {\n            return this._key;\n          }\n        };\n\n        _.extend(this.__ctx.pubsub, PubSubEvents);\n\n        return this.__ctx.pubsub;\n      },\n      hasPubSub: function hasPubSub() {\n        if (this.hasBeeHive()) return _.isObject(this.__beehive.getService('PubSub'));\n        return false;\n      }\n    },\n    App: {\n      setApp: function setApp(app) {\n        if (_.isUndefined(app)) throw new Error('App object cannot be empty');\n        this.__app = app;\n      },\n      getApp: function getApp() {\n        return this.__app;\n      },\n      hasApp: function hasApp() {\n        return !_.isEmpty(this.__app);\n      }\n    }\n  };\n  return Mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/dependon.js?");

/***/ }),

/***/ "./src/js/mixins/hardened.js":
/*!***********************************!*\
  !*** ./src/js/mixins/hardened.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/18/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Facade) {\n  var Mixin = {\n    /*\n     * Creates a hardened instance of itself, it uses\n     * interface description from 'hardenedInterface'\n     * Implementations need to populate 'hardenedInterface'\n     * with list of properties and methods that should be exposed\n     * through the Facade\n     */\n    _getHardenedInstance: function _getHardenedInstance(iface, objectIn) {\n      if (!('hardenedInterface' in this) && !iface) {\n        throw Error('Error: this.hardenedInterface is not defined');\n      }\n\n      return new Facade(iface || ('hardenedInterface' in this ? this.hardenedInterface : {}), objectIn);\n    },\n    getHardenedInstance: function getHardenedInstance(iface) {\n      return this._getHardenedInstance(iface, this);\n    }\n  };\n  return Mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/hardened.js?");

/***/ }),

/***/ "./src/js/mixins/link_generator_mixin.js":
/*!***********************************************!*\
  !*** ./src/js/mixins/link_generator_mixin.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/mixins/openurl_generator */ \"./src/js/mixins/openurl_generator.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, _ref) {\n  var getOpenUrl = _ref.getOpenUrl;\n  var GATEWAY_BASE_URL = '/link_gateway/';\n  var DEFAULT_ORDERING = ['ADS_PDF', 'ADS_SCAN', 'INSTITUTION', 'PUB_PDF', 'PUB_HTML', 'EPRINT_PDF', 'EPRINT_HTML', 'AUTHOR_PDF', 'AUTHOR_HTML'];\n\n  var sortByDefaultOrdering = function sortByDefaultOrdering(sources) {\n    // initially sort the whole list by the DEFAULT_ORDERING array\n    var sortedSources = sources.sort(function (a, b) {\n      var aIndex = DEFAULT_ORDERING.indexOf(a.rawType);\n      var bIndex = DEFAULT_ORDERING.indexOf(b.rawType); // If both elements are in the DEFAULT_ORDERING array, sort based on their indices\n\n      if (aIndex !== -1 && bIndex !== -1) {\n        return aIndex - bIndex;\n      } // If only 'a' is in DEFAULT_ORDERING, move it before 'b'\n\n\n      if (aIndex !== -1) {\n        return -1;\n      } // If only 'b' is in DEFAULT_ORDERING, move it before 'a'\n\n\n      if (bIndex !== -1) {\n        return 1;\n      } // If both elements are not in DEFAULT_ORDERING, maintain their relative order\n\n\n      return 0;\n    }); // then make sure that sources in DEFAULT_ORDERING are pushed to the top\n\n    return [].concat(_toConsumableArray(sortedSources.filter(function (source) {\n      return DEFAULT_ORDERING.includes(source.rawType);\n    })), _toConsumableArray(sortedSources.filter(function (source) {\n      return !DEFAULT_ORDERING.includes(source.rawType);\n    })));\n  };\n  /**\n   * @typedef {Object} LinkType\n   * @property {string} name - Full name\n   * @property {string} shortName - shorter name for display\n   * @property {string} description - longer description\n   * @property {('PDF' | 'SCAN' | 'HTML')} type - Resource type\n   */\n\n  /**\n   * set of link types and descriptions\n   * @type {Object.<string, LinkType>}\n   */\n\n\n  var LINK_TYPES = {\n    '4TU.ResearchData': {\n      shortName: '4TU.ResearchData',\n      description: 'International data repository for science, engineering and design'\n    },\n    AcA: {\n      shortName: 'AcA',\n      description: 'Acta Astronomica Data Files'\n    },\n    ADS_PDF: {\n      name: 'ADS PDF',\n      shortName: 'ADS',\n      description: 'ADS PDF',\n      type: 'PDF'\n    },\n    ADS_SCAN: {\n      name: 'ADS Scanned Article',\n      description: 'ADS scanned article',\n      shortName: 'ADS',\n      type: 'SCAN'\n    },\n    AHED: {\n      shortName: 'AHED',\n      description: 'Astrobiology Habitable Environments Database'\n    },\n    ALMA: {\n      shortName: 'ALMA',\n      description: 'Atacama Large Millimeter/submillimeter Array'\n    },\n    ArcticData: {\n      shortName: 'ArcticData',\n      description: 'Arctic Data Center'\n    },\n    ARI: {\n      shortName: 'ARI',\n      description: 'Astronomisches Rechen-Institut'\n    },\n    ARTEMIS: {\n      shortName: 'ARTEMIS',\n      description: 'Acceleration Reconnection Turbulence & Electrodynamics of Moon Interaction with the Sun'\n    },\n    AstroGeo: {\n      shortName: 'AstroGeo',\n      description: 'USGS Astrogeology Science Center'\n    },\n    Astroverse: {\n      shortName: 'Astroverse',\n      description: 'CfA Dataverse'\n    },\n    ASU: {\n      shortName: 'ASU',\n      description: 'Arizona State University'\n    },\n    ATNF: {\n      shortName: 'ATNF',\n      description: 'Australia Telescope Online Archive'\n    },\n    Author: {\n      shortName: 'Author',\n      description: 'Author Hosted Dataset'\n    },\n    AUTHOR_HTML: {\n      name: 'Author Article',\n      shortName: 'Author',\n      description: 'Link to HTML page provided by author',\n      type: 'HTML'\n    },\n    AUTHOR_PDF: {\n      name: 'Author PDF',\n      shortName: 'Author',\n      description: 'Link to PDF page provided by author',\n      type: 'PDF'\n    },\n    BAS: {\n      shortName: 'BAS',\n      description: 'British Antarctic Survey'\n    },\n    BAVJ: {\n      shortName: 'BAVJ',\n      description: 'Data of the German Association for Variable Stars'\n    },\n    BICEP2: {\n      shortName: 'BICEP2',\n      description: 'BICEP/Keck Data'\n    },\n    CADC: {\n      shortName: 'CADC',\n      description: 'Canadian Astronomy Data Center'\n    },\n    Caltech: {\n      shortName: 'Caltech',\n      description: 'California Institute of Technology'\n    },\n    CDS: {\n      shortName: 'CDS',\n      description: 'Strasbourg Astronomical Data Center'\n    },\n    Chandra: {\n      shortName: 'Chandra',\n      description: 'Chandra X-Ray Observatory'\n    },\n    ClimateDataStore: {\n      shortName: 'ClimateDataStore',\n      description: 'Climate Data Store'\n    },\n    CMDN: {\n      shortName: 'CMDN',\n      description: 'China Meteorological Data Service Centre'\n    },\n    CXO: {\n      shortName: 'CXO',\n      description: 'Chandra Data Archive'\n    },\n    DARTS: {\n      shortName: 'DARTS',\n      description: 'Data ARchives and Transmission System'\n    },\n    Dataverse: {\n      shortName: 'Dataverse',\n      description: 'Dataverse Project'\n    },\n    Dryad: {\n      shortName: 'Dryad',\n      description: 'International Repository of Research Data'\n    },\n    EARTHCHEM: {\n      shortName: 'EARTHCHEM',\n      description: 'Open-access repository for geochemical datasets'\n    },\n    ECMWF: {\n      shortName: 'ECMWF',\n      description: 'European Centre for Medium-Range Weather Forecasts'\n    },\n    EMFISIS: {\n      shortName: 'EMFISIS',\n      description: 'An instrument suite on the Van Allen Probes'\n    },\n    EPRINT_HTML: {\n      name: 'Preprint Article',\n      shortName: 'Preprint',\n      description: 'Preprint article',\n      type: 'HTML'\n    },\n    EPRINT_PDF: {\n      name: 'Preprint PDF',\n      shortName: 'Preprint',\n      description: 'Preprint PDF',\n      type: 'PDF'\n    },\n    ERGSC: {\n      shortName: 'ERGSC',\n      description: 'ERG Science Center'\n    },\n    ESA: {\n      shortName: 'ESA',\n      description: 'ESAC Science Data Center'\n    },\n    ESGF: {\n      shortName: 'ESGF',\n      description: 'Earth System Grid Federation'\n    },\n    ESO: {\n      shortName: 'ESO',\n      description: 'European Southern Observatory'\n    },\n    ETHZ: {\n      shortName: 'ETHZ',\n      description: 'ETH Zurich Research Collection'\n    },\n    FDSN: {\n      shortName: 'FDSN',\n      description: 'International Federation of Digital Seismograph Networks'\n    },\n    Figshare: {\n      shortName: 'Figshare',\n      description: 'Online Open Access Repository'\n    },\n    figshare: {\n      shortName: 'figshare',\n      description: 'Online Open Access Repository'\n    },\n    GCPD: {\n      shortName: 'GCPD',\n      description: 'The General Catalogue of Photometric Data'\n    },\n    Gemini: {\n      shortName: 'Gemini',\n      description: 'Gemini Observatory Archive'\n    },\n    Github: {\n      shortName: 'Github',\n      description: 'Web-based version-control and collaboration platform for software developers.'\n    },\n    GRAS: {\n      shortName: 'GRAS',\n      description: 'Lunar and Planet Exploration Program Ground Application System'\n    },\n    GTC: {\n      shortName: 'GTC',\n      description: 'Gran Telescopio CANARIAS Public Archive'\n    },\n    HEASARC: {\n      shortName: 'HEASARC',\n      description: 'NASA High Energy Astrophysics Science Archive Research Center'\n    },\n    Herschel: {\n      shortName: 'Herschel',\n      description: 'Herschel Science Center'\n    },\n    IBVS: {\n      shortName: 'IBVS',\n      description: 'Information Bulletin on Variable Stars'\n    },\n    INES: {\n      shortName: 'INES',\n      description: 'IUE Newly Extracted Spectra'\n    },\n    IRIS: {\n      shortName: 'IRIS',\n      description: 'Incorporated Research Institutions for Seismology'\n    },\n    IRSA: {\n      shortName: 'IRSA',\n      description: 'NASA/IPAC Infrared Science Archive'\n    },\n    ISO: {\n      shortName: 'ISO',\n      description: 'Infrared Space Observatory'\n    },\n    JOSS: {\n      shortName: 'JOSS',\n      description: 'Journal of Open Source Software'\n    },\n    JWST: {\n      shortName: 'JWST',\n      description: 'JWST Proposal Info'\n    },\n    KOA: {\n      shortName: 'KOA',\n      description: 'Keck Observatory Archive'\n    },\n    LAADS: {\n      shortName: 'LAADS',\n      description: 'Level-1 and Atmosphere Archive & Distribution System Distributed Active Archive Center'\n    },\n    label: {\n      shortName: 'label',\n      description: 'name'\n    },\n    LASP: {\n      shortName: 'LASP',\n      description: 'Laboratory for Atmospheric and Space Physics'\n    },\n    LPL: {\n      shortName: 'LPL',\n      description: 'Lunar and Planetary Laboratory'\n    },\n    MAST: {\n      shortName: 'MAST',\n      description: 'Mikulski Archive for Space Telescopes'\n    },\n    MetOffice: {\n      shortName: 'MetOffice',\n      description: 'Met Office'\n    },\n    MIT: {\n      shortName: 'MIT',\n      description: 'Massachusetts Institute of Technology'\n    },\n    NASA: {\n      shortName: 'NASA',\n      description: 'NASA Data Portal'\n    },\n    NCAR: {\n      shortName: 'NCAR',\n      description: 'National Center for Atmospheric Research'\n    },\n    NED: {\n      shortName: 'NED',\n      description: 'NASA/IPAC Extragalactic Database'\n    },\n    NExScI: {\n      shortName: 'NExScI',\n      description: 'NASA Exoplanet Archive'\n    },\n    NOAA: {\n      shortName: 'NOAA',\n      description: 'National Oceanic and Atmospheric Administration'\n    },\n    NOAO: {\n      shortName: 'NOAO',\n      description: 'National Optical Astronomy Observatory'\n    },\n    OSF: {\n      shortName: 'OSF',\n      description: 'Open Science Foundation'\n    },\n    PANGAEA: {\n      shortName: 'PANGAEA',\n      description: 'Digital Data Library and a Data Publisher for Earth System Science'\n    },\n    pangaea: {\n      shortName: 'pangaea',\n      description: 'Digital Data Library and a Data Publisher for Earth System Science'\n    },\n    PASA: {\n      shortName: 'PASA',\n      description: 'Publication of the Astronomical Society of Australia Datasets'\n    },\n    PDG: {\n      shortName: 'PDG',\n      description: 'Particle Data Group'\n    },\n    PDS: {\n      shortName: 'PDS',\n      description: 'The NASA Planetary Data System'\n    },\n    PDSS: {\n      shortName: 'PDSS',\n      description: 'The NASA Planetary Data System'\n    },\n    PIK: {\n      shortName: 'PIK',\n      description: 'Potsdam Institute for Climate Impact Research'\n    },\n    protocols: {\n      shortName: 'protocols',\n      description: 'Collaborative Platform and Preprint Server for Science Methods and Protocols'\n    },\n    PUB_HTML: {\n      name: 'Publisher Article',\n      shortName: 'Publisher',\n      description: 'Electronic on-line publisher article (HTML)',\n      type: 'HTML'\n    },\n    PUB_PDF: {\n      name: 'Publisher PDF',\n      shortName: 'Publisher',\n      description: 'Publisher PDF',\n      type: 'PDF'\n    },\n    ScienceBase: {\n      shortName: 'ScienceBase',\n      description: 'ScienceBase'\n    },\n    SIMBAD: {\n      shortName: 'SIMBAD',\n      description: 'SIMBAD Database at the CDS'\n    },\n    Spitzer: {\n      shortName: 'Spitzer',\n      description: 'Spitzer Space Telescope'\n    },\n    TDR: {\n      shortName: 'TDR',\n      description: 'Texas Data Respository'\n    },\n    THEMIS: {\n      shortName: 'THEMIS',\n      description: 'Time History of Events and Macroscopic Interactions During Substorms'\n    },\n    TNS: {\n      shortName: 'TNS',\n      description: 'Transient Name Server'\n    },\n    UNAVCO: {\n      shortName: 'UNAVCO',\n      description: 'UNAVCO'\n    },\n    Vizier: {\n      shortName: 'VizieR',\n      description: 'VizieR Catalog Service'\n    },\n    XMM: {\n      shortName: 'XMM',\n      description: 'XMM Newton Science Archive'\n    },\n    Zenodo: {\n      shortName: 'Zenodo',\n      description: 'Zenodo Archive'\n    }\n  };\n\n  var enc = function enc(str) {\n    return encodeURIComponent(str);\n  };\n  /**\n   * Create the resolver url\n   * @param {string} bibcode - the bibcode\n   * @param {string} target - the source target (i.e. PUB_HTML)\n   * @returns {string} - the new url\n   */\n\n\n  var _createGatewayUrl = function _createGatewayUrl(bibcode, target) {\n    if (_.isString(bibcode) && _.isString(target)) {\n      return GATEWAY_BASE_URL + enc(bibcode) + '/' + target;\n    }\n\n    return '';\n  };\n  /**\n   * process the link data\n   *\n   * Proceeds in this manner:\n   * 1. Check the property to find ESOURCE and DATA\n   * 2. If there, find the property on the parent object\n   * 3. Process by some rules\n   *  3.1. If OPENACCESS property is present, then all esourses ending with _HTML are open\n   *  3.2. If <field>_OPENACCESS property is present, then the corresponding esource field is open\n   *  3.3. If electr field is present, check if a linkServer is provided among some other things\n   *\n   * @param {object} data - the data object to process\n   * @returns {object} - the fulltext and data sources\n   */\n\n\n  var _processLinkData = function _processLinkData(data) {\n    var createGatewayUrl = this._createGatewayUrl;\n    var fullTextSources = [];\n    var dataProducts = [];\n    var countOpenUrls = 0;\n    var property = data.property; // check the esources property\n\n    _.forEach(data.esources, function (el) {\n      var parts = el.split('_');\n      var linkInfo = LINK_TYPES[el];\n      var linkServer = data.link_server;\n      var identifier = data.doi || data.issn || data.isbn; // Create an OpenURL\n      // Only create an openURL if the following is true:\n      //   - The article HAS an Identifier (doi, issn, isbn)\n      //   - The user is authenticated\n      //   - the user HAS a library link server\n\n      if (identifier && linkServer && countOpenUrls < 1) {\n        fullTextSources.push({\n          url: getOpenUrl({\n            metadata: data,\n            linkServer: linkServer\n          }),\n          openUrl: true,\n          type: 'INSTITUTION',\n          shortName: 'My Institution',\n          name: 'My Institution',\n          description: 'Find Article At My Institution',\n          rawType: 'INSTITUTION'\n        });\n        countOpenUrls += 1;\n      }\n\n      if (parts.length > 1) {\n        // if the entry is a publisher link, we need to do an extra step\n        if (parts[0] === 'PUB') {\n          fullTextSources.push({\n            url: createGatewayUrl(data.bibcode, el),\n            open: _.contains(property, parts[0] + '_OPENACCESS'),\n            // if the publisher field is present, use it as the shortName & name\n            shortName: data.publisher || linkInfo && linkInfo.shortName || el,\n            name: data.publisher || linkInfo && linkInfo.name || el,\n            type: linkInfo && linkInfo.type || 'HTML',\n            description: linkInfo && linkInfo.description,\n            rawType: el\n          });\n        } else {\n          fullTextSources.push({\n            url: createGatewayUrl(data.bibcode, el),\n            open: _.contains(property, parts[0] + '_OPENACCESS'),\n            shortName: linkInfo && linkInfo.shortName || el,\n            name: linkInfo && linkInfo.name || el,\n            type: linkInfo && linkInfo.type || 'HTML',\n            description: linkInfo && linkInfo.description,\n            rawType: el\n          });\n        } // if entry cannot be split, then it will not be open access\n\n      } else {\n        fullTextSources.push({\n          url: createGatewayUrl(data.bibcode, el),\n          open: false,\n          shortName: linkInfo && linkInfo.shortName || el,\n          name: linkInfo && linkInfo.name || el,\n          type: linkInfo && linkInfo.type || 'HTML',\n          description: linkInfo && linkInfo.description,\n          rawType: el\n        });\n      }\n    }); // if no preprint link is present, check links_data as well to make sure\n\n\n    var hasEprint = _.find(fullTextSources, {\n      name: LINK_TYPES.EPRINT_PDF.name\n    });\n\n    if (!hasEprint && _.isArray(data.links_data)) {\n      _.forEach(data.links_data, function (linkData) {\n        var link = JSON.parse(linkData);\n\n        if (/preprint/i.test(link.type)) {\n          var info = LINK_TYPES.EPRINT_PDF;\n          fullTextSources.push({\n            url: link.url,\n            open: true,\n            shortName: info && info.shortName || link.type,\n            name: info && info.name || link.type,\n            type: info && info.type || 'HTML',\n            description: info && info.description,\n            rawType: 'EPRINT_PDF'\n          });\n        }\n      });\n    } // check the data property\n\n\n    _.forEach(data.data, function (product) {\n      var parts = product.split(':');\n      var linkInfo = LINK_TYPES[parts[0]]; // are there any without a count? just make them 1\n\n      if (parts.length > 1) {\n        dataProducts.push({\n          url: createGatewayUrl(data.bibcode, parts[0]),\n          count: parts[1],\n          name: linkInfo ? linkInfo.shortName : parts[0],\n          description: linkInfo ? linkInfo.description : parts[0]\n        });\n      } else {\n        dataProducts.push({\n          url: createGatewayUrl(data.bibcode, product),\n          count: '1',\n          name: linkInfo ? linkInfo.shortName : product,\n          description: linkInfo ? linkInfo.description : product\n        });\n      }\n    }); // sort the data products by descending by count\n\n\n    dataProducts = _.sortBy(dataProducts, 'count').reverse();\n    return {\n      fullTextSources: sortByDefaultOrdering(fullTextSources),\n      dataProducts: dataProducts\n    };\n  };\n  /**\n   * Parse a data object to pull out the references/citations and table of contents\n   * it will also return a copy of the data object with a links property added\n   * @param {object} _data - the data object to parse\n   * @returns {object} - copy of the data object with links prop added\n   */\n\n\n  var _parseLinksDataForModel = function _parseLinksDataForModel(_data, linksData) {\n    var links = {\n      list: [],\n      data: [],\n      text: []\n    };\n\n    var data = _.extend({}, _data, {\n      links: links\n    }); // map linksData to links object\n\n\n    if (_.isPlainObject(linksData)) {\n      links = _.assign(links, {\n        data: links.data.concat(linksData.dataProducts || []),\n        text: links.text.concat(linksData.fullTextSources || [])\n      });\n    }\n\n    if (_.isPlainObject(data)) {\n      // check for the citations property\n      if (_.isPlainObject(data['[citations]']) && _.isString(data.bibcode)) {\n        var citations = data['[citations]']; // push it onto the links if the citation count is higher than 0\n\n        if (_.isNumber(citations.num_citations) && citations.num_citations > 0) {\n          links.list.push({\n            letter: 'C',\n            name: 'Citations (' + citations.num_citations + ')',\n            url: '#abs/' + enc(data.bibcode) + '/citations'\n          });\n        } // push onto the links if the reference count is higher than 0\n\n\n        if (_.isNumber(citations.num_references) && citations.num_references > 0) {\n          links.list.push({\n            letter: 'R',\n            name: 'References (' + citations.num_references + ')',\n            url: '#abs/' + enc(data.bibcode) + '/references'\n          });\n        }\n      } // check that we have property and whether table of contents is found\n\n\n      if (_.isArray(data.property) && _.isString(data.bibcode)) {\n        if (_.contains(data.property, 'TOC')) {\n          links.list.push({\n            letter: 'T',\n            name: 'Table of Contents',\n            url: '#abs/' + enc(data.bibcode) + '/toc'\n          });\n        }\n      }\n    } else {\n      throw new Error('data must be a plain object');\n    }\n\n    return data;\n  };\n  /**\n   * Takes data--a json object from apiResponse--and augments it with a \"links\"\n   * object. This is used for item views in the results widget. This is to be called\n   * by the processData method of a widget.\n   *\n   */\n\n\n  var parseLinksData = function parseLinksData(data) {\n    var parseLinksDataForModel = _.bind(this._parseLinksDataForModel, this);\n\n    var parseResourcesData = _.bind(this.parseResourcesData, this);\n\n    if (_.isArray(data)) {\n      return _.map(data, function (d) {\n        try {\n          var linkData = parseResourcesData(d);\n          return parseLinksDataForModel(d, linkData);\n        } catch (e) {\n          return d;\n        }\n      });\n    }\n\n    return [];\n  };\n  /**\n   * Check that data is an object and that it has the correct properties\n   *\n   * @param {object} data - the data to parse\n   */\n\n\n  var parseResourcesData = function parseResourcesData(data) {\n    var processLinkData = _.bind(this._processLinkData, this); // data must have 'property' and sub-props\n\n\n    if (_.isPlainObject(data)) {\n      if (_.isArray(data.property) && _.isString(data.bibcode)) {\n        // make sure if property has a esource or data, we find it on data as well\n        if (_.contains(data.property, 'ESOURCE') && !_.has(data, 'esources')) {\n          throw new Error('if `property` property contains `ESOURCE`, then data must have `esources` field');\n        }\n\n        if (_.contains(data.property, 'DATA') && !_.has(data, 'data')) {\n          throw new Error('if `property` property contains `DATA`, then data must have `data` field');\n        }\n\n        return processLinkData(_.extend({}, data));\n      }\n\n      throw new Error('data must have `property` and `bibcode`');\n    } else {\n      throw new Error('data must be a plain object');\n    }\n  };\n  /**\n   * Takes in a type and an identifier and will generate a link\n   * @param {string} bibcode - the bibcode\n   * @param {string} type - the type of identifier\n   * @param {string|array} identifier - the identifier to use to build the url\n   * @returns {string}\n   */\n\n\n  var createUrlByType = function createUrlByType(bibcode, type, identifier) {\n    var id = identifier;\n\n    if (_.isArray(id)) {\n      id = id[0];\n    }\n\n    if (_.isString(bibcode) && _.isString(type) && _.isString(id)) {\n      return GATEWAY_BASE_URL + bibcode + '/' + type + ':' + id;\n    }\n\n    return '';\n  };\n\n  return {\n    LINK_TYPES: LINK_TYPES,\n    parseLinksData: parseLinksData,\n    parseResourcesData: parseResourcesData,\n    createUrlByType: createUrlByType,\n    _createGatewayUrl: _createGatewayUrl,\n    _processLinkData: _processLinkData,\n    _parseLinksDataForModel: _parseLinksDataForModel\n  };\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/link_generator_mixin.js?");

/***/ }),

/***/ "./src/js/mixins/openurl_generator.js":
/*!********************************************!*\
  !*** ./src/js/mixins/openurl_generator.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_) {\n  /**\n   * @typedef Metadata\n   * @property {string[]} page\n   * @property {string[]} doi\n   * @property {string} doctype\n   * @property {string} bibcode\n   * @property {string} author\n   * @property {string} issue\n   * @property {string} volume\n   * @property {string} pub\n   * @property {string} year\n   * @property {string[]} title\n   * @property {string[]} issn\n   * @property {string[]} isbn\n   */\n\n  /**\n   * check if value is string\n   * @param {any} val value to test\n   * @returns {boolean}\n   */\n  var isString = function isString(val) {\n    return _.isString(val);\n  };\n  /**\n   * Check if value is an array\n   * @param {any} val value to test\n   * @returns {boolean}\n   */\n\n\n  var isArray = function isArray(val) {\n    return _.isArray(val);\n  };\n  /**\n   * ADS specific fields\n   */\n\n\n  var STATIC_FIELDS = {\n    url_ver: 'Z39.88-2004',\n    rft_val_fmt: 'info:ofi/fmt:kev:mtx:',\n    rfr_id: 'info:sid/ADS',\n    sid: 'ADS'\n  };\n  /**\n   * Generates an OpenUrl using metadata and a linkServer\n   * @param {object} options\n   * @param {Metadata} options.metadata field data from database\n   * @param {string} options.linkServer base url to use for generating link\n   * @returns {string} the openUrl url\n   */\n\n  var getOpenUrl = function getOpenUrl(options) {\n    var _ref = options || {},\n        metadata = _ref.metadata,\n        _ref$linkServer = _ref.linkServer,\n        linkServer = _ref$linkServer === void 0 ? '' : _ref$linkServer;\n\n    var _ref2 = metadata || {},\n        page = _ref2.page,\n        doi = _ref2.doi,\n        doctype = _ref2.doctype,\n        bibcode = _ref2.bibcode,\n        author = _ref2.author,\n        issue = _ref2.issue,\n        volume = _ref2.volume,\n        pub = _ref2.pub,\n        year = _ref2.year,\n        title = _ref2.title,\n        issn = _ref2.issn,\n        isbn = _ref2.isbn; // parse out degree based on bibcode\n\n\n    var degree = isString(bibcode) && (bibcode.includes('PhDT') ? 'PhD' : bibcode.includes('MsT') ? 'Masters' : false); // genre is \"disseration\" for phd thesis, otherwise use doctype/article\n\n    var genre = isString(doctype) && isString(bibcode) && bibcode.includes('PhDT') ? 'dissertation' : isString(doctype) ? doctype : 'article'; // parse various fields to create a context object\n\n    var parsed = _objectSpread({}, STATIC_FIELDS, {\n      'rft.spage': isArray(page) ? page[0].split('-')[0] : false,\n      id: isArray(doi) ? 'doi:' + doi[0] : false,\n      genre: genre,\n      rft_id: [isArray(doi) ? 'info:doi/' + doi[0] : false, isString(bibcode) ? 'info:bibcode/' + bibcode : false],\n      'rft.degree': degree,\n      'rft.aulast': isString(author) ? author.split(', ')[0] : false,\n      'rft.aufirst': isString(author) ? author.split(', ')[1] : false,\n      'rft.issue': isString(issue) ? issue : false,\n      'rft.volume': isString(volume) ? volume : false,\n      'rft.jtitle': isString(pub) ? pub : false,\n      'rft.date': isString(year) ? year : false,\n      'rft.atitle': isArray(title) ? title[0] : false,\n      'rft.issn': isArray(issn) ? issn[0] : false,\n      'rft.isbn': isArray(isbn) ? isbn[0] : false,\n      'rft.genre': genre,\n      rft_val_fmt: STATIC_FIELDS.rft_val_fmt + (isString(doctype) ? doctype : 'article')\n    }); // add extra fields to context object\n\n\n    var context = _objectSpread({}, parsed, {\n      spage: parsed['rft.spage'],\n      volume: parsed['rft.volume'],\n      title: parsed['rft.jtitle'],\n      atitle: parsed['rft.atitle'],\n      aulast: parsed['rft.aulast'],\n      aufirst: parsed['rft.aufirst'],\n      date: parsed['rft.date'],\n      isbn: parsed['rft.isbn'],\n      issn: parsed['rft.issn']\n    }); // if the linkServer has query string, just append to the end\n\n\n    var openUrl = linkServer.includes('?') ? linkServer + '&' : linkServer + '?'; // generate array of query params from the context object\n\n    var fields = Object.keys(context).filter(function (k) {\n      return context[k];\n    }).map(function (key) {\n      if (context[key]) {\n        if (isArray(context[key])) {\n          return context[key].filter(function (v) {\n            return v;\n          }).map(function (val) {\n            return \"\".concat(key, \"=\").concat(val);\n          }).join('&');\n        }\n\n        return \"\".concat(key, \"=\").concat(context[key]);\n      }\n    });\n    return encodeURI(openUrl + fields.join('&'));\n  };\n\n  return {\n    getOpenUrl: getOpenUrl\n  };\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/openurl_generator.js?");

/***/ }),

/***/ "./src/js/mixins/papers_utils.js":
/*!***************************************!*\
  !*** ./src/js/mixins/papers_utils.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _wrapRegExp() { _wrapRegExp = function _wrapRegExp(re, groups) { return new BabelRegExp(re, undefined, groups); }; var _super = RegExp.prototype; var _groups = new WeakMap(); function BabelRegExp(re, flags, groups) { var _this = new RegExp(re, flags); _groups.set(_this, groups || _groups.get(re)); return _setPrototypeOf(_this, BabelRegExp.prototype); } _inherits(BabelRegExp, RegExp); BabelRegExp.prototype.exec = function (str) { var result = _super.exec.call(this, str); if (result) result.groups = buildGroups(result, this); return result; }; BabelRegExp.prototype[Symbol.replace] = function (str, substitution) { if (typeof substitution === \"string\") { var groups = _groups.get(this); return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) { return \"$\" + groups[name]; })); } else if (typeof substitution === \"function\") { var _this = this; return _super[Symbol.replace].call(this, str, function () { var args = arguments; if (_typeof(args[args.length - 1]) !== \"object\") { args = [].slice.call(args); args.push(buildGroups(args, _this)); } return substitution.apply(this, args); }); } else { return _super[Symbol.replace].call(this, str, substitution); } }; function buildGroups(result, re) { var g = _groups.get(re); return Object.keys(g).reduce(function (groups, name) { groups[name] = result[g[name]]; return groups; }, Object.create(null)); } return _wrapRegExp.apply(this, arguments); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_) {\n  return {\n    /**\n     * Receives the  ISO8601 date string (actually, browsers will be able to parse\n     * range of date strings, but you should be careful and not count on that!)\n     *\n     * And returns a string in requested format; when the minute is set to 0,\n     * we will that the month was not given (ADS didn't know about it)\n     *\n     * @param dateString\n     *    string in ISO8601 format\n     * @param format\n     *    string, jquery-ui datepicker for options\n     * @param options\n     * @returns {*}\n     */\n    formatDate: function formatDate(dateString) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$format = options.format,\n          format = _options$format === void 0 ? 'YYYY/MM' : _options$format;\n\n      var regex = _wrapRegExp(/^(\\d{4})-(\\d{2}|00)-(\\d{2}|00)$/, {\n        year: 1,\n        month: 2,\n        day: 3\n      });\n\n      var match = dateString.match(regex);\n      if (!match) return null;\n      var _match$groups = match.groups,\n          year = _match$groups.year,\n          month = _match$groups.month,\n          day = _match$groups.day;\n      var monthMissing = month === '00';\n      var dayMissing = day === '00';\n      var y = parseInt(year, 10);\n      var m = monthMissing ? 0 : parseInt(month, 10) - 1;\n      var d = dayMissing ? 1 : parseInt(day, 10);\n      var date = new Date(Date.UTC(y, m, d));\n      if (_.isNaN(date.getTime())) return y.toString(); // Determine the output based on missing parts\n\n      if (monthMissing && dayMissing) return y.toString();\n      if (monthMissing) return y.toString();\n      if (dayMissing) return \"\".concat(y, \"/\").concat((m + 1).toString().padStart(2, '0')); // Full format (only 'YYYY/MM' supported for now)\n\n      if (format === 'YYYY/MM') {\n        return \"\".concat(y, \"/\").concat((m + 1).toString().padStart(2, '0'));\n      } // Fallback: return ISO date\n\n\n      return date.toISOString().split('T')[0];\n    },\n    shortenAbstract: function shortenAbstract(abs, maxLen) {\n      maxLen = maxLen || 300; // if this function returns undefined,\n      // the template knows to just show the whole abstract\n\n      if (abs.length <= maxLen) return undefined;\n      var i = abs.slice(0, maxLen).lastIndexOf(' ');\n      return abs.slice(0, i + 1) + '...';\n    },\n\n    /**\n     * This method prepares data for consumption by the template on a per-doc basis\n     *\n     * @returns {*}\n     */\n    prepareDocForViewing: function prepareDocForViewing(data) {\n      var shownAuthors;\n      var maxAuthorNames = 3;\n\n      if (data.author && data.author.length > maxAuthorNames) {\n        data.extraAuthors = data.author.length - maxAuthorNames;\n        shownAuthors = data.author.slice(0, maxAuthorNames);\n      } else if (data.author) {\n        shownAuthors = data.author;\n      }\n\n      if (data.author) {\n        var format = function format(d, i, arr) {\n          var l = arr.length - 1;\n\n          if (i === l || l === 0) {\n            return d; // last one, or only one\n          }\n\n          return d + ';';\n        };\n\n        data.authorFormatted = _.map(shownAuthors, format);\n        data.allAuthorFormatted = _.map(data.author, format);\n      }\n\n      data.formattedDate = data.formattedDate || (data.pubdate ? this.formatDate(data.pubdate) : undefined);\n      data.shortAbstract = data.abstract ? this.shortenAbstract(data.abstract) : undefined;\n      data.details = data.details || {\n        shortAbstract: data.shortAbstract,\n        pub: data.pub,\n        abstract: data.abstract\n      };\n      data.num_citations = data['[citations]'] ? data['[citations]'].num_citations : undefined;\n      data.identifier = data.bibcode ? data.bibcode : data.identifier; // make sure undefined doesn't become \"undefined\"\n\n      data.encodedIdentifier = _.isUndefined(data.identifier) ? data.identifier : encodeURIComponent(data.identifier);\n\n      if (data.pubdate || data.shortAbstract) {\n        data.popover = true;\n      }\n\n      if (this.model) data.orderNum = this.model.get('resultsIndex') + 1;\n      return data;\n    }\n  };\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/papers_utils.js?");

/***/ }),

/***/ "./src/js/mixins/widget_mixin_method.js":
/*!**********************************************!*\
  !*** ./src/js/mixins/widget_mixin_method.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/mixins/widget_utility */ \"./src/js/mixins/widget_utility.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Utils) {\n  var mixin = function mixin(from, methods) {\n    var to = this.prototype; // we add those methods which exists on `from` but not on `to` to the latter\n\n    _.extend(from, to); // … and we do the same for events\n\n\n    _.extend(from.events, to.events);\n\n    _.each(Array.prototype.slice.call(arguments, 1), function (m) {\n      Utils.extendMethod(to, from, m);\n    });\n  };\n\n  return mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_mixin_method.js?");

/***/ }),

/***/ "./src/js/mixins/widget_state_manager.js":
/*!***********************************************!*\
  !*** ./src/js/mixins/widget_state_manager.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/api_feedback */ \"./src/js/components/api_feedback.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, ApiFeedback) {\n  /**\n   * Abstract error pubsub-like manager.  Allows for hooks to be applied that\n   * match API feedback codes\n   *\n   * @constructor\n   */\n  var ErrorHandlerManager = function ErrorHandlerManager() {\n    this.handlers = {};\n    /**\n     * Attach a new handler to an API feedback code\n     *\n     * @param {Number} code - feedback code\n     * @param {function} cb - callback function\n     */\n\n    this.on = function (code, cb) {\n      this.handlers[code].push(cb);\n    };\n    /**\n     * Remove handler by passing in the callback function\n     *\n     * @param {function} cb - callback function\n     */\n\n\n    this.off = function (cb) {\n      _.forEach(this.handlers, function (v, k) {\n        var idx = v.indexOf(cb);\n\n        if (idx > -1) {\n          v.splice(idx, 1);\n        }\n      });\n    };\n    /**\n     * Fire off the callbacks for a particular code\n     *\n     * @param {Number} code - feedback code\n     * @param {Array} args - arguments to pass to the callback\n     * @param {object} ctx - callback's `this` property\n     */\n\n\n    this.fire = function (code, args, ctx) {\n      _.forEach(this.handlers[code], function (cb) {\n        cb.apply(ctx, args);\n      });\n    };\n\n    _.reduce(ApiFeedback.CODES, function (res, code) {\n      res[code] = [];\n      return res;\n    }, this.handlers);\n  };\n  /*\n    Widget state manager mixin\n     This mixin will allow widgets to call lifecycle updates which can then have\n    handlers attached.  The mixin can also serve as a way for page managers to\n    react to widget status updates, since certain widgets should be\n    handled differently depending on their type and importance.\n     The typical way this is used is to call `activateWidget` during the activate\n    call on the widget itself.  Then call the various state updates when the widget\n    is performing actions.\n     The default states are: ready, loading, idle, errored\n     Widgets can attach handlers to the various status updates (i.e. onReady, onLoading, etc.)\n     note: during the activation, the widget's pubsubkey is captured and is used\n    to identify the appropriate feedback.  This way the handlers aren't called for\n    events the widget doesn't care about.\n   */\n\n\n  var WidgetStateManagerMixin = {\n    STATES: {\n      LOADING: 'loading',\n      ERRORED: 'errored',\n      IDLE: 'idle',\n      READY: 'ready'\n    },\n\n    /**\n     * Creates a new instance of the handlerManager and subscribes to the\n     * api feedback calls.  It also sets the first state update.\n     */\n    activateWidget: function activateWidget() {\n      this.__widgetHandlerManager = new ErrorHandlerManager();\n      var pubsub = this.getPubSub();\n      pubsub.subscribe(pubsub.FEEDBACK, _.bind(this.__handleFeedback, this));\n      this.updateState('ready');\n    },\n\n    /**\n     * Upon new feedback from the API, this function will grab the current\n     * pubSubKey Id for this widget and compare it to the one listed on the\n     * feedback object.  If they match, then the handlers are fired off for that\n     * code.\n     *\n     * @param {ApiFeedback} feedback\n     * @param {PubSubKey} pubSubKey\n     * @private\n     */\n    __handleFeedback: function __handleFeedback(feedback, pubSubKey) {\n      var id = this.getPubSub().getCurrentPubSubKey().getId();\n\n      if (id === pubSubKey.getId()) {\n        this.__widgetHandlerManager.fire(feedback.code, arguments, this);\n      }\n    },\n\n    /**\n     * Attaches a new handler onto an API code\n     *\n     * @param {Number} code - feedback code\n     * @param {function} handler - handler function\n     */\n    attachHandler: function attachHandler(code, handler) {\n      try {\n        this.__widgetHandlerManager.on(code, handler);\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\n    /**\n     * Attaches a general handler to all api feedback codes\n     *\n     * Includes the positive error codes and api request failures\n     *\n     * @param {function} handler - handler function\n     */\n    attachGeneralHandler: function attachGeneralHandler(handler) {\n      _.forEach(ApiFeedback.CODES, _.bind(function (code) {\n        if (code > 0 || code === ApiFeedback.CODES.API_REQUEST_ERROR) {\n          this.attachHandler(code, handler);\n        }\n      }, this));\n    },\n\n    /**\n     * Detaches a particular handler from all codes\n     *\n     * @param cb\n     */\n    detachHandler: function detachHandler(cb) {\n      this.__widgetHandlerManager.off(cb);\n    },\n\n    /**\n     * Called when the state changes to 'ready'\n     */\n    onReady: _.noop,\n\n    /**\n     * Called when the state changes to 'loading'\n     */\n    onLoading: _.noop,\n\n    /**\n     * Called when the state changes to 'idle'\n     */\n    onIdle: _.noop,\n\n    /**\n     * Called when the state changes to 'errored'\n     */\n    onErrored: _.noop,\n\n    /**\n     * Called on all state changes\n     */\n    onStateChange: _.noop,\n\n    /**\n     * Called by widgets to update their own state.  This will update the current\n     * state and also call any handlers.\n     *\n     * @param {string} state - the state to update to\n     */\n    updateState: function updateState(state) {\n      if (!state || !_.isString(state) || state === this.__state) {\n        // do nothing\n        return;\n      }\n\n      var prev = this.__state;\n      this.__state = state;\n\n      this.__fireStateHandler();\n\n      this.onStateChange.call(this, state, prev);\n    },\n\n    /**\n     * Get the current state value\n     */\n    getState: function getState() {\n      return this.__state;\n    },\n\n    /**\n     * This method looks at the current state and if a matching handler is\n     * provided, it will call it accordingly.\n     *\n     * @private\n     */\n    __fireStateHandler: function __fireStateHandler() {\n      var handlers = {};\n      handlers.ready = this.onReady;\n      handlers.loading = this.onLoading;\n      handlers.idle = this.onIdle;\n      handlers.errored = this.onErrored;\n      handlers[this.__state] && handlers[this.__state].call(this, this);\n    }\n  };\n  return WidgetStateManagerMixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_state_manager.js?");

/***/ }),

/***/ "./src/js/mixins/widget_utility.js":
/*!*****************************************!*\
  !*** ./src/js/mixins/widget_utility.js ***!
  \*****************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var Utils = {}; // Helper method to extend an already existing method\n\n  Utils.extendMethod = function (to, from, methodName) {\n    // if the method is defined on from ...\n    if (!_.isUndefined(from[methodName])) {\n      var old = to[methodName]; // ... we create a new function on to\n\n      to[methodName] = function () {\n        // wherein we first call the method which exists on `to`\n        var oldReturn = old.apply(this, arguments); // and then call the method on `from`\n\n        from[methodName].apply(this, arguments); // and then return the expected result,\n        // i.e. what the method on `to` returns\n\n        return oldReturn;\n      };\n    }\n  };\n\n  return Utils;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_utility.js?");

/***/ }),

/***/ "./src/js/utils.js":
/*!*************************!*\
  !*** ./src/js/utils.js ***!
  \*************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./src/libs/jquery.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! analytics */ \"./src/js/components/analytics.js\"), __webpack_require__(/*! react */ \"./src/libs/react.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function ($, _, analytics, React, ApiQuery, ApiRequest) {\n  var qs = function qs(key, str, separator) {\n    // eslint-disable-next-line no-useless-escape\n    var k = key.replace(/[*+?^$.[\\]{}()|\\\\\\/]/g, '\\\\$&'); // escape RegEx meta chars\n\n    var pattern = '(^|[\\\\?&])' + k + '=[^&]*';\n    var match = (str || window.location.hash).match(new RegExp(pattern, 'g'));\n\n    if (!match) {\n      return null;\n    }\n\n    var clean = []; // remove 'key=' from string, combine with optional separator and unquote spaces\n\n    for (var i = 0; i < match.length; i += 1) {\n      clean.push(match[i].replace(new RegExp('(^|[\\\\?&])' + k + '='), ''));\n    }\n\n    if (separator) {\n      var msg = clean.join(separator); // works even if separator is undefined\n\n      return decodeURIComponent(msg.replace(/\\+/g, ' '));\n    }\n\n    if (separator === false) {\n      return _.map(clean, function (msg) {\n        return decodeURIComponent(msg.replace(/\\+/g, ' '));\n      });\n    }\n\n    return null;\n  };\n\n  var updateHash = function updateHash(key, value, hash) {\n    // eslint-disable-next-line no-useless-escape\n    var k = key.replace(/[*+?^$.[\\]{}()|\\\\\\/]/g, '\\\\$&');\n    var h = _.isString(hash) ? hash : window.location.hash;\n    var match = h.match(new RegExp('&?' + k + '=([^&]+)(&|$)'));\n\n    if (match) {\n      var mat = match[0].replace(match[1], value);\n      return h.replace(match[0], mat);\n    }\n\n    return hash;\n  };\n\n  var difference = function difference(obj, base) {\n    return _.transform(obj, function (result, value, key) {\n      if (!_.isEqual(value, base[key])) {\n        result[key] = _.isObject(value) && _.isObject(base[key]) ? difference(value, base[key]) : value;\n      }\n    });\n  }; // get the current browser information\n\n\n  var getBrowserInfo = function getBrowserInfo() {\n    // do this inline, so we only request when necessary\n    var $dd = $.Deferred(); // reject after 3 seconds\n\n    var timeoutId = setTimeout(function () {\n      $dd.reject();\n    }, 3000);\n\n    window.require(['bowser'], function (bowser) {\n      window.clearTimeout(timeoutId);\n      $dd.resolve(bowser.parse(window.navigator.userAgent));\n    }, function () {\n      $dd.reject();\n    });\n\n    return $dd.promise();\n  };\n\n  var TimingEvent = /*#__PURE__*/function () {\n    function TimingEvent() {\n      var timingVar = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Timers';\n      var timingCategory = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Generic Timer';\n      var timingLabel = arguments.length > 2 ? arguments[2] : undefined;\n\n      _classCallCheck(this, TimingEvent);\n\n      this.timingCategory = timingCategory;\n      this.timingVar = timingVar;\n      this.timingLabel = timingLabel;\n      this.time = null;\n    }\n\n    _createClass(TimingEvent, [{\n      key: \"start\",\n      value: function start() {\n        this.time = +new Date();\n        this._emitted = false;\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        // do not emit an event if we haven't started timing or already emitted\n        if (this._emitted) {\n          return;\n        }\n\n        var time = +new Date() - this.time;\n        analytics('send', 'timing', {\n          timingCategory: this.timingCategory,\n          timingVar: this.timingVar,\n          timingLabel: this.timingLabel,\n          timingValue: time\n        });\n        this._emitted = true;\n      }\n    }]);\n\n    return TimingEvent;\n  }();\n\n  var waitForSelector = function waitForSelector() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var $dd = $.Deferred();\n    var timeout = 3100; // 31 seconds\n\n    var ref = null;\n\n    (function check(n) {\n      var $el = $.apply(void 0, args);\n\n      if ($el.length) {\n        return $dd.resolve($el);\n      }\n\n      if (n >= timeout) {\n        return $dd.reject('timeout');\n      }\n\n      ref = setTimeout(function () {\n        window.requestAnimationFrame(function () {\n          check(n += 1);\n        });\n      }, 100);\n      return null;\n    })(0);\n\n    $dd.promise.destroy = function () {\n      window.clearTimeout(ref);\n      $dd.reject();\n    };\n\n    return $dd.promise();\n  };\n\n  var withPrerenderedContent = function withPrerenderedContent(view) {\n    view.handlePrerenderedContent = function (content, $el) {\n      // setup the elements so events are properly delegated\n      var selector = view.tagName + '.' + view.className;\n      view.$el = $(selector, $el); // stops mathjax from pre-rendering before we replace the content\n\n      $('>', view.$el).addClass('tex2jax_ignore');\n      view.el = view.$el.get(0);\n      view.delegateEvents(); // replace the current marionette template renderer for a moment\n\n      var _renderTmpl = view._renderTemplate;\n\n      view._renderTemplate = function () {}; // reset template renderer on first model change\n\n\n      view.model.once('change', function () {\n        view._renderTemplate = _renderTmpl;\n      });\n    };\n\n    return view;\n  };\n\n  var escapeRegExp = function escapeRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  };\n\n  var makeApiQuery = function makeApiQuery(params) {\n    return new ApiQuery(params);\n  };\n\n  var makeApiRequest = function makeApiRequest(params) {\n    return new ApiRequest(params);\n  };\n\n  var extractErrorMessageFromAjax = function extractErrorMessageFromAjax(maybeXHR, defaultMessage) {\n    if (typeof maybeXHR !== 'undefined' && typeof maybeXHR.responseJSON !== 'undefined') {\n      if (typeof maybeXHR.responseJSON.error === 'string') {\n        return maybeXHR.responseJSON.error;\n      } else if (typeof maybeXHR.responseJSON.message === 'string') {\n        return maybeXHR.responseJSON.message;\n      }\n    }\n\n    return defaultMessage;\n  };\n\n  return {\n    qs: qs,\n    updateHash: updateHash,\n    difference: difference,\n    getBrowserInfo: getBrowserInfo,\n    TimingEvent: TimingEvent,\n    waitForSelector: waitForSelector,\n    withPrerenderedContent: withPrerenderedContent,\n    escapeRegExp: escapeRegExp,\n    makeApiQuery: makeApiQuery,\n    makeApiRequest: makeApiRequest,\n    extractErrorMessageFromAjax: extractErrorMessageFromAjax\n  };\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/utils.js?");

/***/ }),

/***/ "./src/js/widgets/base/base_widget.js":
/*!********************************************!*\
  !*** ./src/js/widgets/base/base_widget.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/mixins/widget_mixin_method */ \"./src/js/mixins/widget_mixin_method.js\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\"), __webpack_require__(/*! js/mixins/dependon */ \"./src/js/mixins/dependon.js\"), __webpack_require__(/*! js/mixins/widget_state_manager */ \"./src/js/mixins/widget_state_manager.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, Marionette, ApiQuery, ApiRequest, WidgetMixin, ApiTargets, Dependon, WidgetStateManagerMixin) {\n  /**\n   * Default PubSub based widget; the main functionality is inside\n   *\n   *  dispa tchRequest()\n   *    - publishes ApiRequest object into PubSub (to initiate search)\n   *\n   *  processResponse()\n   *    - receives ApiResponse object as a direct reply for the previous\n   *      request\n   *\n   * You will want to override 'processResponse' method and possibly\n   * some of the other methods like this;\n   *\n   * var newWidgetClass = BaseWidget.extend({\n   *   composeRequest : function(){},\n   *   processRequest : function(){}\n   * });\n   *\n   * var newInstance = new newWidgetClass();\n   *\n   *\n   * If you need to provide your own views, do initalization etc., override\n   * initialize\n   *\n   * * var newWidgetClass = BaseWidget.extend({\n   *   initialize: function() {\n   *      // do something\n   *      BaseWidget.prototype.initialize.apply(this, arguments);\n   *   }\n   * });\n   *\n   *\n   * Some other options include:\n   *\n   *  defaultQueryArguments: this is a list of parameters added to each query\n   *\n   */\n  var BaseWidget = Marionette.Controller.extend({\n    initialize: function initialize(options) {\n      options = options || {}; // these methods are called by PubSub as handlers so we bind them to 'this' object\n      // and they will carry their own context 'this'\n\n      _.bindAll(this, 'dispatchRequest', 'processResponse');\n\n      this._currentQuery = new ApiQuery();\n      this.defaultQueryArguments = this.defaultQueryArguments || {};\n\n      if (options.defaultQueryArguments) {\n        this.defaultQueryArguments = _.extend(this.defaultQueryArguments, options.defaultQueryArguments);\n      }\n\n      if (options.view) {\n        this.view = options.view;\n        this.collection = options.view.collection;\n      } // our way of listening to views/models\n\n\n      if (this.view) Marionette.bindEntityEvents(this, this.view, Marionette.getOption(this, 'viewEvents'));\n      if (this.model) Marionette.bindEntityEvents(this, this.model, Marionette.getOption(this, 'modelEvents'));\n    },\n\n    /**\n     * Called by Bumblebee application when a widget is about to be registered\n     * it receives a BeeHive object, that contais methods/attributes that a\n     * widget needs to communicate with the app\n     *\n     * This is the place where you want to subscribe to events\n     *\n     * @param beehive\n     */\n    activate: function activate(beehive) {\n      this.setBeeHive(beehive);\n      var pubsub = beehive.getService('PubSub'); // custom dispatchRequest function goes here\n\n      pubsub.subscribe(pubsub.INVITING_REQUEST, _.bind(this.dispatchRequest, this)); // custom handleResponse function goes here\n\n      pubsub.subscribe(pubsub.DELIVERING_RESPONSE, _.bind(this.processResponse, this));\n    },\n\n    /**\n     * You should use this method when you want to initiaze global search action\n     * (ie. send a query to the pubsub)\n     *\n     * @param apiQuery\n     */\n    dispatchNewQuery: function dispatchNewQuery(apiQuery) {\n      // remove the arguments that are useful only to this widget\n      _.each(this.defaultQueryArguments, function (v, k) {\n        apiQuery.unset(k);\n      });\n\n      var pubsub = this.getPubSub();\n      pubsub.publish(pubsub.NAVIGATE, 'search-page', {\n        q: apiQuery\n      });\n    },\n\n    /**\n     * Default callback to be called by PubSub on 'INVITING_REQUEST'\n     */\n    dispatchRequest: function dispatchRequest(apiQuery) {\n      this._dispatchRequest(apiQuery);\n    },\n    _dispatchRequest: function _dispatchRequest(apiQuery) {\n      var q = this.customizeQuery(apiQuery);\n\n      if (q) {\n        var req = this.composeRequest(q);\n\n        if (req) {\n          var pubsub = this.getPubSub();\n          pubsub.publish(pubsub.DELIVERING_REQUEST, req);\n        }\n      }\n    },\n\n    /**\n     * Default action to modify ApiQuery (called from inside dispatchRequest)\n     *\n     * @param apiQuery\n     */\n    customizeQuery: function customizeQuery(apiQuery) {\n      var q = apiQuery.clone();\n      q.unlock();\n\n      if (this.defaultQueryArguments) {\n        q = this.composeQuery(this.defaultQueryArguments, q);\n      }\n\n      return q;\n    },\n\n    /**\n     * Default callback to be called by PubSub on 'DELIVERING_RESPONSE'\n     * @param apiResponse\n     */\n    processResponse: function processResponse(apiResponse) {\n      // in your widget, you should always set the current query like this\n      var q = apiResponse.getApiQuery();\n      this.setCurrentQuery(q);\n      throw new Error('you need to customize this function');\n    },\n\n    /**\n     * This function should return a request IFF we want to get some\n     * data - it is called from inside 'dispatchRequest' event handler\n     *\n     * @param object with params to add\n     * @returns {ApiRequest}\n     */\n    composeRequest: function composeRequest(apiQuery) {\n      return new ApiRequest({\n        target: ApiTargets.SEARCH,\n        query: apiQuery\n      });\n    },\n\n    /**\n     * Will save a clone of the apiQuery into the widget (for future use and\n     * reference)\n     *\n     * @param apiQuery\n     */\n    setCurrentQuery: function setCurrentQuery(apiQuery) {\n      this._currentQuery = apiQuery;\n    },\n\n    /**\n     * Returns the current ApiQuery\n     * if a query hasn't been set, it will check if there is one in storage,\n     * if not, it will return an empty query\n     *\n     * @returns {ApiQuery|*}\n     */\n    getCurrentQuery: function getCurrentQuery() {\n      var currQuery = new ApiQuery({});\n      var beehive;\n\n      try {\n        if (this._currentQuery instanceof ApiQuery) {\n          currQuery = this._currentQuery;\n        } else if (_.isFunction(this.getBeeHive)) {\n          beehive = this.getBeeHive();\n\n          if (beehive.hasObject('AppStorage')) {\n            var q = beehive.getObject('AppStorage').getCurrentQuery();\n\n            if (q instanceof ApiQuery) {\n              currQuery = q;\n            }\n          }\n        }\n      } catch (e) {\n        console.error(e.message);\n      } finally {\n        return currQuery;\n      }\n    },\n\n    /**\n     * All purpose function for making a new query. It returns an apiQuery ready for\n     * newQuery event or for insertion into  apiRequest.\n     *\n     * @param queryParams\n     * @param apiQuery\n     * @returns {*}\n     */\n    composeQuery: function composeQuery(queryParams, apiQuery) {\n      var query;\n\n      if (!apiQuery) {\n        query = this.getCurrentQuery();\n        query = query.clone();\n      } else {\n        query = apiQuery;\n      }\n\n      if (queryParams) {\n        _.each(queryParams, function (v, k) {\n          if (!query.has(k)) query.set(k, v);\n        });\n      }\n\n      return query;\n    },\n    onDestroy: function onDestroy() {\n      this.view.destroy();\n    },\n\n    /**\n     * Convention inside Backbone and Marionette is to return 'this'\n     * - since 'this' usually refers to a 'View', we'll return the\n     * view's el here\n     * doesn't render unless it has to\n     *\n     * @returns {view.el}\n     */\n    getEl: function getEl() {\n      if (this.view.el && this.view.$el.children().length) {\n        return this.view.el;\n      }\n\n      return this.view.render().el;\n    },\n\n    /*\n     *\n     * convenience function for tests, always re-renders\n     *\n     * */\n    render: function render() {\n      return this.view.render();\n    },\n\n    /**\n     * Extracts identifier from a query object\n     *\n     * @param {ApiQuery} apiQuery\n     */\n    parseIdentifierFromQuery: function parseIdentifierFromQuery(apiQuery) {\n      if (!apiQuery.hasVal('q')) {\n        throw 'no query';\n      }\n\n      var q = apiQuery.get('q')[0];\n\n      try {\n        if (/^(?:identifier|bibcode):(.*)$/.test(q)) {\n          return q.split(':')[1];\n        }\n      } catch (e) {\n        throw 'unable to parse bibcode';\n      }\n\n      throw 'query must be in the format of identifer:foo or bibcode:foo';\n    }\n  }, {\n    mixin: WidgetMixin\n  });\n\n  _.extend(BaseWidget.prototype, Dependon.BeeHive, WidgetStateManagerMixin);\n\n  return BaseWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/base/base_widget.js?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/details_widget.js":
/*!*********************************************************!*\
  !*** ./src/js/widgets/list_of_things/details_widget.js ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Helper class that extends LoT - it is used by widgets that display details\n * of a paper (one identifier search)\n * so widgets on the abstract page (references, citations, etc)\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/widgets/list_of_things/widget */ \"./src/js/widgets/list_of_things/widget.js\"), __webpack_require__(/*! js/mixins/add_stable_index_to_collection */ \"./src/js/mixins/add_stable_index_to_collection.js\"), __webpack_require__(/*! js/mixins/link_generator_mixin */ \"./src/js/mixins/link_generator_mixin.js\"), __webpack_require__(/*! js/mixins/papers_utils */ \"./src/js/mixins/papers_utils.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (ListOfThings, PaginationMixin, LinkGenerator, PapersUtilsMixin, ApiQuery) {\n  var DetailsWidget = ListOfThings.extend({\n    defaultQueryArguments: {\n      fl: 'title,bibcode,author,keyword,pub,volume,year,[citations],property,pubdate,abstract,esources,data',\n      rows: 25,\n      start: 0\n    },\n    initialize: function initialize(options) {\n      ListOfThings.prototype.initialize.call(this, options); // other widgets can send us data through page manager\n      // here it is used just to get the title of the main article page\n\n      this.on('page-manager-message', function (event, data) {\n        if (event === 'broadcast-payload') {\n          // set the current title\n          this.model.set({\n            title: data.title,\n            // hide checkboxes on abstract sub-pages\n            showCheckboxes: false\n          });\n          this.canLoad = false;\n          this.ingestBroadcastedPayload(data);\n        }\n\n        if (event === 'widget-selected' && data.idAttribute === this.name && !this.canLoad) {\n          var doDispatch = _.bind(function () {\n            this.canLoad = true; // have to delay this so the view has to time to initialize\n\n            setTimeout(_.bind(function (title) {\n              if (!this.model.has('title')) {\n                this.model.set('title', title);\n              }\n            }, this), 0, this.model.get('title'));\n            this.dispatchRequest(data.bibcode);\n          }, this);\n\n          doDispatch();\n        }\n      }); // clear the collection when the model is reset with a new bibcode\n      // and set the model to default values\n\n      this.listenTo(this.model, 'change:bibcode', function () {\n        this.reset();\n      });\n    },\n    activate: function activate(beehive) {\n      ListOfThings.prototype.activate.apply(this, [].slice.apply(arguments));\n      var pubsub = beehive.getService('PubSub');\n\n      _.bindAll(this, 'dispatchRequest', 'processResponse');\n\n      pubsub.subscribe(pubsub.DISPLAY_DOCUMENTS, this.dispatchRequest);\n      pubsub.subscribe(pubsub.DELIVERING_RESPONSE, this.processResponse);\n    },\n    ingestBroadcastedPayload: _.noop,\n    dispatchRequest: function dispatchRequest(bibcodeOrQuery) {\n      var apiQuery = bibcodeOrQuery;\n\n      if (!(bibcodeOrQuery instanceof ApiQuery) && _.isString(bibcodeOrQuery)) {\n        apiQuery = new ApiQuery({\n          q: 'identifier:' + bibcodeOrQuery\n        });\n      } // do not continue unless we have been selected\n\n\n      if (!this.canLoad) return; // reset the record\n\n      try {\n        var q = apiQuery.get('q');\n\n        if (q && q[0]) {\n          var bibcode = this.parseIdentifierFromQuery(apiQuery);\n\n          if (bibcode === 'null' || this.model.get('bibcode') === bibcode) {\n            return;\n          }\n\n          this.model.set('bibcode', bibcode);\n        }\n      } catch (e) {\n        console.error('was unable to parse the bibcode!');\n        return;\n      } // dispatch the request\n\n\n      ListOfThings.prototype.dispatchRequest.call(this, apiQuery);\n    },\n    customizeQuery: function customizeQuery() {\n      var q = ListOfThings.prototype.customizeQuery.apply(this, arguments);\n\n      if (Marionette.getOption(this, 'sortOrder')) {\n        q.set('sort', Marionette.getOption(this, 'sortOrder'));\n      }\n\n      if (this.model.get('queryOperator')) {\n        var query = this.model.get('queryOperator') + '(' + q.get('q').join(' ') + ')'; // special case for trending aka 'also read'\n\n        if (this.model.get('queryOperator') === 'trending') {\n          // remove the bibcode from the set of returned results by\n          // augmenting the query\n          query += '-' + q.get('q')[0];\n        }\n      } else {\n        // toc widget\n        query = q.get('q');\n      }\n\n      q.set('q', query);\n      return q;\n    },\n    processDocs: function processDocs(apiResponse, docs, paginationInfo) {\n      var self = this;\n      var params = apiResponse.get('response');\n      var start = params.start || paginationInfo.start || 0;\n\n      _.each(docs, function (d, i) {\n        docs[i] = self.prepareDocForViewing(d);\n      });\n\n      try {\n        docs = this.parseLinksData(docs);\n      } catch (e) {// do nothing\n      }\n\n      return PaginationMixin.addPaginationToDocs(docs, start);\n    }\n  });\n\n  _.extend(DetailsWidget.prototype, LinkGenerator);\n\n  _.extend(DetailsWidget.prototype, PapersUtilsMixin);\n\n  return DetailsWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/details_widget.js?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/item_view.js":
/*!****************************************************!*\
  !*** ./src/js/widgets/list_of_things/item_view.js ***!
  \****************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/widgets/base/base_widget */ \"./src/js/widgets/base/base_widget.js\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/item-template */ \"./src/js/widgets/list_of_things/templates/item-template.html\"), __webpack_require__(/*! analytics */ \"./src/js/components/analytics.js\"), __webpack_require__(/*! mathjax */ \"./node_modules/mathjax/unpacked/MathJax.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Marionette, Backbone, ApiRequest, ApiQuery, BaseWidget, ItemTemplate, analytics, MathJax) {\n  var ItemView = Marionette.ItemView.extend({\n    tagName: 'li',\n    template: ItemTemplate,\n    constructor: function constructor(options) {\n      var self = this;\n\n      if (options) {\n        _.defaults(options, _.pick(this, ['model', 'collectionEvents', 'modelEvents']));\n      }\n\n      _.bindAll(this, 'resetToggle');\n\n      return Marionette.ItemView.prototype.constructor.apply(this, arguments);\n    },\n    render: function render() {\n      if (this.model.get('visible')) {\n        return Marionette.ItemView.prototype.render.apply(this, arguments);\n      }\n\n      if (this.$el) {\n        // it was already rendered, so remove it\n        this.$el.empty();\n      }\n\n      return this;\n    },\n    onRender: function onRender() {\n      var _this = this;\n\n      // this is necessary on every render after the initial one, since the\n      // containe rview also calls mathjax initially\n      if (MathJax) MathJax.Hub.Queue(['Typeset', MathJax.Hub, this.el]);\n      $('>', this.$el).on('keyup', function (e) {\n        if (e.which === 13) {\n          $('a.abs-redirect-link', _this.$el).mousedown().mouseup().click();\n        }\n      });\n    },\n    events: {\n      'change input[name=identifier]': 'toggleSelect',\n      'focus .letter-icon': 'showLinks',\n      'mouseenter .letter-icon': 'showLinks',\n      'mouseleave .letter-icon': 'hideLinks',\n      'focusout .letter-icon': 'hideLinks',\n      'click .letter-icon>ul': 'hideLinks',\n      'click .show-all-authors': 'showAllAuthors',\n      'click .show-less-authors': 'showLessAuthors',\n      // only relevant to results view for the moment\n      'click .show-full-abstract': 'showFullAbstract',\n      'click .hide-full-abstract': 'hideFullAbstract',\n      'click .orcid-action': 'orcidAction',\n      'click .abs-redirect-link': 'onAbsLinkClick',\n      'click .citations-redirect-link': 'onCitationsLinkClick'\n    },\n    modelEvents: {\n      'change:visible': 'render',\n      'change:showAbstract': 'render',\n      'change:showHighlights': 'render',\n      'change:orcid': 'render',\n      'change:chosen': 'render'\n    },\n    collectionEvents: {\n      add: 'render',\n      'change:visible': 'render'\n    },\n    emitAnalyticsEvent: function emitAnalyticsEvent(e) {\n      analytics('send', 'event', 'interaction', 'letter-link-followed', $(e.target).text());\n    },\n    onAbsLinkClick: function onAbsLinkClick(e) {\n      var bibcode = this.model.get('bibcode');\n      analytics('send', 'event', 'interaction', 'abstract-link-followed', {\n        target: 'abstract',\n        bibcode: bibcode\n      });\n    },\n    onCitationsLinkClick: function onCitationsLinkClick(e) {\n      var bibcode = this.model.get('bibcode');\n      analytics('send', 'event', 'interaction', 'citations-link-followed', {\n        target: 'citations',\n        bibcode: bibcode\n      });\n    },\n    showAllAuthors: function showAllAuthors(e) {\n      this.$('.s-results-authors.less-authors').addClass('hidden');\n      this.$('.s-results-authors.all-authors').removeClass('hidden');\n      return false;\n    },\n    showLessAuthors: function showLessAuthors(e) {\n      this.$('.s-results-authors.less-authors').removeClass('hidden');\n      this.$('.s-results-authors.all-authors').addClass('hidden');\n      return false;\n    },\n    showFullAbstract: function showFullAbstract() {\n      this.$('.short-abstract').addClass('hidden');\n      this.$('.full-abstract').removeClass('hidden');\n      return false;\n    },\n    hideFullAbstract: function hideFullAbstract() {\n      this.$('.short-abstract').removeClass('hidden');\n      this.$('.full-abstract').addClass('hidden');\n      return false;\n    },\n    toggleSelect: function toggleSelect() {\n      var isChosen = !this.model.get('chosen');\n      this.trigger('toggleSelect', {\n        selected: isChosen,\n        data: this.model.attributes\n      });\n      this.model.set('chosen', isChosen);\n    },\n    resetToggle: function resetToggle() {\n      this.setToggleTo(false);\n    },\n    setToggleTo: function setToggleTo(to) {\n      var $checkbox = $('input[name=identifier]');\n\n      if (to) {\n        this.$el.addClass('chosen');\n        this.model.set('chosen', true);\n        $checkbox.prop('checked', true);\n      } else {\n        this.$el.removeClass('chosen');\n        this.model.set('chosen', false);\n        $checkbox.prop('checked', false);\n      }\n    },\n\n    /*\n     * adding this to make the dropdown\n     * accessible, and so people can click to sticky\n     * open the quick links\n     * */\n    removeActiveQuickLinkState: function removeActiveQuickLinkState($node) {\n      $node.find('i').removeClass('s-icon-draw-attention');\n      $node.find('.link-details').addClass('hidden');\n      $node.find('ul').attr('aria-expanded', false);\n    },\n    addActiveQuickLinkState: function addActiveQuickLinkState($node) {\n      $node.find('i').addClass('s-icon-draw-attention');\n      $node.find('.link-details').removeClass('hidden');\n      $node.find('ul').attr('aria-expanded', true);\n    },\n    deactivateOtherQuickLinks: function deactivateOtherQuickLinks($c) {\n      var $hasList = this.$('.letter-icon').filter(function () {\n        if ($(this).find('i').hasClass('s-icon-draw-attention')) {\n          return true;\n        }\n      }).eq(0); // there should be max 1 other icon that is active\n\n      if ($hasList.length && $hasList[0] !== $c[0]) {\n        this.removeActiveQuickLinkState($hasList);\n      }\n    },\n    showLinks: function showLinks(e) {\n      var $c = $(e.currentTarget);\n\n      if (!$c.find('.active-link').length) {\n        return;\n      }\n\n      this.deactivateOtherQuickLinks($c);\n      this.addActiveQuickLinkState($c);\n    },\n    hideLinks: function hideLinks(e) {\n      var $c = $(e.currentTarget);\n\n      if ($c.is('ul')) {\n        this.removeActiveQuickLinkState($c.parent());\n      } else {\n        this.removeActiveQuickLinkState($c);\n      }\n    },\n    orcidAction: function orcidAction(e) {\n      if (!e) return false;\n      var $target = $(e.currentTarget);\n      var msg = {\n        action: $target.data('action') ? $target.data('action') : $target.text().trim(),\n        model: this.model,\n        view: this,\n        target: $target\n      };\n      this.trigger('OrcidAction', msg);\n      return false;\n    }\n  });\n  return ItemView;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/item_view.js?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/model.js":
/*!************************************************!*\
  !*** ./src/js/widgets/list_of_things/model.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! bowser */ \"./src/libs/bowser.js\"), __webpack_require__(/*! js/mixins/add_stable_index_to_collection */ \"./src/js/mixins/add_stable_index_to_collection.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, bowser, WidgetPaginationMixin) {\n  var ItemModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        abstract: undefined,\n        title: undefined,\n        authorAff: undefined,\n        pub: undefined,\n        pubdate: undefined,\n        keywords: undefined,\n        bibcode: undefined,\n        pub_raw: undefined,\n        doi: undefined,\n        details: undefined,\n        links_data: undefined,\n        resultsIndex: undefined,\n        visible: false,\n        publisher: undefined,\n        actionsVisible: true,\n        showCheckbox: true,\n        isMobileOrTablet: false\n      };\n    },\n    idAttribute: 'resultsIndex'\n  });\n  var ListOfThingsCollection = Backbone.Collection.extend({\n    initialize: function initialize(models, options) {\n      this.numVisible = 0;\n      this.currentStartIndex = 0;\n      this.currentEndIndex = 0;\n      this.lastIndex = -1;\n      this.lastMissingTrigger = null;\n\n      if (options && options.paginationModel) {\n        this.paginationModel = options.paginationModel;\n        this.listenTo(this.paginationModel, 'change:page', this._onPaginationChange);\n        this.listenTo(this.paginationModel, 'change:perPage', this._onPaginationChange);\n      }\n    },\n    model: ItemModel,\n    numFound: undefined,\n    comparator: 'resultsIndex',\n    _updateStartAndEndIndex: function _updateStartAndEndIndex() {\n      var pageNum = this.paginationModel.get('page');\n      var perPage = this.paginationModel.get('perPage');\n      var numFound = this.paginationModel.get('numFound'); // used as a metric to see if we need to fetch new data or if data at these indexes\n      // already exist\n\n      this.currentStartIndex = this.getPageStart(pageNum, perPage);\n      this.currentEndIndex = this.getPageEnd(pageNum, perPage, numFound);\n    },\n    _onPaginationChange: function _onPaginationChange() {\n      this._updateStartAndEndIndex(); // propagate the signal to the controller\n\n\n      this.trigger('pagination:change');\n    },\n\n    /*\n     * need to reset lastMissingTrigger\n     * or else subsequent pagination attempts\n     * will never fetch beyond 25 records\n     * */\n    reset: function reset() {\n      this.lastMissingTrigger = null;\n      this.lastIndex = -1;\n      Backbone.Collection.prototype.reset.apply(this, arguments);\n    },\n    getStartIndex: function getStartIndex() {\n      return this.currentStartIndex;\n    },\n    getEndIndex: function getEndIndex() {\n      return this.paginationModel.get('perPage');\n    },\n    _incrementLastIndex: function _incrementLastIndex() {\n      this.lastIndex += 1;\n      return this.lastIndex;\n    },\n    _prepareModel: function _prepareModel(attrs, options) {\n      if (attrs.resultsIndex === undefined) {\n        attrs.resultsIndex = this._incrementLastIndex();\n      }\n\n      if (attrs.title || attrs.bibcode || attrs.identifier) {\n        attrs.emptyPlaceholder = false;\n      }\n\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\n    },\n    getVisibleModels: function getVisibleModels() {\n      return _.filter(this.models, function (x) {\n        return x.attributes.visible;\n      });\n    },\n\n    /**\n     * Zero-based method; goes through models in the collection; discovers those\n     * that are missing (in the given range) and marks the range as 'visible'\n     * It returns number of visible documents (and internally triggers 'show:missing'\n     * event)\n     *\n     * @param start\n     * @param end\n     * @param options\n     * @returns {number}\n     */\n    updateIndexes: function updateIndexes(start, end, options) {\n      options = options || {};\n      var start = _.isNumber(start) ? start : this.currentStartIndex;\n      var end = _.isNumber(end) ? end : this.currentEndIndex + 1;\n      var visible = 0;\n      var currStart = null;\n      var currEnd = 0;\n      var gaps = [];\n      var lastIdx = null;\n      var rIdx;\n      var platform = bowser.parse(window.navigator.userAgent).platform.type;\n      var isMobileOrTablet = platform === 'mobile' || platform === 'tablet';\n      this.each(function (model) {\n        rIdx = model.attributes.resultsIndex;\n\n        if (lastIdx !== null && rIdx != lastIdx + 1) {\n          _.each(_.range(lastIdx + 1, rIdx), function (c) {\n            gaps.push(c);\n          });\n        }\n\n        lastIdx = rIdx;\n\n        if (rIdx >= start && rIdx <= end) {\n          model.set('visible', true);\n          if (currStart === null) currStart = rIdx;\n          visible += 1;\n          currEnd = rIdx;\n        } else {\n          model.set('visible', false);\n        }\n\n        model.set('isMobileOrTablet', isMobileOrTablet);\n      });\n\n      if (visible !== end - start + 1) {\n        _.each(_.range((lastIdx || start + gaps.length) + 1, end + 1), function (c) {\n          if (!this.get(c)) gaps.push(c);\n        }, this);\n      }\n\n      if (gaps.length) {\n        // we have discoverd all gaps, but we want to report only those that span the start..end range\n        var startIdx = 0;\n        var endIdx = gaps.length;\n\n        for (var i = 0; i < gaps.length; i++) {\n          if (gaps[i] > end) {\n            endIdx = i;\n            break;\n          }\n\n          if (gaps[i] < start) {\n            startIdx = i + 1;\n          }\n        }\n\n        gaps = gaps.slice(startIdx, endIdx);\n        gaps = this._compressGaps(gaps); // to prevent multiple recursive requests\n\n        if (JSON.stringify(gaps) != this.lastMissingTrigger) {\n          this.lastMissingTrigger = JSON.stringify(gaps);\n\n          if (!options.silent) {\n            this.trigger('show:missing', gaps);\n          }\n        }\n      }\n\n      this.numVisible = visible;\n      this.currentStartIndex = currStart || 0;\n      this.currentEndIndex = currEnd;\n      return visible;\n    },\n    _compressGaps: function _compressGaps(gaps) {\n      var leftBound = gaps[0];\n      var rightBound = leftBound;\n      var s = gaps.length;\n      var toSend = [];\n\n      for (var i = 0; i < s; i++) {\n        var j = i + 1;\n\n        while (j < s && gaps[j] == leftBound + (j - i)) {\n          rightBound = gaps[j];\n          j += 1;\n        }\n\n        toSend.push({\n          start: leftBound,\n          end: rightBound\n        });\n        i = j - 1;\n        if (j < s) leftBound = rightBound = gaps[j];\n      }\n\n      return toSend;\n    },\n\n    /**\n     * zero-based method to mark range of documents in the colleaction 'visible'\n     *\n     * @param start\n     * @param end\n     * @returns {*}\n     */\n    showRange: function showRange(start, end, options) {\n      options = options || {};\n      if (start < 0) throw new Error('Start cannot be negative');\n      if (end < start) throw new Error('End cannot be smaller than start');\n      return this.updateIndexes(start, end, options);\n    },\n    getNumVisible: function getNumVisible() {\n      return this.numVisible;\n    },\n    showMore: function showMore(howMany) {\n      if (howMany === null) {\n        // set all of them visible\n        return this.updateIndexes(0, this.model.length);\n      }\n\n      var visible = this.getNumVisible();\n      return this.updateIndexes(this.currentStartIndex, this.currentEndIndex == 0 ? howMany - 1 : this.currentEndIndex + howMany) - visible;\n    }\n  });\n\n  _.extend(ListOfThingsCollection.prototype, WidgetPaginationMixin);\n\n  return ListOfThingsCollection;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/model.js?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/paginated_view.js":
/*!*********************************************************!*\
  !*** ./src/js/widgets/list_of_things/paginated_view.js ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Paginated view - it displays controls under the list of items.\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/widgets/base/base_widget */ \"./src/js/widgets/base/base_widget.js\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/item-template */ \"./src/js/widgets/list_of_things/templates/item-template.html\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/results-container-template */ \"./src/js/widgets/list_of_things/templates/results-container-template.html\"), __webpack_require__(/*! js/mixins/link_generator_mixin */ \"./src/js/mixins/link_generator_mixin.js\"), __webpack_require__(/*! js/mixins/add_stable_index_to_collection */ \"./src/js/mixins/add_stable_index_to_collection.js\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/empty-view-template */ \"./src/js/widgets/list_of_things/templates/empty-view-template.html\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/error-view-template */ \"./src/js/widgets/list_of_things/templates/error-view-template.html\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/initial-view-template */ \"./src/js/widgets/list_of_things/templates/initial-view-template.html\"), __webpack_require__(/*! js/widgets/list_of_things/item_view */ \"./src/js/widgets/list_of_things/item_view.js\"), __webpack_require__(/*! analytics */ \"./src/js/components/analytics.js\"), __webpack_require__(/*! mathjax */ \"./node_modules/mathjax/unpacked/MathJax.js\"), __webpack_require__(/*! hbs!js/wraps/widget/loading/template */ \"./src/js/wraps/widget/loading/template.html\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Marionette, Backbone, ApiRequest, ApiQuery, BaseWidget, ItemTemplate, ResultsContainerTemplate, LinkGenerator, WidgetPaginationMixin, EmptyViewTemplate, ErrorViewTemplate, InitialViewTemplate, ItemView, analytics, MathJax, loadingTemplate) {\n  /**\n   * A simple model that holds attributes of the\n   * paginated view. Changes in this model are\n   * propagated to the view\n   */\n  var MainViewModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        mainResults: false,\n        title: undefined,\n        // assuming there will always be abstracts\n        showAbstract: 'closed',\n        // often they won't exist\n        showHighlights: false,\n        showSidebars: true,\n        pagination: true,\n        start: 0,\n        highlightsLoaded: false\n      };\n    }\n  });\n\n  var getSuggestedQuery = function getSuggestedQuery(_query) {\n    var query = _query.clone();\n\n    var q = query.get('q'); // if the whole query is uppercase, lower it\n\n    if (q[0] === q[0].toUpperCase()) {\n      query.set('q', q[0].toLowerCase());\n      query.unset('fl');\n      return {\n        url: '#search/' + query.url(),\n        query: query.get('q')\n      };\n    }\n  };\n\n  var EmptyView = Marionette.ItemView.extend({\n    template: function template(data) {\n      if (data.query) {\n        return EmptyViewTemplate(data);\n      }\n\n      if (data.error) {\n        return ErrorViewTemplate(data);\n      }\n\n      return loadingTemplate(_.extend(data, {\n        widgetLoadingSize: 'big',\n        hideCloseButton: true\n      }));\n    }\n  });\n  /**\n   * This is the main view of the list of things. A composite\n   * view that holds collection of items.\n   */\n\n  var ListOfThingsView = Marionette.CompositeView.extend({\n    childView: ItemView,\n    emptyView: EmptyView,\n    initialize: function initialize(options) {\n      this.model = new MainViewModel();\n    },\n    serializeData: function serializeData() {\n      var data = this.model.toJSON(); // if it's an abstract page list with an 'export to results page'\n      // option, provide the properly escaped url\n\n      if (data.queryOperator) {\n        data.queryURL = '#search/q=' + data.queryOperator + '(';\n        data.queryURL += encodeURIComponent('bibcode:' + data.bibcode) + ')';\n        if (data.removeSelf) data.queryURL += encodeURIComponent(' -bibcode:' + data.bibcode);\n        if (data.sortOrder) data.queryURL += '&sort=' + encodeURIComponent(data.sortOrder);\n      }\n\n      return data;\n    },\n    onRender: function onRender() {\n      if (MathJax) {\n        MathJax.Hub.Queue(['Typeset', MathJax.Hub, this.el]);\n      }\n    },\n    className: 'list-of-things',\n    alreadyRendered: false,\n    emptyViewOptions: function emptyViewOptions(model) {\n      var query = this.model.get('query');\n      var isTugboat = this.model.get('isTugboat');\n      var error = this.model.get('error');\n      this.model.unset('error', {\n        silent: true\n      });\n\n      if (_.isArray(query)) {\n        model.set({\n          query: query[0],\n          showTugboatMessage: isTugboat,\n          suggestedQuery: getSuggestedQuery(this.model.get('currentQuery'))\n        });\n      } else if (_.has('query', query)) {\n        model.set({\n          query: query.query[0],\n          showTugboatMessage: isTugboat,\n          suggestedQuery: getSuggestedQuery(this.model.get('currentQuery'))\n        });\n      } else if (error) {\n        model.set('error', error);\n      }\n\n      return {\n        model: model\n      };\n    },\n    childViewContainer: '.results-list',\n    events: {\n      'click .show-highlights': 'toggleHighlights',\n      'click .show-abstract': 'toggleAbstract',\n      'click .toggle-sidebars': 'toggleShowSidebars',\n      'click #go-to-bottom': 'goToBottom',\n      'click #backToTopBtn': 'goToTop',\n      'click a.page-control': 'changePageWithButton',\n      'keyup input.page-control': 'tabOrEnterChangePageWithInput',\n      'change #per-page-select': 'changePerPage'\n    },\n    toggleHighlights: function toggleHighlights(e) {\n      var state = this.model.get('showHighlights');\n      state = _.isBoolean(state) && state ? 'closed' : state === 'open' ? 'closed' : 'open';\n      this.model.set('showHighlights', state);\n\n      if (!this.model.get('highlightsLoaded')) {\n        this.model.set('highlightsLoaded', true);\n        this.trigger('toggle-highlights', state === 'open');\n      }\n\n      analytics('send', 'event', 'interaction', \"search_result_meta_toggled\", {\n        search_result_meta_name: 'highlights',\n        search_result_meta_state: state === 'open' ? 'open' : 'closed'\n      });\n    },\n    toggleAbstract: function toggleAbstract() {\n      var value = this.model.get('showAbstract');\n      this.model.set('showAbstract', value === 'open' ? 'closed' : 'open');\n      analytics('send', 'event', 'interaction', \"search_result_meta_toggled\", {\n        search_result_meta_name: 'abstracts',\n        search_result_meta_state: value === 'open' ? 'open' : 'closed'\n      });\n    },\n    toggleShowSidebars: function toggleShowSidebars() {\n      var val = !this.model.get('showSidebars');\n      this.model.set('showSidebars', val);\n      analytics('send', 'event', 'interaction', \"search_result_meta_toggled\", {\n        search_result_meta_name: 'sidebars',\n        search_result_meta_state: val ? 'open' : 'closed'\n      });\n    },\n    goToBottom: function goToBottom() {\n      $(document.documentElement).animate({\n        scrollTop: this.$el.outerHeight()\n      }, 'fast');\n    },\n    goToTop: function goToTop() {\n      $(document.documentElement).animate({\n        scrollTop: 0\n      }, 'fast');\n    },\n    modelEvents: {\n      change: 'render',\n      'change:showHighlights': 'toggleChildrenHighlights',\n      'change:showAbstract': 'toggleChildrenAbstracts'\n    },\n    collectionEvents: {\n      reset: 'onResetCollection'\n    },\n    template: ResultsContainerTemplate,\n    onResetCollection: function onResetCollection() {\n      this.model.set('highlightsLoaded', false);\n      this.model.trigger('change:showAbstract');\n    },\n\n    /**\n     * Displays the are inside of every item-view\n     * with details (this place is normally hidden\n     * by default)\n     */\n    toggleChildrenHighlights: function toggleChildrenHighlights() {\n      var show = this.model.get('showHighlights');\n      this.collection.invoke('set', 'showHighlights', show === 'open');\n    },\n    toggleChildrenAbstracts: function toggleChildrenAbstracts() {\n      var show = this.model.get('showAbstract');\n      this.collection.invoke('set', 'showAbstract', show === 'open');\n    },\n    changePageWithButton: function changePageWithButton(e) {\n      var $target = $(e.currentTarget);\n      if ($target.parent().hasClass('disabled')) return;\n      var transform = $target.hasClass('next-page') ? 1 : -1;\n      var pageVal = this.model.get('page') + transform;\n      this.trigger('pagination:select', pageVal);\n\n      if (this.resultsWidget) {\n        analytics('send', 'event', 'interaction', 'results-list-pagination', pageVal);\n      }\n\n      return false;\n    },\n    tabOrEnterChangePageWithInput: function tabOrEnterChangePageWithInput(e) {\n      // subtract one since pages are 0 indexed\n      var pageVal = parseInt($(e.target).val() - 1); // enter or tab\n\n      if (e.keyCode == 13 || e.keyCode == 9) {\n        this.trigger('pagination:select', pageVal);\n      }\n\n      if (this.resultsWidget) {\n        analytics('send', 'event', 'interaction', 'results-list-pagination', pageVal);\n      }\n    },\n    changePerPage: function changePerPage(e) {\n      var val = parseInt(e.currentTarget ? e.currentTarget.value : 25);\n      val !== this.model.get('perPage') && this.trigger('pagination:changePerPage', val);\n      return false;\n    }\n  });\n  return ListOfThingsView;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/paginated_view.js?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/templates/empty-view-template.html":
/*!**************************************************************************!*\
  !*** ./src/js/widgets/list_of_things/templates/empty-view-template.html ***!
  \**************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <div>\\n    Using the ADS classic query translator? view the\\n    <a\\n      href=\\\"/help/faq/#classic-search-translator\\\"\\n      rel=\\\"noreferrer noopener\\\"\\n      target=\\\"_blank\\\"\\n      >docs</a\\n    >.\\n  </div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <ul>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"suggestedQuery\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":4},\"end\":{\"line\":20,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"    <li>Try broadening your search</li>\\n    <li>Disable any filters that may be applied</li>\\n    <li><a href=\\\"#\\\">Check out some examples</a></li>\\n    <li>\\n      <a\\n        href=\\\"/help/search/search-syntax\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noreferrer noopener\\\"\\n        >Read our help pages</a\\n      >\\n    </li>\\n  </ul>\\n  <span>\\n    Not seeing something that should be here? Let us know!\\n    <button\\n      class=\\\"btn btn-primary-faded results-feedback-button\\\"\\n      data-toggle=\\\"modal\\\"\\n      data-target=\\\"#feedback-modal\\\"\\n      data-feedback-view=\\\"general\\\"\\n    >\\n      <i class=\\\"fa fa-comment\\\" aria-hidden=\\\"true\\\"></i>\\n      Leave Feedback\\n    </button>\\n  </span>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li>\\n      Try an alternate query:\\n      <a href=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"suggestedQuery\") : depth0)) != null ? lookupProperty(stack1,\"url\") : stack1), depth0))\n    + \"\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"suggestedQuery\") : depth0)) != null ? lookupProperty(stack1,\"query\") : stack1), depth0))\n    + \"</a>\\n    </li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"s-empty-view-msg\\\">\\n  <div class=\\\"h4\\\">Sorry no results were found for <code>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"query\") || (depth0 != null ? lookupProperty(depth0,\"query\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"query\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":65}}}) : helper)))\n    + \"</code></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"showTugboatMessage\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":45,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/templates/empty-view-template.html?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/templates/error-view-template.html":
/*!**************************************************************************!*\
  !*** ./src/js/widgets/list_of_things/templates/error-view-template.html ***!
  \**************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row text-center\\\">\\n    <span class=\\\"fa-stack fa-lg text-danger\\\">\\n      <i class=\\\"fa fa-stack-2x fa-circle-o\\\" aria-hidden=\\\"true\\\"></i>\\n      <i class=\\\"fa fa-stack-1x fa-exclamation\\\" aria-hidden=\\\"true\\\"></i>\\n    </span>\\n  </div>\\n  <div class=\\\"row text-center\\\">\\n    <div class=\\\"h4\\\">\\n      Something Went Wrong\\n    </div>\\n    <div class=\\\"h4\\\">\\n      Please Retry Your Search\\n    </div>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/templates/error-view-template.html?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/templates/initial-view-template.html":
/*!****************************************************************************!*\
  !*** ./src/js/widgets/list_of_things/templates/initial-view-template.html ***!
  \****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"Requesting data...\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/templates/initial-view-template.html?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/templates/item-template.html":
/*!********************************************************************!*\
  !*** ./src/js/widgets/list_of_things/templates/item-template.html ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" chosen \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <label class=\\\"custom-checkbox\\\">\\n                <input type=\\\"checkbox\\\" value=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"identifier\") || (depth0 != null ? lookupProperty(depth0,\"identifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"identifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":45},\"end\":{\"line\":8,\"column\":59}}}) : helper)))\n    + \" name=\\\"identifier\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"chosen\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":78},\"end\":{\"line\":8,\"column\":108}}})) != null ? stack1 : \"\")\n    + \" aria-label=\\\"select item \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"indexToShow\") || (depth0 != null ? lookupProperty(depth0,\"indexToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"indexToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":133},\"end\":{\"line\":8,\"column\":148}}}) : helper)))\n    + \"\\\">\\n            </label>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" checked \";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"normCiteSort\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":14},\"end\":{\"line\":30,\"column\":21}}})) != null ? stack1 : \"\");\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":28},\"end\":{\"line\":27,\"column\":49}}}) : helper)))\n    + \"/citations\\\" title=\\\"citation count\\\" class=\\\"citations-redirect-link\\\" aria-label=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citationCountNorm\") || (depth0 != null ? lookupProperty(depth0,\"citationCountNorm\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citationCountNorm\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":128},\"end\":{\"line\":27,\"column\":149}}}) : helper)))\n    + \" normalized citations\\\">cited (n): \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citationCountNorm\") || (depth0 != null ? lookupProperty(depth0,\"citationCountNorm\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citationCountNorm\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":183},\"end\":{\"line\":27,\"column\":204}}}) : helper)))\n    + \"</a>\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":28},\"end\":{\"line\":29,\"column\":49}}}) : helper)))\n    + \"/citations\\\" title=\\\"citation count\\\" class=\\\"citations-redirect-link\\\" aria-label=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citation_count\") || (depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citation_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":128},\"end\":{\"line\":29,\"column\":146}}}) : helper)))\n    + \" citations\\\">cited: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citation_count\") || (depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citation_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":165},\"end\":{\"line\":29,\"column\":183}}}) : helper)))\n    + \"</a>\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"normCiteSort\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.program(14, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":38,\"column\":14},\"end\":{\"line\":42,\"column\":21}}})) != null ? stack1 : \"\");\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":28},\"end\":{\"line\":39,\"column\":49}}}) : helper)))\n    + \"/citations\\\" title=\\\"citation count\\\" class=\\\"citations-redirect-link\\\" aria-label=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citationCountNorm\") || (depth0 != null ? lookupProperty(depth0,\"citationCountNorm\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citationCountNorm\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":128},\"end\":{\"line\":39,\"column\":149}}}) : helper)))\n    + \" normalized citations\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citationCountNorm\") || (depth0 != null ? lookupProperty(depth0,\"citationCountNorm\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citationCountNorm\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":172},\"end\":{\"line\":39,\"column\":193}}}) : helper)))\n    + \"</a>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"              <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":41,\"column\":28},\"end\":{\"line\":41,\"column\":49}}}) : helper)))\n    + \"/citations\\\" title=\\\"citation count\\\" class=\\\"citations-redirect-link\\\" aria-label=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citation_count\") || (depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citation_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":41,\"column\":128},\"end\":{\"line\":41,\"column\":146}}}) : helper)))\n    + \" citations\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"citation_count\") || (depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"citation_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":41,\"column\":158},\"end\":{\"line\":41,\"column\":176}}}) : helper)))\n    + \"</a>\\n\";\n},\"16\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n                <div class=\\\"letter-icon s-letter-icon\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"links\") : depth0)) != null ? lookupProperty(stack1,\"text\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(17, data, 0, blockParams, depths),\"inverse\":container.program(23, data, 0, blockParams, depths),\"data\":data,\"loc\":{\"start\":{\"line\":56,\"column\":20},\"end\":{\"line\":81,\"column\":27}}})) != null ? stack1 : \"\")\n    + \"\\n            </div>\\n\\n            <div class=\\\"letter-icon s-letter-icon\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"links\") : depth0)) != null ? lookupProperty(stack1,\"list\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(25, data, 0, blockParams, depths),\"inverse\":container.program(28, data, 0, blockParams, depths),\"data\":data,\"loc\":{\"start\":{\"line\":87,\"column\":16},\"end\":{\"line\":110,\"column\":23}}})) != null ? stack1 : \"\")\n    + \"\\n            </div>\\n            <div class=\\\"letter-icon s-letter-icon\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"links\") : depth0)) != null ? lookupProperty(stack1,\"data\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(30, data, 0, blockParams, depths),\"inverse\":container.program(33, data, 0, blockParams, depths),\"data\":data,\"loc\":{\"start\":{\"line\":115,\"column\":16},\"end\":{\"line\":138,\"column\":23}}})) != null ? stack1 : \"\")\n    + \"\\n            </div>\\n\";\n},\"17\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <a class=\\\"btn-link active-link s-active-link\\\" aria-disabled=\\\"false\\\">\\n                            <i class=\\\"s-text-icon\\\" aria-hidden=\\\"true\\\"></i>\\n                            <span class=\\\"sr-only\\\">quick access to full text links</span>\\n                        </a>\\n                        <ul class=\\\"hidden list-unstyled link-details s-link-details\\\" role=\\\"menu\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"links\") : depth0)) != null ? lookupProperty(stack1,\"text\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(18, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":63,\"column\":28},\"end\":{\"line\":70,\"column\":37}}})) != null ? stack1 : \"\")\n    + \"                        </ul>\\n\\n\";\n},\"18\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, alias4=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                            <li>\\n                              <a \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"openAccess\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(19, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":65,\"column\":33},\"end\":{\"line\":65,\"column\":85}}})) != null ? stack1 : \"\")\n    + \" href=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" data-ftl=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\"\\n                                target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\" aria-label=\\\"open access link\\\">\\n                              \"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(lookupProperty(helpers,\"and\")||(depth0 && lookupProperty(depth0,\"and\"))||alias4).call(alias1,(depths[1] != null ? lookupProperty(depths[1],\"publisher\") : depths[1]),(lookupProperty(helpers,\"startsWith\")||(depth0 && lookupProperty(depth0,\"startsWith\"))||alias4).call(alias1,(depth0 != null ? lookupProperty(depth0,\"rawType\") : depth0),\"PUB_\",{\"name\":\"startsWith\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":67,\"column\":67},\"end\":{\"line\":67,\"column\":99}}}),{\"name\":\"and\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":67,\"column\":49},\"end\":{\"line\":67,\"column\":100}}}),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(21, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":67,\"column\":43},\"end\":{\"line\":67,\"column\":129}}})) != null ? stack1 : \"\")\n    + \"\\n                              </a>\\n                            </li>\\n\";\n},\"19\":function(container,depth0,helpers,partials,data) {\n    return \" class=\\\"s-open-access\\\"\";\n},\"21\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"&nbsp;\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"type\") : depth0), depth0));\n},\"23\":function(container,depth0,helpers,partials,data) {\n    return \"\\n                    <div title=\\\"full text links (none)\\\">\\n                        <a href=\\\"javascript:void(0)\\\" class=\\\"btn-link disabled\\\" aria-disabled=\\\"true\\\" aria-label=\\\"full text links\\\">\\n                            <i class=\\\"s-text-icon\\\" aria-hidden=\\\"true\\\"></i>\\n                        </a>\\n                    </div>\\n\\n\";\n},\"25\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n                <a class=\\\"btn-link active-link s-active-link\\\" aria-disabled=\\\"false\\\">\\n                    <i class=\\\"s-list-icon\\\" aria-hidden=\\\"true\\\"></i>\\n                    <span class=\\\"sr-only\\\">quick links to lists of references, citations and more</span>\\n                </a>\\n\\n                <ul class=\\\"hidden list-unstyled list-unstyled link-details s-link-details\\\" role=\\\"menu\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"links\") : depth0)) != null ? lookupProperty(stack1,\"list\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(26, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":96,\"column\":20},\"end\":{\"line\":98,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\n\\n\";\n},\"26\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <li><a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" data-quicklink=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</a></li>\\n\";\n},\"28\":function(container,depth0,helpers,partials,data) {\n    return \"                <div title=\\\"references, citations (none)\\\">\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn-link disabled\\\" aria-disabled=\\\"true\\\" data-quick-link=\\\"references\\\">\\n                        <i class=\\\"s-list-icon\\\" aria-hidden=\\\"true\\\"></i>\\n                        <span class=\\\"sr-only\\\">quick links to lists of references, citations etc</span>\\n                    </a>\\n                </div>\\n\\n\\n\";\n},\"30\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n                <a class=\\\"btn-link active-link s-active-link\\\" aria-disabled=\\\"false\\\">\\n                    <i class=\\\"s-data-icon\\\" aria-hidden=\\\"true\\\"></i>\\n                    <span class=\\\"sr-only\\\">quick links to data associated with this article</span>\\n                </a>\\n\\n                <ul class=\\\"hidden list-unstyled link-details s-link-details\\\" role=\\\"menu\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"links\") : depth0)) != null ? lookupProperty(stack1,\"data\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(31, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":124,\"column\":20},\"end\":{\"line\":127,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\n\\n\";\n},\"31\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <li><a \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"openAccess\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(19, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":125,\"column\":27},\"end\":{\"line\":125,\"column\":79}}})) != null ? stack1 : \"\")\n    + \" href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"url\") : depth0), depth0))\n    + \"\\\" data-datalink=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\"\\n                        >\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</a></li>\\n\";\n},\"33\":function(container,depth0,helpers,partials,data) {\n    return \"                    <div title=\\\"data products (none)\\\">\\n                        <a href=\\\"javascript:void(0)\\\" class=\\\"btn-link disabled\\\" aria-disabled=\\\"true\\\">\\n                            <i class=\\\"s-data-icon\\\" aria-hidden=\\\"true\\\"></i>\\n                            <span class=\\\"sr-only\\\">quick links to data associated with this article</span>\\n                        </a>\\n                    </div>\\n\\n\";\n},\"35\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(36, data, 0),\"inverse\":container.program(38, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":150,\"column\":12},\"end\":{\"line\":156,\"column\":19}}})) != null ? stack1 : \"\");\n},\"36\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":151,\"column\":30},\"end\":{\"line\":151,\"column\":51}}}) : helper)))\n    + \"/abstract\\\" data-item-index=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"indexToShow\") || (depth0 != null ? lookupProperty(depth0,\"indexToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"indexToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":151,\"column\":79},\"end\":{\"line\":151,\"column\":94}}}) : helper)))\n    + \"\\\" class=\\\"abs-redirect-link\\\">\\n                    <h3 class=\\\"s-results-title\\\">\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":152,\"column\":48},\"end\":{\"line\":152,\"column\":59}}}) : helper))) != null ? stack1 : \"\")\n    + \"</h3>\\n                </a>\\n\";\n},\"38\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <h3 class=\\\"s-results-title\\\">\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":155,\"column\":44},\"end\":{\"line\":155,\"column\":55}}}) : helper))) != null ? stack1 : \"\")\n    + \"</h3>\\n\";\n},\"40\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":158,\"column\":26},\"end\":{\"line\":158,\"column\":47}}}) : helper)))\n    + \"/abstract\\\" data-item-index=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"indexToShow\") || (depth0 != null ? lookupProperty(depth0,\"indexToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"indexToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":158,\"column\":75},\"end\":{\"line\":158,\"column\":90}}}) : helper)))\n    + \"\\\" class=\\\"abs-redirect-link\\\">\\n                <h3 class=\\\"s-results-title\\\">\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":159,\"column\":44},\"end\":{\"line\":159,\"column\":55}}}) : helper))) != null ? stack1 : \"\")\n    + \"</h3>\\n            </a>\\n\";\n},\"42\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"authorFormatted\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(43, data, 0),\"inverse\":container.program(48, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":169,\"column\":12},\"end\":{\"line\":196,\"column\":19}}})) != null ? stack1 : \"\");\n},\"43\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <ul class=\\\"list-inline just-authors s-results-authors less-authors\\\" aria-label=\\\"authors\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"authorFormatted\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(44, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":171,\"column\":16},\"end\":{\"line\":173,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"extraAuthors\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(46, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":175,\"column\":16},\"end\":{\"line\":181,\"column\":23}}})) != null ? stack1 : \"\")\n    + \"            </ul>\\n\\n            <ul class=\\\"list-inline just-authors s-results-authors all-authors hidden\\\" aria-label=\\\"authors\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"allAuthorFormatted\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(44, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":185,\"column\":16},\"end\":{\"line\":187,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                <li>\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"show-less-authors\\\">\\n                        <em>show less</em>\\n                    </a>\\n                </li>\\n            </ul>\\n\";\n},\"44\":function(container,depth0,helpers,partials,data) {\n    return \"                    <li class=\\\"article-author\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\n\";\n},\"46\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <li>\\n                    <a href=\\\"javascript:void(0)\\\" class=\\\"show-all-authors\\\">\\n                        <em>and \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"extraAuthors\") || (depth0 != null ? lookupProperty(depth0,\"extraAuthors\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"extraAuthors\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":178,\"column\":32},\"end\":{\"line\":178,\"column\":48}}}) : helper)))\n    + \" more</em>\\n                    </a>\\n                </li>\\n\";\n},\"48\":function(container,depth0,helpers,partials,data) {\n    return \"                <span class=\\\"text-faded\\\">no author information available</span>\\n\";\n},\"50\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"row\\\">\\n    <div class=\\\"col-sm-10 col-sm-offset-1\\\">\\n        <div class=\\\"s-results-orcid-container\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"pending\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(51, data, 0),\"inverse\":container.program(53, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":209,\"column\":12},\"end\":{\"line\":268,\"column\":19}}})) != null ? stack1 : \"\")\n    + \" <!--orcid.pending-->\\n    </div>\\n\\n</div>\\n\";\n},\"51\":function(container,depth0,helpers,partials,data) {\n    return \"            <button class=\\\"btn btn-default btn-sm s-orcid-loading\\\" aria-disabled=\\\"true\\\">\\n                <i class=\\\"fa fa-lg fa-spinner fa-pulse\\\" aria-hidden=\\\"true\\\"></i> Working...\\n            </button>\\n\";\n},\"53\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <!-- if provenance, it has been added by us or someone else-->\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"provenance\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(54, data, 0),\"inverse\":container.program(68, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":215,\"column\":12},\"end\":{\"line\":267,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"<!--orcid.provenance -->\\n            \";\n},\"54\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n            <div class=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"error\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(55, data, 0),\"inverse\":container.program(57, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":217,\"column\":24},\"end\":{\"line\":217,\"column\":83}}})) != null ? stack1 : \"\")\n    + \" s-orcid-alert s-orcid-provenance-\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"provenance\") : stack1), depth0))\n    + \"\\\" role=\\\"alert\\\">\\n                <div class=\\\"btn-group\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm dropdown-toggle\\\" data-toggle=\\\"dropdown\\\"\\n                            aria-expanded=\\\"false\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"error\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(59, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":220,\"column\":50},\"end\":{\"line\":220,\"column\":99}}})) != null ? stack1 : \"\")\n    + \">\\n                        <img src=\\\"../../styles/img/orcid-active.svg\\\" alt=\\\"orcid logo active\\\" class=\\\"s-orcid-img\\\"/> Actions <span class=\\\"caret\\\"></span>\\n                    </button>\\n                    <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"actions\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(61, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":224,\"column\":24},\"end\":{\"line\":238,\"column\":37}}})) != null ? stack1 : \"\")\n    + \"                        </li>\\n                    </ul>\\n                </div>\\n\\n                \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"source_name\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(66, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":243,\"column\":16},\"end\":{\"line\":243,\"column\":95}}})) != null ? stack1 : \"\")\n    + \"\\n                <span class=\\\"text-success s-orcid-success pull-right\\\"> <i class=\\\"icon-success\\\" aria-hidden=\\\"true\\\"></i>&nbsp;In ORCID&nbsp;</span>\\n\\n            </div>\\n\\n\\n\\n            \";\n},\"55\":function(container,depth0,helpers,partials,data) {\n    return \"alert-danger\";\n},\"57\":function(container,depth0,helpers,partials,data) {\n    return \"alert-success\";\n},\"59\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"title=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"error\") : stack1), depth0))\n    + \"\\\"\";\n},\"61\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <li>\\n\\n                            <a class=\\\"orcid-action \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"action\") : depth0), depth0))\n    + \"\\\" data-action=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"action\") : depth0), depth0))\n    + \"\\\"\\n                               title=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"caption\") : depth0), depth0))\n    + \"\\\">\\n                                <i class=\\\"\\n\"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"action\") : depth0),\"orcid-update\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(62, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":230,\"column\":28},\"end\":{\"line\":232,\"column\":40}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"action\") : depth0),\"orcid-delete\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(64, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":233,\"column\":28},\"end\":{\"line\":235,\"column\":40}}})) != null ? stack1 : \"\")\n    + \"                            \\\" aria-hidden=\\\"true\\\"></i>\\n                                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</a>\\n\";\n},\"62\":function(container,depth0,helpers,partials,data) {\n    return \"                            icon-reload-c\\n\";\n},\"64\":function(container,depth0,helpers,partials,data) {\n    return \"                            icon-clear-c\\n\";\n},\"66\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"s-orcid-source\\\">(\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"source_name\") || (depth0 != null ? lookupProperty(depth0,\"source_name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"source_name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":243,\"column\":65},\"end\":{\"line\":243,\"column\":80}}}) : helper)))\n    + \")</span>\";\n},\"68\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<!-- add this paper to ORCID-->\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"bibcode\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(69, data, 0),\"inverse\":container.program(74, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":252,\"column\":12},\"end\":{\"line\":264,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"\\n\\n            \";\n},\"69\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <button class=\\\"btn \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"error\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(70, data, 0),\"inverse\":container.program(72, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":253,\"column\":31},\"end\":{\"line\":253,\"column\":86}}})) != null ? stack1 : \"\")\n    + \" btn-sm orcid-action \"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"actions\") : stack1)) != null ? lookupProperty(stack1,\"add\") : stack1)) != null ? lookupProperty(stack1,\"action\") : stack1), depth0))\n    + \"\\\"  data-action=\\\"\"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"actions\") : stack1)) != null ? lookupProperty(stack1,\"add\") : stack1)) != null ? lookupProperty(stack1,\"action\") : stack1), depth0))\n    + \"\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"error\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(59, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":253,\"column\":181},\"end\":{\"line\":253,\"column\":230}}})) != null ? stack1 : \"\")\n    + \">\\n               <img src=\\\"../../styles/img/orcid-inactive.svg\\\" alt=\\\"orcid logo inactive\\\" class=\\\"s-orcid-img\\\" title=\\\"\"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0)) != null ? lookupProperty(stack1,\"actions\") : stack1)) != null ? lookupProperty(stack1,\"add\") : stack1)) != null ? lookupProperty(stack1,\"caption\") : stack1), depth0))\n    + \"\\\"/>\\n                Claim in ORCID\\n            </button>\\n\";\n},\"70\":function(container,depth0,helpers,partials,data) {\n    return \"btn-danger\";\n},\"72\":function(container,depth0,helpers,partials,data) {\n    return \"btn-default\";\n},\"74\":function(container,depth0,helpers,partials,data) {\n    return \"            <div class=\\\"panel panel-default\\\" style=\\\"box-shadow: none\\\">\\n                <div class=\\\"panel-body\\\">\\n                    <img src=\\\"../../styles/img/orcid-inactive.svg\\\" alt=\\\"orcid logo inactive\\\" class=\\\"s-orcid-img\\\" title=\\\"\\\"/>\\n                    Record not known to ADS\\n                </div>\\n            </div>\\n\";\n},\"76\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n        <div class=\\\"col-xs-10 col-xs-offset-1 s-more-info\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(lookupProperty(helpers,\"isdefined\")||(depth0 && lookupProperty(depth0,\"isdefined\"))||container.hooks.helperMissing).call(alias1,(depth0 != null ? lookupProperty(depth0,\"highlights\") : depth0),{\"name\":\"isdefined\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":278,\"column\":14},\"end\":{\"line\":278,\"column\":36}}}),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(77, data, 0),\"inverse\":container.program(83, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":278,\"column\":8},\"end\":{\"line\":292,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n\";\n},\"77\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"highlights\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(78, data, 0),\"inverse\":container.program(81, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":279,\"column\":12},\"end\":{\"line\":289,\"column\":19}}})) != null ? stack1 : \"\");\n},\"78\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <h4 class=\\\"sr-only\\\">Search Highlights</h4>\\n            <ul aria-label=\\\"search snippets\\\" class=\\\"s-search-snippets\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"highlights\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(79, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":282,\"column\":16},\"end\":{\"line\":284,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </ul>\\n\\n\";\n},\"79\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"                <li>\"\n    + ((stack1 = container.lambda(depth0, depth0)) != null ? stack1 : \"\")\n    + \"</li>\\n\";\n},\"81\":function(container,depth0,helpers,partials,data) {\n    return \"                <span class=\\\"text-muted\\\">No highlights</span>\\n\";\n},\"83\":function(container,depth0,helpers,partials,data) {\n    return \"            <span class=\\\"text-muted\\\"><i class=\\\"fa fa-spinner fa-pulse\\\" aria-hidden=\\\"true\\\"></i> Loading Highlights...</span>\\n\";\n},\"85\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <div class=\\\"col-xs-9 col-xs-offset-1 s-more-info\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"abstract\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(86, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":300,\"column\":16},\"end\":{\"line\":316,\"column\":23}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n\";\n},\"86\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <h4 aria-label=\\\"read full abstract below\\\"><a href=\\\"#abs/\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"identifier\") || (depth0 != null ? lookupProperty(depth0,\"identifier\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"identifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":301,\"column\":76},\"end\":{\"line\":301,\"column\":90}}}) : helper)))\n    + \"\\\">Abstract</a></h4>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"shortAbstract\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(87, data, 0),\"inverse\":container.program(89, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":302,\"column\":20},\"end\":{\"line\":315,\"column\":27}}})) != null ? stack1 : \"\");\n},\"87\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n                    <div class=\\\"short-abstract\\\" aria-label=\\\"a truncated version of the abstract\\\">\\n                        \"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"shortAbstract\") || (depth0 != null ? lookupProperty(depth0,\"shortAbstract\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"shortAbstract\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":305,\"column\":24},\"end\":{\"line\":305,\"column\":43}}}) : helper))) != null ? stack1 : \"\")\n    + \"\\n                        &nbsp; <button class=\\\"btn btn-xs btn-default show-full-abstract\\\">more</button>\\n                    </div>\\n                    <div class=\\\"full-abstract hidden\\\">\\n                        \"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"abstract\") || (depth0 != null ? lookupProperty(depth0,\"abstract\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"abstract\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":309,\"column\":24},\"end\":{\"line\":309,\"column\":38}}}) : helper))) != null ? stack1 : \"\")\n    + \"\\n                        &nbsp; <button class=\\\"btn btn-xs btn-default hide-full-abstract\\\">less</button>\\n                    </div>\\n\";\n},\"89\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <!--the abstract is short enough to be shown all at once-->\\n                        \"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"abstract\") || (depth0 != null ? lookupProperty(depth0,\"abstract\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"abstract\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":314,\"column\":24},\"end\":{\"line\":314,\"column\":38}}}) : helper))) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div tabindex=\\\"-1\\\" class=\\\"col-sm-12 \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"chosen\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":36},\"end\":{\"line\":1,\"column\":65}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n<div class=\\\"row s-top-row\\\">\\n    <div class=\\\"col-xs-1 s-checkbox-col s-top-row-col\\\">\\n        <label>\\n            <span class=\\\"hidden-xs\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"indexToShow\") || (depth0 != null ? lookupProperty(depth0,\"indexToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"indexToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":36},\"end\":{\"line\":5,\"column\":51}}}) : helper)))\n    + \"</span>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"showCheckbox\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":12},\"end\":{\"line\":10,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"        </label>\\n    </div>\\n\\n    <div class=\\\"col-xs-4 col-sm-3 s-top-row-col identifier s-identifier\\\">\\n        <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"encodedIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"encodedIdentifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"encodedIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":22},\"end\":{\"line\":15,\"column\":43}}}) : helper)))\n    + \"/abstract\\\" data-item-index=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"indexToShow\") || (depth0 != null ? lookupProperty(depth0,\"indexToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"indexToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":71},\"end\":{\"line\":15,\"column\":86}}}) : helper)))\n    + \"\\\" aria-label=\\\"bibcode\\\" class=\\\"abs-redirect-link\\\">\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"identifier\") || (depth0 != null ? lookupProperty(depth0,\"identifier\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"identifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":12},\"end\":{\"line\":16,\"column\":26}}}) : helper)))\n    + \"\\n        </a>\\n    </div>\\n    <div class=\\\"hidden-xs col-xs-1 col-md-1 col-md-offset-0 s-top-row-col print-visible-inline-1\\\" aria-label=\\\"date published\\\">\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"formattedDate\") || (depth0 != null ? lookupProperty(depth0,\"formattedDate\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"formattedDate\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":8},\"end\":{\"line\":20,\"column\":25}}}) : helper)))\n    + \"\\n    </div>\\n\\n    <div class=\\\"hidden-xs print-visible-block-1\\\">\\n      <div class=\\\"col-xs-3 col-sm-5 col-md-3 s-top-row-col\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":10},\"end\":{\"line\":31,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </div>\\n    </div>\\n\\n    <div class=\\\"hidden-sm hidden-md hidden-lg print-hidden\\\">\\n      <div class=\\\"col-xs-2 col-sm-5 col-md-3 s-top-row-col text-right\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":10},\"end\":{\"line\":43,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </div>\\n    </div>\\n\\n\\n\\n    <div class=\\\"col-xs-5 col-sm-4 pull-right\\\">\\n        <div class=\\\"s-results-links\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"links\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":52,\"column\":12},\"end\":{\"line\":141,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"      </div>\\n    </div>\\n\\n</div>\\n<div class=\\\"row\\\">\\n\\n    <div class=\\\"col-xs-10 col-xs-offset-1\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isOrcidWidget\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(35, data, 0, blockParams, depths),\"inverse\":container.program(40, data, 0, blockParams, depths),\"data\":data,\"loc\":{\"start\":{\"line\":149,\"column\":8},\"end\":{\"line\":161,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xs-10 col-xs-offset-1\\\">\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isOrcidWidget\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(42, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":168,\"column\":8},\"end\":{\"line\":197,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"\\n\\n    </div>\\n\\n</div>\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"orcid\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(50, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":204,\"column\":1},\"end\":{\"line\":272,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\n    <div class=\\\"row highlight-row\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"showHighlights\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(76, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":275,\"column\":4},\"end\":{\"line\":294,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n\\n    <div class=\\\"row abstract-row\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"showAbstract\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(85, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":298,\"column\":8},\"end\":{\"line\":318,\"column\":12}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n</div>\\n\";\n},\"useData\":true,\"useDepths\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/templates/item-template.html?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/templates/pagination-partial.html":
/*!*************************************************************************!*\
  !*** ./src/js/widgets/list_of_things/templates/pagination-partial.html ***!
  \*************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"            <i class=\\\"icon-loading\\\" aria-hidden=\\\"true\\\"></i>&nbsp;Loading more papers...\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"error\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":0},\"end\":{\"line\":43,\"column\":11}}})) != null ? stack1 : \"\");\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"row\\\" style=\\\"margin: 0; position: relative\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":4},\"end\":{\"line\":40,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"    <button class=\\\"btn btn-link\\\" id=\\\"backToTopBtn\\\">Top <i class=\\\"fa fa-caret-up\\\" aria-hidden=\\\"true\\\"></i></button>\\n</div>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"col-sm-12 pagination-controls s-pagination-controls\\\">\\n        <div class=\\\"col-xs-5 per-page-container\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":12},\"end\":{\"line\":27,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n        <div class=\\\"col-xs-7 pagination-container\\\">\\n            <nav aria-label=\\\"pagination controls\\\">\\n                <ul class=\\\"pager\\\">\\n                    <li class=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"previousPossible\") : stack1),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":32,\"column\":31},\"end\":{\"line\":32,\"column\":89}}})) != null ? stack1 : \"\")\n    + \"\\\"><a href=\\\"javascript:void(0)\\\" class=\\\"page-control previous-page\\\"><i class=\\\"fa fa-chevron-circle-left\\\" aria-hidden=\\\"true\\\"></i> prev</a></li>\\n                    <li><input type=\\\"text\\\" value=\\\"\"\n    + alias3(alias2(((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"currentPage\") : stack1), depth0))\n    + \"\\\" class=\\\"form-control page-control\\\" style=\\\"display:inline-block;width:60px\\\" aria-label=\\\"set the current page\\\" aria-hidden=\\\"true\\\"> of \"\n    + alias3(alias2(((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"totalPages\") : stack1), depth0))\n    + \"</li>\\n                    <li class=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"nextPossible\") : stack1),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":31},\"end\":{\"line\":34,\"column\":85}}})) != null ? stack1 : \"\")\n    + \"\\\"><a href=\\\"javascript:void(0)\\\" class=\\\"page-control next-page\\\">next <i class=\\\"fa fa-chevron-circle-right\\\" aria-hidden=\\\"true\\\"></i></a></li>\\n                </ul>\\n            </nav>\\n\\n        </div>\\n    </div>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <div class=\\\"form-group\\\">\\n              <label for=\\\"per-page-select\\\" class=\\\"col-xs-6 control-label\\\" style=\\\"line-height: 32px; text-align: right;\\\">Per Page</label>\\n              <div class=\\\"col-xs-6 col-sm-5\\\">\\n                <select name=\\\"per-page-select\\\" id=\\\"per-page-select\\\" class=\\\"form-control\\\">\\n                  <option value=\\\"25\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"perPage\") : stack1),25,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":37},\"end\":{\"line\":19,\"column\":89}}})) != null ? stack1 : \"\")\n    + \">25</option>\\n                  <option value=\\\"50\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"perPage\") : stack1),50,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":37},\"end\":{\"line\":20,\"column\":89}}})) != null ? stack1 : \"\")\n    + \">50</option>\\n                  <option value=\\\"100\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"perPage\") : stack1),100,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":38},\"end\":{\"line\":21,\"column\":91}}})) != null ? stack1 : \"\")\n    + \">100</option>\\n                  <option value=\\\"200\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"perPage\") : stack1),200,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":38},\"end\":{\"line\":22,\"column\":91}}})) != null ? stack1 : \"\")\n    + \">200</option>\\n                  <option value=\\\"500\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pageData\") : depth0)) != null ? lookupProperty(stack1,\"perPage\") : stack1),500,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":38},\"end\":{\"line\":23,\"column\":91}}})) != null ? stack1 : \"\")\n    + \">500</option>\\n                </select>\\n              </div>\\n            </div>\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"selected\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \" disabled \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"row\\\">\\n    <div class=\\\"col-sm-12 page-loading\\\" style=\\\"text-align:center\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"loading\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":12},\"end\":{\"line\":5,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"query\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":0},\"end\":{\"line\":44,\"column\":11}}})) != null ? stack1 : \"\");\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/templates/pagination-partial.html?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/templates/results-container-template.html":
/*!*********************************************************************************!*\
  !*** ./src/js/widgets/list_of_things/templates/results-container-template.html ***!
  \*********************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div>\\n      <h4 class=\\\"s-list-description\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"description\") : depth0), depth0))\n    + \"</h4>\\n    </div>\\n    \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n    <div>\\n      <h2 class=\\\"s-article-title\\\">\"\n    + ((stack1 = container.lambda((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0)) != null ? stack1 : \"\")\n    + \"</h2>\\n    </div>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"citation_discrepancy\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":43},\"end\":{\"line\":31,\"column\":11}}})) != null ? stack1 : \"\")\n    + \" \";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n    <div>\\n      <i class=\\\"fa fa-exclamation-triangle\\\" aria-hidden=\\\"true\\\"></i>\\n      This list is missing <b>\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"citation_discrepancy\") : depth0), depth0))\n    + \"</b> records, which could\\n      not be matched to papers in ADS.\\n    </div>\\n    <br />\\n    \";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n    <div class=\\\"s-operator print-hidden\\\">\\n      <a href=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"queryURL\") : depth0), depth0))\n    + \"\\\" class=\\\"btn btn-sm btn-inverse btn-primary-faded\\\"\\n        ><i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i> view this list in a\\n        search results page</a\\n      >\\n    </div>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \" \"\n    + ((stack1 = container.invokePartial(__webpack_require__(/*! ./pagination-partial.html */ \"./src/js/widgets/list_of_things/templates/pagination-partial.html\"),depth0,{\"name\":\"js/widgets/list_of_things/templates/pagination-partial\",\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \" \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"s-list-controls\\\">\\n  <div class=\\\"s-results-border-bottom\\\">\\n    <div class=\\\"col-sm-1\\\"></div>\\n\\n    <div class=\\\"col-sm-6\\\"></div>\\n\\n    <div class=\\\"col-sm-4 sort-container\\\"></div>\\n\\n    <div class=\\\"col-sm-1\\\"></div>\\n  </div>\\n\\n  <div class=\\\"s-list-title\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"description\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":4},\"end\":{\"line\":17,\"column\":11}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":12},\"end\":{\"line\":21,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"\\n    <!--citation widget should show info if [citations] and citation_count don't match-->\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"queryOperator\") : depth0),\"citations\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":4},\"end\":{\"line\":31,\"column\":24}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"queryOperator\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":25},\"end\":{\"line\":38,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n\\n  <ul\\n    class=\\\"results-list  s-results-list list-unstyled s-display-block\\\"\\n    aria-label=\\\"list of results\\\"\\n  ></ul>\\n\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":46,\"column\":2},\"end\":{\"line\":47,\"column\":66}}})) != null ? stack1 : \"\")\n    + \"\\n</div>\\n\";\n},\"usePartial\":true,\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/templates/results-container-template.html?");

/***/ }),

/***/ "./src/js/widgets/list_of_things/widget.js":
/*!*************************************************!*\
  !*** ./src/js/widgets/list_of_things/widget.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * This widget can paginate through a list of results. It can easily be inherited\n * by results widget ,table of contents widget, etc. It either listens to INVITING_REQUEST\n * in the case of the results widget, or the loadBibcode method (currently all other widgets).\n *\n * This widget consists of the following components:\n *\n * 1. a pagination view (you can choose from expanding view or paginated view [default])\n * 2. an associated pagination model (all pagination info is kept here and only here)\n * 3. a list view that listens to the visible records and renders them\n * 4. an item view for each record rendered repeatedly by the list view\n * 5. a controller that handles requesting and recieving data from pubsub and initializing everything\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! utils */ \"./src/js/utils.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/api_feedback */ \"./src/js/components/api_feedback.js\"), __webpack_require__(/*! js/widgets/base/base_widget */ \"./src/js/widgets/base/base_widget.js\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/item-template */ \"./src/js/widgets/list_of_things/templates/item-template.html\"), __webpack_require__(/*! hbs!js/widgets/list_of_things/templates/results-container-template */ \"./src/js/widgets/list_of_things/templates/results-container-template.html\"), __webpack_require__(/*! js/mixins/add_stable_index_to_collection */ \"./src/js/mixins/add_stable_index_to_collection.js\"), __webpack_require__(/*! js/widgets/list_of_things/model */ \"./src/js/widgets/list_of_things/model.js\"), __webpack_require__(/*! js/widgets/list_of_things/paginated_view */ \"./src/js/widgets/list_of_things/paginated_view.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Marionette, Backbone, utils, ApiRequest, ApiQuery, ApiFeedback, BaseWidget, ItemTemplate, ResultsContainerTemplate, PaginationMixin, PaginatedCollection, PaginatedView) {\n  var ListOfThingsWidget = BaseWidget.extend({\n    initialize: function initialize(options) {\n      var _this = this;\n\n      options = options || {};\n\n      _.defaults(options, _.pick(this, ['view', 'collection', 'pagination', 'model', 'description', 'childView'])); // widget.reset will restore these default pagination settings\n      // for now, it doesn't make sense to pass them as options\n      // since localStorage perPage will override it anyway\n      // this functions as model.defaults while allowing the inheriting\n      // widgets to provide their own models with their own defaults\n\n\n      this.pagination = {\n        pagination: true,\n        // default per page : 25\n        perPage: 25,\n        numFound: undefined,\n        currentQuery: undefined,\n        start: 0,\n        pageData: undefined,\n        focusedIndex: -1\n      };\n      options.collection = options.collection || new PaginatedCollection();\n\n      if (!options.view) {\n        // operator instructs view to show a link that has citations:(bibcode) or something similar\n        options.view = new PaginatedView({\n          collection: options.collection,\n          model: options.model,\n          childView: options.childView\n        });\n      }\n\n      options.view.model.set(this.pagination, {\n        silent: true\n      });\n      options.view.model.set({\n        // for the template button that opens search in search results page\n        sortOrder: options.sortOrder,\n        removeSelf: options.removeSelf,\n        queryOperator: options.queryOperator,\n        description: options.description\n      }, {\n        silent: true\n      });\n\n      _.extend(this, {\n        model: options.view.model,\n        view: options.view\n      }); // this is the hidden collection (just to hold data)\n\n\n      this.hiddenCollection = new PaginatedCollection(); // XXX:rca - start using modelEvents, instead of all....\n\n      this.listenTo(this.hiddenCollection, 'all', this.onAllInternalEvents);\n      this.listenTo(this.view, 'all', this.onAllInternalEvents);\n      this.on('all', this.onAllInternalEvents);\n      this.model.on('change:page', function () {\n        _this.model.set('focusedIndex', -1, {\n          silent: true\n        });\n      });\n      this.changePage = _.debounce(this.changePage.bind(this), 500);\n      BaseWidget.prototype.initialize.call(this, options);\n    },\n    // this must be extended by inheriting widgets to listen to display events\n    activate: function activate(beehive) {\n      var _this2 = this;\n\n      this.setBeeHive(beehive);\n\n      _.bindAll(this, ['updatePaginationPreferences']);\n\n      var ps = this.getPubSub();\n\n      if (this.getBeeHive().getObject('User') && this.getBeeHive().getObject('User').getLocalStorage) {\n        var perPage = this.getBeeHive().getObject('User').getLocalStorage().perPage;\n\n        if (perPage) {\n          // set the pagination perPage value to whatever is in local storage,\n          // otherwise it will be the default val from the initialize function\n          this.pagination.perPage = perPage;\n          this.model.set(this.pagination);\n        }\n      }\n\n      ps.subscribe(ps.INVITING_REQUEST, function () {\n        _this2.updateState(_this2.STATES.LOADING);\n      });\n      this.activateWidget();\n      this.attachGeneralHandler(this.onApiFeedback);\n      ps.subscribe(ps.USER_ANNOUNCEMENT, this.updatePaginationPreferences);\n      ps.subscribe(ps.CUSTOM_EVENT, function (event) {\n        if (event === 'hotkey/next') {\n          _this2.changePage(1);\n        } else if (event === 'hotkey/prev') {\n          _this2.changePage(-1);\n        } else if (event === 'hotkey/item-next') {\n          _this2.changeItemFocus(1);\n        } else if (event === 'hotkey/item-prev') {\n          _this2.changeItemFocus(-1);\n        } else if (event === 'hotkey/item-select') {\n          _this2.selectItem();\n        }\n      });\n    },\n    selectItem: function selectItem() {\n      var idx = this.model.get('focusedIndex');\n\n      if (idx >= 0) {\n        var view = this.view.children.findByIndex(idx);\n\n        if (view && view.toggleSelect) {\n          view.toggleSelect();\n        }\n      }\n    },\n    changeItemFocus: function changeItemFocus(change) {\n      var len = this.view.children.length;\n      var focusedIndex = this.model.get('focusedIndex');\n\n      if (focusedIndex <= 0 && change === -1) {\n        focusedIndex = len - 1;\n      } else if (focusedIndex === len - 1 && change === 1) {\n        focusedIndex = 0;\n      } else {\n        focusedIndex += change;\n      }\n\n      this.model.set('focusedIndex', focusedIndex, {\n        silent: true\n      });\n      var view = this.view.children.findByIndex(focusedIndex);\n\n      if (view && view.el) {\n        $('>', view.el).focus();\n      }\n    },\n    changePage: function changePage(change) {\n      this.updatePagination({\n        page: (this.model.get('page') || 0) + change\n      });\n    },\n    onApiFeedback: function onApiFeedback(feedback) {\n      if (feedback.error) {\n        this.view.model.set('error', feedback.error);\n        this.updateState(this.STATES.ERRORED);\n      }\n    },\n    updatePaginationPreferences: function updatePaginationPreferences(event, data) {\n      if (event == 'user_info_change' && data.perPage && data.perPage !== this.pagination.perPage) {\n        // update per-page value\n        this.updatePagination({\n          perPage: data.perPage\n        });\n      }\n    },\n\n    /**\n     * Get the current query from either our own apiResponse or from\n     * the application local storage\n     *\n     * @param {ApiResponse} apiResponse - the response from the api\n     * @returns {string} - the query string\n     * @private\n     */\n    _getCurrentQueryString: function _getCurrentQueryString(apiResponse) {\n      var q = '';\n      var res = apiResponse || this.getBeeHive().getObject('AppStorage').getCurrentQuery(); // check for simbids\n\n      if (!_.isUndefined(res)) {\n        q = res.getApiQuery().get('q'); // if there is a simbid, look to see if there is a translated string\n\n        if (_.isEmpty(q) || q[0].indexOf('simbid') > -1) {\n          try {\n            q = [res.get('responseHeader.params.__original_query')];\n          } catch (err) {\n            // No original query present in responseHeader, this may be a biblib and not a solr request\n            q = '';\n          }\n        }\n      }\n\n      return q;\n    },\n    processResponse: function processResponse(apiResponse) {\n      var docs = this.extractDocs(apiResponse);\n      var numFound = apiResponse.has('response.numFound') ? apiResponse.get('response.numFound') : this.hiddenCollection.length;\n      var start = apiResponse.has('response.start') ? apiResponse.get('response.start') : this.model.get('start');\n      var pagination = this.getPaginationInfo(apiResponse, docs);\n      docs = this.processDocs(apiResponse, docs, pagination);\n      var self = this;\n\n      if (docs && docs.length) {\n        // make sure the new docs close highlights if they aren't there\n        var dummyElement = $('<textarea/>');\n\n        var newDocs = _.map(docs, function (d) {\n          if (d.highlights) {\n            d.highlights = d.highlights.map(function (h) {\n              return dummyElement.html(h).text();\n            }); // get the decoded html text\n          }\n\n          return _.extend(d, {\n            showHighlights: typeof d.highlights !== 'undefined',\n            showCheckbox: !!self.model.get('showCheckboxes')\n          });\n        });\n\n        this.hiddenCollection.add(newDocs, {\n          merge: true\n        }); // finally, if there aren't any highlights, close the button\n\n        var hasHighlights = this.hiddenCollection.filter(function (m) {\n          return m.get('highlights');\n        });\n\n        if (hasHighlights.length === 0) {\n          this.view.model.set('showHighlights', 'closed');\n        }\n\n        if (pagination.showRange) {\n          // we must update the model before updating collection because the showRange\n          // can automatically start fetching documents\n          this.model.set(pagination);\n          this.hiddenCollection.showRange(pagination.showRange[0], pagination.showRange[1]);\n        }\n\n        this.view.collection.reset(this.hiddenCollection.getVisibleModels());\n        this.view.model.set('query', false);\n      } else {\n        var params = apiResponse.get('responseHeader.params');\n        this.view.model.set({\n          isTugboat: !!params.__tb,\n          query: this._getCurrentQueryString(apiResponse),\n          currentQuery: apiResponse.getApiQuery()\n        });\n      } // XXX:rca - hack, to be solved later\n\n\n      this.trigger('page-manager-event', 'widget-ready', {\n        numFound: numFound\n      });\n      var allLoaded = this.model.has('perPage') && this.model.get('perPage') === this.collection.length;\n      var isLastPage = this.model.has('pageData') && this.model.get('pageData').nextPossible === false;\n      var noItems = this.view.collection.length === 0; // finally, loading view (from pagination template) can be removed or added\n\n      if (noItems || allLoaded || isLastPage && numFound <= start + docs.length) {\n        this.model.set('loading', false);\n        this.updateState(this.STATES.IDLE);\n      } else {\n        this.model.set('loading', true);\n      }\n    },\n    extractDocs: function extractDocs(apiResponse) {\n      var docs = apiResponse.get('response.docs');\n      docs = _.map(docs, function (d) {\n        d.all_ids = d.identifier;\n\n        if (d.bibcode) {\n          d.original_identifier = d.identifier;\n          d.identifier = d.bibcode ? d.bibcode : d.identifier;\n        }\n\n        return d;\n      });\n      return docs;\n    },\n    getPaginationInfo: function getPaginationInfo(apiResponse, docs) {\n      var q = apiResponse.getApiQuery(); // this information is important for calculation of pages\n\n      var numFound = apiResponse.get('response.numFound') || 0;\n      var perPage = this.model.get('perPage') || (q.has('rows') ? q.get('rows')[0] : 10);\n      var start = this.model.get('start') || 0; // compute the page number of this request\n\n      var page = PaginationMixin.getPageVal(start, perPage); // compute which documents should be made visible\n\n      var showRange = [page * perPage, (page + 1) * perPage - 1]; // means that we were fetching the missing documents (to fill gaps in the collection)\n\n      var fillingGaps = q.has('__fetch_missing');\n\n      if (fillingGaps) {\n        return {\n          start: start,\n          showRange: showRange\n        };\n      }\n\n      var pageData = this._getPaginationData(page, perPage, numFound);\n\n      return {\n        numFound: numFound,\n        perPage: perPage,\n        start: start,\n        page: page,\n        showRange: showRange,\n        pageData: pageData,\n        currentQuery: q\n      };\n    },\n\n    /*\n     * data for the page numbers template at the bottom\n     * */\n    _getPaginationData: function _getPaginationData(page, perPage, numFound) {\n      // page is zero indexed\n      return {\n        // copying this here for convenience\n        perPage: perPage,\n        totalPages: Math.ceil(numFound / perPage),\n        currentPage: page + 1,\n        previousPossible: page > 0,\n        nextPossible: (page + 1) * perPage < numFound\n      };\n    },\n    processDocs: function processDocs(apiResponse, docs, paginationInfo) {\n      if (!apiResponse.has('response')) return [];\n      var params = apiResponse.get('response');\n      var start = params.start || paginationInfo.start || 0;\n      docs = PaginationMixin.addPaginationToDocs(docs, start);\n      return docs;\n    },\n    defaultQueryArguments: {\n      fl: 'id',\n      start: 0\n    },\n\n    /*\n     * right now only perPage value can be updated by list of things\n     * */\n    updateLocalStorage: function updateLocalStorage(options) {\n      // if someone has selected perPage, save it in to localStorage\n      if (options.hasOwnProperty('perPage') && _.contains([25, 50, 100, 200, 500], options.perPage)) {\n        this.getBeeHive().getObject('User').setLocalStorage({\n          perPage: options.perPage\n        });\n        console.log(\"set user's page preferences in localStorage: \" + options.perPage);\n      } // updatePagination will be called after localStorage triggers an event\n\n    },\n    updatePagination: function updatePagination(options) {\n      // update the current model based on the data passed in\n      var opts = _.defaults({}, options, {\n        silentIndexUpdate: false,\n        updateHash: true\n      });\n\n      var currentPageData = this.model.get('pageData');\n      var start = this.model.get('start');\n      var update = {};\n      var currentQuery = this.model.get('currentQuery') || new ApiQuery();\n      var pageParam = currentQuery.get('p_'); // add numFound\n\n      if (_.isNumber(opts.numFound)) {\n        update.numFound = opts.numFound;\n      } // add perPage\n\n\n      if (_.isNumber(opts.perPage)) {\n        update.perPage = opts.perPage; // update the pagination object\n\n        this.pagination.perPage = opts.perPage;\n      } // if page isn't specified, check the location hash\n\n\n      if (_.isArray(pageParam) && _.isUndefined(opts.page)) {\n        try {\n          opts.page = parseInt(pageParam[0]);\n        } catch (e) {// do nothing\n        }\n      } // check to make sure this page update is valid, and add to update\n\n\n      if (_.isNumber(opts.page)) {\n        var max = currentPageData && currentPageData.totalPages - 1 || 1;\n        var min = 0; // check if page is within our set boundaries\n\n        if (opts.page > max) {\n          update.page = max;\n        } else if (opts.page < min) {\n          update.page = min;\n        } else {\n          update.page = opts.page;\n        }\n      } else {\n        // otherwise compute the page using the start and perPage value\n        if (_.isEmpty(this.collection.models) && _.isNumber(start) && _.isNumber(opts.perPage)) {\n          update.page = PaginationMixin.getPageVal(start, opts.perPage);\n        } else if (_.isNumber(start) && _.isNumber(opts.perPage)) {\n          var resIdx = this.collection.models[0].get('resultsIndex');\n          update.page = PaginationMixin.getPageVal(resIdx, opts.perPage);\n        }\n      }\n\n      var page = _.isNumber(update.page) ? update.page : this.model.get('page');\n      var perPage = _.isNumber(update.perPage) ? update.perPage : this.model.get('perPage');\n      var numFound = _.isNumber(update.numFound) ? update.numFound : this.model.get('numFound'); // once the hash is updated, this is called again, return here so we don't recompute, and only on results page\n\n      var frag = Backbone.history && Backbone.history.getFragment && Backbone.history.getFragment();\n\n      if ('' + page !== (_.isArray(pageParam) && pageParam[0]) && opts.updateHash && /search/.test(frag) && utils.qs('p_', frag) !== '' + page) {\n        Backbone.history && Backbone.history.navigate && Backbone.history.navigate(utils.updateHash('p_', page, frag));\n      } // compute the new start and pageData values\n\n\n      update.start = this.getPageStart(page, perPage, numFound);\n      update.pageData = this._getPaginationData(page, perPage, numFound);\n      update.showRange = [page * perPage, page * perPage + perPage - 1]; // start updating\n\n      this.model.set(update);\n      this.view.render();\n      this.hiddenCollection.showRange(update.showRange[0], update.showRange[1], {\n        silent: !!opts.silentIndexUpdate\n      });\n      this.collection.reset(this.hiddenCollection.getVisibleModels()); // finally, scroll back to the top\n\n      $(document.documentElement).scrollTop(0);\n    },\n    onAllInternalEvents: function onAllInternalEvents(ev, arg1, arg2) {\n      // for testing, allow widget to not have been activated\n      try {\n        var pubsub = this.getPubSub();\n      } catch (e) {}\n\n      if (ev === 'pagination:changePerPage') {\n        this.updateLocalStorage({\n          perPage: arg1\n        });\n        this.updatePagination({\n          page: 0,\n          perPage: arg1\n        });\n        this.view.model.set('showHighlights', 'closed');\n      } else if (ev === 'pagination:select') {\n        this.view.model.set('showHighlights', 'closed');\n        return this.updatePagination({\n          page: arg1\n        });\n      } else if (ev === 'show:missing') {\n        _.each(arg1, function (gap) {\n          var numFound = this.model.get('numFound');\n          var start = gap.start;\n          var perPage = this.model.get('perPage');\n          var currStart = this.model.get('start');\n          if (!numFound || start >= numFound || start !== currStart && currStart > 0) return; // ignore this\n\n          var q = this.model.get('currentQuery').clone();\n          q.unset('hl');\n          q.unset('hl.fl');\n          q.unset('hl.maxAnalyzedChars');\n          q.unset('hl.requireFieldMatch');\n          q.unset('hl.usePhraseHighlighter');\n          q.set('__fetch_missing', 'true');\n          q.set('start', start);\n          q.set('rows', perPage - start <= 0 ? perPage : perPage - start);\n          var req = this.composeRequest(q); // allows widgets to override if necessary\n\n          this.executeRequest(req);\n        }, this);\n      } else if (ev == 'childview:toggleSelect') {\n        pubsub.publish(pubsub.PAPER_SELECTION, arg2.data.identifier);\n      } else if (ev === 'toggle-highlights') {\n        this.loadHighlights();\n      }\n    },\n\n    /**\n     * create and run the highlights fetch request\n     * @param {Object} options\n     * @param {number} options.start\n     * @param {number} options.rows\n     */\n    fetchHighlights: function fetchHighlights(_ref) {\n      var start = _ref.start,\n          rows = _ref.rows;\n      var q = this.model.get('currentQuery').clone();\n      q.set({\n        hl: 'true',\n        'hl.fl': 'title,abstract,body,ack,*',\n        'hl.maxAnalyzedChars': '150000',\n        'hl.requireFieldMatch': 'true',\n        'hl.usePhraseHighlighter': 'true',\n        start: start,\n        rows: rows\n      });\n      var req = this.composeRequest(q);\n      this.executeRequest(req);\n    },\n    loadHighlights: function loadHighlights() {\n      var _this$hiddenCollectio = this.hiddenCollection,\n          currentEndIndex = _this$hiddenCollectio.currentEndIndex,\n          start = _this$hiddenCollectio.currentStartIndex;\n      var totalToGet = currentEndIndex - start + 1; // for larger sets, always grab the first 25 as a separate request\n\n      if (totalToGet > 25) {\n        this.fetchHighlights({\n          start: start,\n          rows: 25\n        });\n        this.fetchHighlights({\n          start: start + 25,\n          rows: totalToGet - 25\n        });\n      } else {\n        this.fetchHighlights({\n          start: start,\n          rows: totalToGet\n        });\n      }\n    },\n    executeRequest: function executeRequest(req) {\n      this.getPubSub().publish(this.getPubSub().EXECUTE_REQUEST, req);\n    },\n    reset: function reset() {\n      this.collection.reset();\n      this.hiddenCollection.reset(); // reset the model, favoring values in this.pagination\n\n      this.model.set(_.defaults({\n        currentQuery: this.getCurrentQuery(),\n        query: false\n      }, this.pagination, this.model.defaults()));\n    }\n  });\n\n  _.extend(ListOfThingsWidget.prototype, PaginationMixin);\n\n  return ListOfThingsWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/list_of_things/widget.js?");

/***/ }),

/***/ "./src/js/wraps/table_of_contents.js":
/*!*******************************************!*\
  !*** ./src/js/wraps/table_of_contents.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/widgets/list_of_things/details_widget */ \"./src/js/widgets/list_of_things/details_widget.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, DetailsWidget) {\n  var Widget = DetailsWidget.extend({\n    initialize: function initialize() {\n      this.name = 'ShowToc';\n      return DetailsWidget.prototype.initialize.apply(this, arguments);\n    },\n    ingestBroadcastedPayload: function ingestBroadcastedPayload(data) {\n      var hasTOC = data.property && data.property.indexOf('TOC') > -1;\n      this.trigger('page-manager-event', 'widget-ready', {\n        numFound: +hasTOC,\n        isActive: hasTOC\n      });\n      DetailsWidget.prototype.ingestBroadcastedPayload.apply(this, arguments);\n    },\n    customizeQuery: function customizeQuery(apiQuery) {\n      var bibcode = this.parseIdentifierFromQuery(apiQuery);\n\n      if (!bibcode) {\n        return; // ignore\n      }\n\n      var q = DetailsWidget.prototype.customizeQuery.apply(this, arguments);\n\n      if (bibcode[13] == 'E') {\n        // take first fourteen\n        q.set('q', 'bibcode:' + _.first(bibcode, 14).join('') + '*');\n      } else {\n        // take first thirteen\n        q.set('q', 'bibcode:' + _.first(bibcode, 13).join('') + '*');\n      }\n\n      if (this.sortOrder) {\n        q.set('sort', this.sortOrder);\n      }\n\n      if (this.queryOperator) {\n        q.set('q', this.queryOperator + '(' + q.get('q').join(' ') + ')');\n      }\n\n      return q;\n    }\n  });\n\n  function TOC() {\n    var options = {\n      description: 'Papers in the same volume as'\n    };\n    return new Widget(options);\n  }\n\n  return TOC;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/table_of_contents.js?");

/***/ }),

/***/ "./src/js/wraps/widget/loading/template.html":
/*!***************************************************!*\
  !*** ./src/js/wraps/widget/loading/template.html ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"close-widget close-circle\\\">\\n    <a href=\\\"javascript:void(0)\\\"\\n      ><i class=\\\"fa fa-times fa-lg\\\" aria-hidden=\\\"true\\\"></i\\n    ></a>\\n  </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"loading-container\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hideCloseButton\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"  <div class=\\\"loading\\\">\\n    <div\\n      class=\\\"loading-icon-\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"widgetLoadingSize\") || (depth0 != null ? lookupProperty(depth0,\"widgetLoadingSize\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"widgetLoadingSize\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":26},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \" fa fa-spinner fa-spin\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></div>\\n    <div class=\\\"loading-text loading-text-\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"widgetLoadingSize\") || (depth0 != null ? lookupProperty(depth0,\"widgetLoadingSize\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"widgetLoadingSize\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":42},\"end\":{\"line\":14,\"column\":63}}}) : helper)))\n    + \"\\\">\\n      Loading...\\n    </div>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/widget/loading/template.html?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd define */
/******/ 	!function() {
/******/ 		__webpack_require__.amdD = function () {
/******/ 			throw new Error('define cannot be used indirect');
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/amd options */
/******/ 	!function() {
/******/ 		__webpack_require__.amdO = {};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	!function() {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = function(result, chunkIds, fn, priority) {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.nmd = function(module) {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"ShowToc": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkbumblebee"] = self["webpackChunkbumblebee"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	!function() {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/js/wraps/table_of_contents.js"); })
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;