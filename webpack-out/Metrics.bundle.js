/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/components/api_feedback.js":
/*!*******************************************!*\
  !*** ./src/js/components/api_feedback.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/mixins/hardened */ \"./src/js/mixins/hardened.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, Hardened) {\n  var ApiFeedback = function ApiFeedback(options) {\n    _.extend(this, _.defaults(options || {}, {\n      code: 200,\n      msg: undefined\n    }));\n\n    this.setCode(this.code);\n  };\n\n  ApiFeedback.CODES = {\n    INVALID_PASSWORD: 498,\n    ACCOUNT_NOT_FOUND: 495,\n    // Account not found during signin\n    ALREADY_LOGGED_IN: 493,\n    // Already signed during signup\n    REQUIRES_LOGIN: 491,\n    TOO_MANY_CHARACTERS: 486,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    INTERNAL_SERVER_ERROR: 500,\n    BAD_GATEWAY: 502,\n    SERVER_ERROR: 503,\n    TOO_MANY_FAILURES: 580,\n    ALL_FINE: 200,\n    KEEP_WAITING: 190,\n    TESTING: 0,\n    // Internal events\n    MAKE_SPACE: -1,\n    UNMAKE_SPACE: -1.1,\n    SEARCH_CYCLE_STARTED: -2,\n    SEARCH_CYCLE_FAILED_TO_START: -3,\n    SEARCH_CYCLE_PROGRESS: -4,\n    SEARCH_CYCLE_STOP_MONITORING: -5,\n    SEARCH_CYCLE_FINISHED: -6,\n    QUERY_ASSISTANT: -7,\n    ALERT: -8,\n    CANNOT_ROUTE: -9,\n    API_REQUEST_ERROR: -10,\n    BIBCODE_DATA_REQUESTED: -11\n  };\n  var _codes = {};\n\n  _.each(_.pairs(ApiFeedback.CODES), function (p) {\n    _codes[p[1]] = p[0];\n  });\n\n  _.extend(ApiFeedback.prototype, {\n    hardenedInterface: {\n      code: 'integer value of the code',\n      msg: 'string message',\n      toJSON: 'for cloning',\n      getApiRequest: 'to get the original request',\n      getSenderKey: 'retrieve the senders key'\n    },\n    initialize: function initialize() {},\n    toJSON: function toJSON() {\n      return {\n        code: this.code,\n        msg: this.msg\n      };\n    },\n    setCode: function setCode(c) {\n      if (!_codes[c]) {\n        throw new Error('This code is not in the list ApiCodes - please extend js/components/api_feedback first:', this.code);\n      }\n\n      this.code = c;\n    },\n    setApiRequest: function setApiRequest(apiRequest) {\n      this.req = apiRequest;\n    },\n    getApiRequest: function getApiRequest() {\n      return this.req;\n    },\n    setMsg: function setMsg(msg) {\n      this.msg = msg;\n    },\n    getSenderKey: function getSenderKey() {\n      return this.senderKey;\n    },\n    setSenderKey: function setSenderKey(key) {\n      this.senderKey = key;\n    }\n  }, Hardened);\n\n  ApiFeedback.extend = Backbone.Model.extend;\n  return ApiFeedback;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_feedback.js?");

/***/ }),

/***/ "./src/js/components/api_query.js":
/*!****************************************!*\
  !*** ./src/js/components/api_query.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n A facade: api query exposing only the set of functions that we allow. This is\n the module that you want to load in the application (do not load the concrete\n implementaions, such as solr_params !)\n\n Put in your config:\n map: {\n 'your/module': {\n 'api_query_impl': 'js/components/specific_impl_of_the_api_query'\n }\n },\n\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/solr_params */ \"./src/js/components/solr_params.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, ApiQueryImplementation, Facade) {\n  var hardenedInterface = {\n    add: 'add values',\n    set: 'set (replace existing)',\n    get: 'get values',\n    has: 'has a key',\n    hasVal: 'more specific `has` using _.isEmpty',\n    url: 'url string of the params',\n    load: 'loads query as a string',\n    clear: 'clears all values',\n    unset: 'removes a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    pairs: 'get all values as pairs',\n    keys: 'as keys',\n    values: 'only values',\n    hasChanged: 'whether this object has modification (since its creation)',\n    previousAttributes: 'get all changed attributes',\n    previous: 'previous values for a given attribute'\n  };\n\n  var ApiQuery = function ApiQuery(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiQueryImplementation) {\n      this.innerQuery = new Facade(hardenedInterface, data);\n    } else {\n      this.innerQuery = new Facade(hardenedInterface, new ApiQueryImplementation(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerQuery[element].apply(this.innerQuery, arguments);\n    };\n  });\n\n  _.extend(ApiQuery.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerQuery.clone.apply(this.innerQuery, arguments);\n      return new ApiQuery(clone);\n    },\n    load: function load() {\n      var clone = this.innerQuery.load.apply(this.innerQuery, arguments);\n      return new ApiQuery(clone);\n    }\n  });\n\n  return ApiQuery;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_query.js?");

/***/ }),

/***/ "./src/js/components/api_request.js":
/*!******************************************!*\
  !*** ./src/js/components/api_request.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/28/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\"), __webpack_require__(/*! js/components/default_request */ \"./src/js/components/default_request.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, Facade, ApiRequestImpl) {\n  var hardenedInterface = {\n    // add makes no sense with request\n    get: 'get a key',\n    set: 'set (replace existing)',\n    url: 'url string defining this request',\n    has: 'has a key',\n    load: 'loads request as a string',\n    clear: 'clears all values',\n    unset: 'removes a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    pairs: 'get all values as pairs',\n    keys: 'as keys',\n    values: 'only values',\n    hasChanged: 'whether this object has modification (since its creation)',\n    previousAttributes: 'get all changed attributes',\n    previous: 'previous values for a given attribute'\n  };\n\n  var ApiRequest = function ApiRequest(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiRequestImpl) {\n      this.innerRequest = new Facade(hardenedInterface, data);\n    } else {\n      this.innerRequest = new Facade(hardenedInterface, new ApiRequestImpl(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerRequest[element].apply(this.innerRequest, arguments);\n    };\n  });\n\n  _.extend(ApiRequest.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerRequest.clone.apply(this.innerRequest, arguments);\n      return new ApiRequest(clone);\n    },\n    load: function load() {\n      var clone = this.innerRequest.load.apply(this.innerRequest, arguments);\n      return new ApiRequest(clone);\n    }\n  });\n\n  return ApiRequest;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_request.js?");

/***/ }),

/***/ "./src/js/components/api_response.js":
/*!*******************************************!*\
  !*** ./src/js/components/api_response.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n * A simple wrapper around the API response for ADS. The underlying\n * implementation of the Response object can provide a specific\n * logic, so don't be surprised if you see a different behaviour.\n * But the API remains the same!\n *\n * To configure what implementation you want for your module, use this\n * in the app config:\n *\n * map: {\n *  'your/module': {\n *    'api_response_impl': 'js/components/specific_impl_of_the_api_response'\n *  }\n * },\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/solr_response */ \"./src/js/components/solr_response.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, ApiResponseImplementation, Facade) {\n  var hardenedInterface = {\n    set: 'set (replace existing)',\n    get: 'get values',\n    has: 'has a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    url: 'url string of the params',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    setApiQuery: 'sets the ApiQuery',\n    getApiQuery: 'gets the query'\n  };\n\n  var ApiResponse = function ApiResponse(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiResponseImplementation) {\n      this.innerResponse = new Facade(hardenedInterface, data);\n    } else {\n      this.innerResponse = new Facade(hardenedInterface, new ApiResponseImplementation(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerResponse[element].apply(this.innerResponse, arguments);\n    };\n  });\n\n  _.extend(ApiResponse.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerResponse.clone.apply(this.innerResponse, arguments);\n      return new ApiResponse(clone);\n    }\n  });\n\n  return ApiResponse;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/**\n * Created by rchyla on 3/3/14.\n */\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_response.js?");

/***/ }),

/***/ "./src/js/components/api_targets.js":
/*!******************************************!*\
  !*** ./src/js/components/api_targets.js ***!
  \******************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 1/20/15\n *\n * contains api targets\n * and any related limits\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var config = {\n    BOOTSTRAP: '/accounts/bootstrap',\n    SEARCH: 'search/query',\n    QTREE: 'search/qtree',\n    BIGQUERY: 'search/bigquery',\n    EXPORT: 'export/',\n    SERVICE_AUTHOR_NETWORK: 'vis/author-network',\n    SERVICE_PAPER_NETWORK: 'vis/paper-network',\n    SERVICE_WORDCLOUD: 'vis/word-cloud',\n    SERVICE_METRICS: 'metrics',\n    SERVICE_OBJECTS: 'objects',\n    SERVICE_OBJECTS_QUERY: 'objects/query',\n    SERVICE_CITATION_HELPER: 'citation_helper',\n    SERVICE_AUTHOR_AFFILIATION_EXPORT: 'authoraff',\n    MYADS_STORAGE: 'vault',\n    MYADS_NOTIFICATIONS: 'vault/_notifications',\n    AUTHOR_AFFILIATION_SEARCH: 'author-affiliation/search',\n    AUTHOR_AFFILIATION_EXPORT: 'author-affiliation/export',\n    RESOLVER: 'resolver',\n    CSRF: 'accounts/csrf',\n    USER: 'accounts/user',\n    USER_DATA: 'vault/user-data',\n    SITE_CONFIGURATION: 'vault/configuration',\n    TOKEN: 'accounts/user/token',\n    LOGIN: 'accounts/user/login',\n    LOGOUT: 'accounts/user/logout',\n    VERIFY: 'accounts/verify',\n    RESEND_VERIFY: \"accounts/user/{email}/verify\",\n    RESET_PASSWORD: 'accounts/user/reset-password',\n    CHANGE_PASSWORD: 'accounts/user/change-password',\n    CHANGE_EMAIL: 'accounts/user/change-email',\n    INFO: 'accounts/info',\n    PROTECTED: 'accounts/protected',\n    STATUS: 'accounts/status',\n    RECOMMENDER: 'recommender',\n    GRAPHICS: 'graphics',\n    FEEDBACK: 'feedback',\n    // library import from classic\n    LIBRARY_IMPORT_CLASSIC_AUTH: 'harbour/auth/classic',\n    LIBRARY_IMPORT_CLASSIC_MIRRORS: 'harbour/mirrors',\n    LIBRARY_IMPORT_CLASSIC_TO_BBB: 'biblib/classic',\n    // library import from 2.0\n    LIBRARY_IMPORT_ADS2_AUTH: 'harbour/auth/twopointoh',\n    LIBRARY_IMPORT_ADS2_TO_BBB: 'biblib/twopointoh',\n    LIBRARY_IMPORT_ZOTERO: 'harbour/export/twopointoh/zotero',\n    LIBRARY_IMPORT_MENDELEY: 'harbour/export/twopointoh/mendeley',\n    // returns credentials from both classic and 2.0 if they exist\n    LIBRARY_IMPORT_CREDENTIALS: 'harbour/user',\n    // store ADS information connected with ORCID here\n    ORCID_PREFERENCES: 'orcid/preferences',\n    ORCID_NAME: 'orcid/orcid-name',\n    // library endpoints\n    // can get info about all libraries, or list of bibcodes associated w/specific lib (libraries/id)\n    // post to /libraries/ to create a library\n    LIBRARIES: 'biblib/libraries',\n    LIBRARY_TRANSFER: 'biblib/transfer',\n    // can post, put, and delete changes to individual libs using this endpoint\n    DOCUMENTS: 'biblib/documents',\n    PERMISSIONS: 'biblib/permissions',\n    REFERENCE: 'reference/text',\n\n    /*\n     * this is used by the mixin 'user_change_rows' to set max allowed/default requested\n     */\n    _limits: {\n      // use the same name from discovery.config.js\n      ExportWidget: {\n        default: 500,\n        limit: 3000\n      },\n      Metrics: {\n        default: 7000,\n        limit: 7000\n      },\n      AuthorNetwork: {\n        default: 400,\n        limit: 1000\n      },\n      PaperNetwork: {\n        default: 400,\n        limit: 1000\n      },\n      ConceptCloud: {\n        default: 150,\n        limit: 150\n      },\n      BubbleChart: {\n        // default == limit\n        default: 1500\n      }\n    }\n  }; // add credential info\n  // doesn't require cross domain cookies\n\n  config._doesntNeedCredentials = [config.SEARCH, config.QTREE, config.BIGQUERY, config.EXPORT, config.SERVICE_AUTHOR_NETWORK, config.SERVICE_PAPER_NETWORK, config.SERVICE_WORDCLOUD, config.SERVICE_METRICS, config.RECOMMENDER, config.GRAPHICS, config.FEEDBACK];\n  return config;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_targets.js?");

/***/ }),

/***/ "./src/js/components/default_request.js":
/*!**********************************************!*\
  !*** ./src/js/components/default_request.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Created by rchyla on 3/28/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/multi_params */ \"./src/js/components/multi_params.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, ApiQuery, MultiParams) {\n  var basicCheck = function basicCheck(s) {\n    if (_.isString(s)) {\n      return true;\n    }\n\n    if (_.isArray(s)) {\n      var l = s.length;\n\n      for (var i = 0; i < l; i++) {\n        var x = s[i];\n\n        if (!(_.isString(x) || _.isNumber(x))) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  var allowedAttrs = {\n    query: function query(v) {\n      if (_.isUndefined(v)) {\n        return true;\n      }\n\n      return v instanceof ApiQuery;\n    },\n    target: basicCheck,\n    sender: basicCheck,\n    options: basicCheck\n  };\n  var checker = {\n    target: function target(s) {\n      if (s && s.substring(0, 1) !== '/') {\n        return '/' + s;\n      }\n    }\n  };\n  var Request = MultiParams.extend({\n    /**\n     * Internal method: we allow only certain keys\n     *\n     * @param attributes\n     * @param options\n     * @returns {boolean}\n     * @private\n     */\n    _validate: function _validate(attributes, options) {\n      _.forOwn(attributes, function (val, attr) {\n        var tempVal = attributes[attr];\n\n        if (!(attr in allowedAttrs)) {\n          throw new Error('Invalid attr: ' + attr);\n        }\n\n        if (!allowedAttrs[attr].call(allowedAttrs, tempVal)) {\n          throw new Error('Invalid value:key ' + attr + tempVal);\n        }\n      });\n\n      return true;\n    },\n\n    /**\n     * Modified version of the multi-valued set(); we do not insist\n     * on having the values in array\n     *\n     * @param key\n     * @param val\n     * @param options\n     * @returns {Request}\n     */\n    set: function set(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    // for requests, we use all components: path, query, hash\n    _checkParsed: function _checkParsed(attrs) {\n      if (_.isObject(attrs)) {\n        var ret = {};\n\n        if ('#query' in attrs && !_.isEmpty(attrs['#query'])) {\n          ret.query = new ApiQuery(attrs['#query']);\n        }\n\n        if ('#path' in attrs) {\n          ret.target = attrs['#path'][0];\n        }\n\n        if ('#hash' in attrs) {\n          _.extend(ret, _.each(attrs['#hash'], function (val, key, obj) {\n            if (val.length == 1) {\n              obj[key] = val[0];\n            }\n          }));\n        }\n\n        return ret;\n      }\n\n      return attrs;\n    },\n\n    /*\n     * Return the url string encoding all parameters that made\n     * this request. The parameters will be sorted alphabetically\n     * by their keys and URL encoded so that they can be used\n     * in requests.\n     */\n    url: function url(whatToSort) {\n      if (!whatToSort) {\n        whatToSort = this.attributes;\n      }\n\n      var target = whatToSort.target;\n      var url = target ? _.isArray(target) ? target.join('/') : target : '';\n\n      if ('query' in whatToSort) {\n        url += '?' + whatToSort.query.url();\n      }\n\n      if ('sender' in whatToSort) {\n        url += '#' + MultiParams.prototype.url.call(this, {\n          sender: whatToSort.sender\n        });\n      }\n\n      return url;\n    },\n\n    /**\n     * Re-constructs the query from the url string, returns the json attributes;\n     * cannot be used it the instance is locked\n     *\n     * @param query (String)\n     * @returns {Model}\n     */\n    load: function load(query) {\n      return MultiParams.prototype.load.call(this, query.indexOf('?') > -1 ? query : query + '?');\n    }\n  });\n  return Request;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/default_request.js?");

/***/ }),

/***/ "./src/js/components/facade.js":
/*!*************************************!*\
  !*** ./src/js/components/facade.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/16/14. inspiration: http://jsfiddle.net/pajtai/GD5qR/35/\n */\n\n/*\n * // Interface\n *  var remoteInterface = {\n *    on: 'turn on'\n *  };\n *  // Implementation\n *  var htmlRemote = {\n *    on: function() { console.log(\"remote on\"); return this; }\n *  };\n *  // Protecting the implementation\n *  var htmlInterface = new Facade(remoteInterface, htmlRemote);\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Facade) {\n  // The Facade encapsulates objectIn according to the description\n  // The exposed facade is guaranteed to have exactly the functions described in description.\n  var Facade = function Facade(description, objectIn) {\n    var facade; // TODO: add enforce of \"new\"\n\n    facade = {};\n    this.mixIn(description, objectIn, facade); // TODO: check that \"mixIn\" is not taken\n\n    facade.mixIn = this.mixIn;\n    return facade;\n  };\n\n  Facade.prototype.mixIn = function (description, objectIn, facade) {\n    var property;\n    var propertyValue;\n    facade = facade || this;\n\n    for (property in description) {\n      propertyValue = description[property];\n\n      if (property in objectIn) {\n        var p = objectIn[property];\n\n        if (typeof propertyValue === 'function') {\n          // redefining the method\n          facade[property] = _.bind(propertyValue, objectIn);\n        } else if (typeof p === 'function') {\n          // exposing the method\n          facade[property] = _.bind(p, objectIn);\n        } else if (_.isUndefined(p)) {// pass\n        } else if (_.isString(p) || _.isNumber(p) || _.isBoolean(p) || _.isDate(p) || _.isNull(p) || _.isRegExp(p)) {\n          // build getter method\n          facade['get' + property.substring(0, 1).toUpperCase() + property.substring(1)] = _.bind(function () {\n            return this.ctx[this.name];\n          }, {\n            ctx: objectIn,\n            name: property\n          });\n          facade[property] = p; // copy the value (it is immutable anyways)\n        } else if (p.hasOwnProperty('__facade__') && p.__facade__) {\n          // exposing internal facade\n          facade[property] = p;\n        } else if (_.isObject(p) && 'getHardenedInstance' in p) {\n          // builds a facade\n          facade[property] = p.getHardenedInstance();\n        } else {\n          throw new Error(\"Sorry, you can't wrap '\" + property + \"': \" + p);\n        }\n      } else if (typeof propertyValue === 'function') {\n        facade[property] = _.bind(propertyValue, objectIn);\n      } else {\n        throw new Error('Unknown key: ' + property + '(' + propertyValue + ')');\n      }\n    }\n\n    if (objectIn) {\n      // .name is not supported in IE\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n      facade.__facade__ = Boolean(objectIn.constructor ? objectIn.constructor.name ? objectIn.constructor.name : true : true);\n    } else {\n      facade.__facade__ = true;\n    } // TODO:rca - shall we use?\n    // if (Object.freeze)\n    //  facade = Object.freeze(facade);\n\n\n    return facade;\n  };\n\n  return Facade;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/facade.js?");

/***/ }),

/***/ "./src/js/components/json_response.js":
/*!********************************************!*\
  !*** ./src/js/components/json_response.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n * A simple wrapper around the API response for ADS\n * This class is extended/enhanced by other implementations\n * (e.g. solr_response)\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, ApiQuery) {\n  var JSONResponse = function JSONResponse(attributes, options) {\n    var defaults;\n    var attrs = attributes || {};\n    options || (options = {});\n    this.rid = _.uniqueId('r');\n    this.readOnly = options.hasOwnProperty('readOnly') ? options.readOnly : true;\n    this._url = options.hasOwnProperty('url') ? options.url : null;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n\n    if (defaults = _.result(this, 'defaults')) {\n      attrs = _.defaults({}, attrs, defaults);\n    }\n\n    this.attributes = attrs;\n    this.initialize.apply(this, arguments);\n  };\n\n  _.extend(JSONResponse.prototype, {\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function initialize() {},\n    getApiQuery: function getApiQuery() {\n      return this.apiQuery;\n    },\n    setApiQuery: function setApiQuery(q) {\n      if (!q) {\n        return;\n      }\n\n      if (!(q instanceof ApiQuery)) {\n        throw new Error('Only ApiQuery instances accepted');\n      }\n\n      this.apiQuery = q;\n    },\n    // Return a copy of the model's `attributes` object.\n    toJSON: function toJSON(options) {\n      return this._clone(this.attributes);\n    },\n    // url string that identifies this object\n    url: function url() {\n      if (this._url) {\n        return this._url;\n      }\n\n      return this.rid; // default is just to return response id\n    },\n    set: function set(key, val, options) {\n      if (this.readOnly) {\n        throw Error(\"You can't change read-only response object\");\n      }\n\n      var parts = this._split(key);\n\n      if (parts.length == 1) {\n        this.attributes[parts[0]] = val;\n      } else {\n        var pointer = this.get(key);\n        pointer = val;\n      }\n    },\n    _split: function _split(key) {\n      var parts = [];\n      var i = 0;\n      var l = key.length;\n      var start = 0;\n      var quotes = [];\n\n      while (i < l) {\n        if (key[i] == quotes[quotes.length - 1]) {\n          quotes.pop();\n        } else if (key[i] == '\"' || key[i] == \"'\") {\n          quotes.push(key[i]);\n        } else if (key[i] == '.' && quotes.length == 0) {\n          parts.push(key.substring(start, i));\n          start = i + 1;\n        } else if (key[i] == '[' && quotes.length == 0) {\n          parts.push(key.substring(start, i));\n          parts.push(key.substring(i, key.indexOf(']', i + 1) + 1));\n          start = i = key.indexOf(']', i + 1) + 1;\n        }\n\n        i += 1;\n      }\n\n      if (start < l) {\n        parts.push(key.substring(start));\n      } // console.log(key, parts);\n\n\n      return parts;\n    },\n    has: function has(key) {\n      return this.get(key, true);\n    },\n    get: function get(key, justCheck, defaultValue) {\n      // if key empty, return everything\n      if (!key) {\n        return this._clone(this.attributes);\n      }\n\n      var parts = this._split(key);\n\n      var found = [];\n      var pointer = this.attributes;\n\n      while (parts.length > 0) {\n        var k = parts.shift();\n\n        if (pointer.hasOwnProperty(k)) {\n          pointer = pointer[k];\n          found.push(k);\n        } else if (k.indexOf('[') > -1) {\n          // foo['something'] or foo[0]\n          var m = k.trim().substring(1, k.length - 1);\n\n          if ((m.indexOf('\"') > -1 || m.indexOf(\"'\") > -1) && pointer.hasOwnProperty(m.substring(1, m.length - 1))) {\n            // object property access\n            pointer = pointer[m.substring(1, m.length - 1)];\n            found.push(m);\n          } else if (_.isArray(pointer)) {\n            var ix = null;\n\n            try {\n              ix = parseInt(m);\n\n              if (_.isNaN(ix) || pointer.length <= ix || ix < 0) {\n                if (justCheck) {\n                  return false;\n                }\n\n                if (typeof defaultValue !== 'undefined') {\n                  return defaultValue;\n                }\n\n                throw new Error();\n              }\n\n              pointer = pointer[ix];\n              found.push(m);\n            } catch (e) {\n              if (justCheck) {\n                return false;\n              }\n\n              if (typeof defaultValue !== 'undefined') {\n                return defaultValue;\n              }\n\n              throw new Error(\"Can't find: \" + key + (found.length > 0 ? ' (worked up to: ' + found.join('.') + ')' : ''));\n            }\n          } else {\n            if (justCheck) {\n              return false;\n            }\n\n            if (typeof defaultValue !== 'undefined') {\n              return defaultValue;\n            }\n\n            throw new Error(\"Can't find: \" + key + (found.length > 0 ? ' (worked up to: ' + found.join('.') + ')' : ''));\n          }\n        } else {\n          if (justCheck) {\n            return false;\n          }\n\n          if (typeof defaultValue !== 'undefined') {\n            return defaultValue;\n          }\n\n          throw new Error(\"Can't find: \" + key + (found.length > 0 ? ' (worked up to: ' + found.join('.') + ')' : ''));\n        }\n      }\n\n      if (justCheck) {\n        return true;\n      }\n\n      return this._clone(pointer);\n    },\n    clone: function clone() {\n      return new this.constructor(this.attributes);\n    },\n    // creates a copy of the requested elements\n    _clone: function _clone(elem) {\n      if (!this.readOnly || !_.isObject(elem)) {\n        return elem;\n      }\n\n      if (_.cloneDeep) {\n        // lodash\n        return _.cloneDeep(elem);\n      }\n\n      return JSON.parse(JSON.stringify(elem));\n    },\n    isLocked: function isLocked() {\n      return this.readOnly;\n    },\n    lock: function lock() {\n      return this.readOnly = true;\n    },\n    unlock: function unlock() {\n      return this.readOnly = false;\n    }\n  }); // use the bb extend function for classes hierarchy\n\n\n  JSONResponse.extend = Backbone.Model.extend;\n  return JSONResponse;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n/**\n * Created by rchyla on 3/3/14.\n */\n\n//# sourceURL=webpack://bumblebee/./src/js/components/json_response.js?");

/***/ }),

/***/ "./src/js/components/multi_params.js":
/*!*******************************************!*\
  !*** ./src/js/components/multi_params.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n multi_params is a generic class to store any parameters;\n it is backed by BB.Model and has all the functionality\n the values are always stored as an array of values; so\n even if you try to set strings, you will always have\n list of strings\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, $) {\n  var Model = Backbone.Model.extend({\n    locked: false,\n    _checkLock: function _checkLock() {\n      if (this.locked === true) {\n        throw Error('Object locked for modifications');\n      }\n    },\n    isLocked: function isLocked() {\n      return this.locked;\n    },\n    lock: function lock() {\n      this.locked = true;\n    },\n    unlock: function unlock() {\n      this.locked = false;\n    },\n    clone: function clone() {\n      if (this.isLocked()) {\n        var c = new this.constructor(this.attributes);\n        c.lock();\n        return c;\n      }\n\n      return new this.constructor(this.attributes);\n    },\n    hasVal: function hasVal(key) {\n      return !_.isEmpty(this.get(key));\n    },\n    // we allow only strings and numbers; instead of sending\n    // signal we throw a direct error\n    _validate: function _validate(attributes, options) {\n      // check we have only numbers and/or finite numbers\n      for (var attr in attributes) {\n        if (!_.isString(attr)) {\n          throw new Error('Keys must be strings, not: ' + attr);\n        } // remove empty strings\n\n\n        var tempVal = attributes[attr];\n        tempVal = _.without(_.flatten(tempVal), '', false, null, undefined, NaN);\n\n        if (!_.isArray(tempVal)) {\n          throw new Error('Values were not converted to an Array');\n        }\n\n        if (_.isEmpty(tempVal) && options.unset !== true) {\n          throw new Error('Empty values not allowed');\n        }\n\n        if (!_.every(tempVal, function (v) {\n          return _.isString(v) || _.isNumber(v) && !_.isNaN(v);\n        })) {\n          throw new Error('Invalid value (not a string or number): ' + tempVal);\n        }\n\n        attributes[attr] = tempVal;\n      }\n\n      return true;\n    },\n    // Every value is going to be multi-valued by default\n    // in this way we can treat all objects in the same way\n    set: function set(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      for (var attr in attrs) {\n        var tempVal = attrs[attr]; // convert to array if necessary\n\n        if (!_.isArray(tempVal)) {\n          attrs[attr] = _.flatten([tempVal]);\n        }\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    unset: function unset() {\n      this._checkLock();\n\n      Backbone.Model.prototype.unset.apply(this, arguments);\n    },\n    // adds values to existing (like set, but keeps the old vals)\n    add: function add(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      for (var attr in attrs) {\n        var tempVal = attrs[attr]; // convert to array if necessary\n\n        if (!_.isArray(tempVal)) {\n          tempVal = _.flatten([tempVal]);\n        }\n\n        if (this.has(attr)) {\n          tempVal = _.clone(this.get(attr)).concat(tempVal);\n        }\n\n        attrs[attr] = tempVal;\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    // synchronization is disabled\n    sync: function sync() {\n      throw Error('MultiParams cannot be saved to server');\n    },\n\n    /*\n     * Return the url string encoding all parameters that made\n     * this query. The parameters will be sorted alphabetically\n     * by their keys and URL encoded so that they can be used\n     * in requests.\n     */\n    url: function url(whatToSort) {\n      if (!whatToSort) {\n        whatToSort = this.attributes;\n      } // sort keys alphabetically\n\n\n      var sorted = _.pairs(whatToSort).sort(function (a, b) {\n        return a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0;\n      }); // June1:rca - I need to preserve order of values (becuaes of the query modifications/updates) the logic\n      // just requires us to be careful and we need order to be preserved when the query is cloned\n      // also sort values\n      // var s = {};\n      // sorted.map(function(item) { s[item[0]] = (_.isArray(item[1]) ? item[1].sort() : item[1]) });\n      // we have to double encode certain elements\n      // sorted = _.map(sorted, function(pair) { return [pair[0], _.map(pair[1], function(v) {return (v.indexOf && v.indexOf('=') > -1) ? encodeURIComponent(v) : v })]});\n      // use traditional encoding\n      // use %20 instead of + (url encoding instead of form encoding)\n\n\n      var encoded = $.param(_.object(sorted), true);\n      encoded = encoded.replace(/\\+/g, '%20'); // Replace funky unicode quotes with normal ones\n\n      encoded = encoded.replace(/%E2%80%9[ECD]/g, '%22');\n      return encoded;\n    },\n\n    /**\n     * Parses string (urlparams) and returns it as an object\n     * @param resp\n     * @param options\n     * @returns {*}\n     */\n    parse: function parse(resp, options) {\n      if (_.isString(resp)) {\n        var attrs = {};\n        resp = decodeURI(resp);\n\n        if (resp.indexOf('?') > -1) {\n          attrs['#path'] = [resp.slice(0, resp.indexOf('?'))];\n          resp = resp.slice(resp.indexOf('?') + 1);\n        }\n\n        if (resp.indexOf('#') > -1) {\n          attrs['#hash'] = this._parse(resp.slice(resp.indexOf('#') + 1));\n          resp = resp.slice(0, resp.indexOf('#'));\n        }\n\n        attrs['#query'] = this._parse(resp);\n        return this._checkParsed(attrs);\n      }\n\n      return this._checkParsed(resp); // else return resp object\n    },\n    _parse: function _parse(resp) {\n      var attrs = {};\n      var hash;\n\n      if (!resp.trim()) {\n        return attrs;\n      }\n\n      var hashes = resp.slice(resp.indexOf('?') + 1).split('&'); // resp = decodeURIComponent(resp);\n\n      var key;\n      var value;\n\n      for (var i = 0; i < hashes.length; i++) {\n        hash = hashes[i].split('=');\n        key = decodeURIComponent(hash[0].split('+').join(' ')); // optimized: .replace(/\\+/g, \" \")\n\n        var vall = hash[1];\n\n        if (hash.length > 2) {\n          hash.shift();\n          vall = hash.join('=');\n        } // replace literal '%' with code and '+' become literal spaces\n\n\n        value = decodeURIComponent(vall.replace(/%(?!\\d|[ABCDEF]+)/gi, '%25').split('+').join(' '));\n\n        if (attrs[key] !== undefined) {\n          attrs[key].push(value);\n        } else {\n          attrs[key] = [value];\n        }\n      }\n\n      return attrs;\n    },\n    // default behaviour is just to keep the query parameters\n    // after the string was parsed, you can override it to suit other needs\n    _checkParsed: function _checkParsed(attrs) {\n      if (_.isObject(attrs)) {\n        if ('#query' in attrs) {\n          return attrs['#query'];\n        }\n      }\n\n      return attrs;\n    },\n\n    /**\n     * Re-constructs the query from the url string, returns the json attributes;\n     * cannot be used it the instance is locked\n     *\n     * @param query (String)\n     * @returns {Model}\n     */\n    load: function load(query) {\n      this._checkLock();\n\n      var vals = this.parse(query);\n      this.clear();\n      this.set(vals);\n      return this;\n    }\n  });\n  return Model;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/multi_params.js?");

/***/ }),

/***/ "./src/js/components/pubsub_events.js":
/*!********************************************!*\
  !*** ./src/js/components/pubsub_events.js ***!
  \********************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/30/14.\n */\n\n/**\n * Catalogue of PubSub events; we assume this:\n *\n *  - FC = the component lives in the 'Forbidden City'\n *         inside Application, typically this is a PubSub or Api, Mediator\n *         or any component with elevated access\n *\n *  - OC = Outer City: the suburbs of the application; these are typically\n *         UI components (behind the wall), untrusted citizens of the\n *         BumbleBee state\n *\n *  WARNING: do not use spaces; events with spaces are considered to be\n *        multiple events! (e.g. '[PubSub] New-Query' will be two events)\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var PubSubEvents = {\n    /**\n     * Usually called by OC's as a first step in the query processing.\n     * It means: 'user did something', we need to start reacting. The OC\n     * will build a new ApiQuery and send it together with this event\n     */\n    START_SEARCH: '[PubSub]-New-Query',\n\n    /**\n     * Called by FC's (usually: Mediator) - this is a signal to *all* OC's\n     * they should receive ApiQuery object, compare it against their\n     * own query; find diff and create a new ApiRequest (asking for a data)\n     * and send that back\n     */\n    INVITING_REQUEST: '[PubSub]-Inviting-Request',\n\n    /**\n     * Will be called by OC's, this is response to ApiQuery input.\n     */\n    DELIVERING_REQUEST: '[PubSub]-New-Request',\n\n    /**\n     * Will be called by OC's, this is one-time forget action (outside of the\n     * the search cycle); use this for any query that needs to be executed\n     * and not be tracked by search cycle\n     */\n    EXECUTE_REQUEST: '[PubSub]-Execute-Request',\n\n    /**\n     * Called from the router, the QID will be passed; the query needs to be\n     * loaded and executed\n     */\n    EXECUTE_STORED_QUERY: '[PubSub]-Execute-Stored-Query',\n\n    /**\n     * Published by FC's - typically Mediator - when a response has been retrieved\n     * for a given ApiRequest.\n     *\n     * OC's should subscribe to this event when they want to receive data\n     * from the treasury (api)\n     *\n     *  - input: ApiRequest\n     *  - output: ApiResponse\n     */\n    DELIVERING_RESPONSE: '[PubSub]-New-Response',\n\n    /**\n     * The walls of the FC are being closed; and no new requests will be served\n     */\n    CLOSING_GATES: '[PubSub]-Closing',\n\n    /**\n     * PubSub will not receive any requests any more\n     */\n    CLOSED_FOR_BUSINESS: '[PubSub]-Closed',\n\n    /**\n     * ForbiddenCity is about to receive requests\n     */\n    OPENING_GATES: '[PubSub]-Opening',\n\n    /**\n     * Called after PubSub became ready - it is fully operational\n     */\n    OPEN_FOR_BUSINESS: '[PubSub]-Ready',\n\n    /**\n     *  Set of error warnings issues by PubSub - or by some other FC's - to\n     *  deal with congestion or other problems\n     */\n    SMALL_FIRE: '[PubSub]-Problem',\n    BIG_FIRE: '[PubSub]-Big-Problem',\n    CITY_BURNING: '[PubSub]-Disaster',\n\n    /**\n     * A message containing feedback from the FC; traveling towards OC\n     * The feedback will be instance of ApiFeedback\n     */\n    FEEDBACK: '[FC]-FeedBack',\n\n    /**\n     * A message from the router requesting showing citizens of the\n     * city\n     */\n    DISPLAY_DOCUMENTS: '[Router]-Display-Documents',\n    DISPLAY_DOCUMENTS_DETAILS: '[Router]-Display-Documents-Details',\n\n    /**\n     * Used by OC to request parsed query tree - to check a query\n     * for example\n     */\n    GET_QTREE: '[FC]-GetQTree',\n    NAVIGATE: '[Router]-Navigate-With-Trigger',\n\n    /*\n     * so navigator can notify interested widgets about a change\n     * from search page to user page, for instance-- navigator cannot\n     * to this since it listens to many events including widget-show events\n     * */\n    PAGE_CHANGE: '[Navigator]Page-Changed',\n\n    /* for custom widget-to-widget events */\n    CUSTOM_EVENT: '[PubSub]-Custom-Event',\n    ARIA_ANNOUNCEMENT: '[PubSub]-Aria-Announcement',\n\n    /* anything to do with changing the state of the user, including session events */\n    USER_ANNOUNCEMENT: '[PubSub]-User-Announcement',\n\n    /**\n     * A message/action that should be displayed to the user (on prominent)\n     * place\n     */\n    ALERT: '[Alert]-Message',\n    ORCID_ANNOUNCEMENT: '[PubSub]-Orcid-Announcement',\n\n    /**\n     * Happens during the main cycle of the application birth\n     *  LOADED = when all components were successfuly loaded\n     *  BOOTSTRAPPED = + when all dynamic config was loaded\n     *  STARTING = + right before the router and history objects start()\n     *  STARTED = app is alive and handling requests\n     */\n    APP_LOADED: '[App]-Application-Loaded',\n    APP_BOOTSTRAPPED: '[App]-Application-Bootstrapped',\n    APP_STARTING: '[App]-Application-Starting',\n    APP_STARTED: '[App]-Application-Started',\n    APP_EXIT: '[App]-Exit',\n\n    /**\n     * Is triggered when user selects/deselects records\n     */\n    PAPER_SELECTION: '[User]-Paper-Selection',\n    // instead of toggling, adds all papers\n    BULK_PAPER_SELECTION: '[User]-Bulk-Paper-Selection',\n\n    /*\n     * is triggered by app storage itself when list of selected papers changes\n     * */\n    STORAGE_PAPER_UPDATE: '[User]-Paper-Update',\n    LIBRARY_CHANGE: '[PubSub]-Library-Change'\n  };\n  return PubSubEvents;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/pubsub_events.js?");

/***/ }),

/***/ "./src/js/components/pubsub_key.js":
/*!*****************************************!*\
  !*** ./src/js/components/pubsub_key.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/14/14.\n */\n\n/*\n * A simple, yet important, class - every subscriber\n * to the PubSub must contain one key. This class\n * should be instantiated in a safe manner. ie.\n *\n * PubSubKey.newInstance({creator: this});\n *\n * But beware that as long as the subscriber is alive\n * reference to the creator will be saved inside\n * the key! So choose carefully whether you use this\n * functionality\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_) {\n  var PubSubKey = function PubSubKey(options) {\n    _.extend(this, options);\n  };\n\n  _.extend(PubSubKey, {\n    /*\n     * Creates a new Instances of the PubSubKey\n     * with a storage that cannot be changed.\n     * To double sign the key, you can pass\n     * an object that identifies creator of the\n     * key and test identity, eg.\n     *\n     * var creator = {};\n     * var k = PubSubKey(creator);\n     * k.getCreator() === k;\n     *\n     */\n    newInstance: function newInstance(options) {\n      var priv = {\n        id: _.has(options, 'id') ? options.id : _.uniqueId(':psk'),\n        creator: _.has(options, 'creator') ? options.creator : null\n      };\n      return new PubSubKey({\n        getId: function getId() {\n          return priv.id;\n        },\n        getCreator: function getCreator() {\n          return priv.creator;\n        }\n      });\n    }\n  });\n\n  return PubSubKey;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/pubsub_key.js?");

/***/ }),

/***/ "./src/js/components/solr_params.js":
/*!******************************************!*\
  !*** ./src/js/components/solr_params.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\nSubclass of the multi-param with a functionality specific for\nSOLR queries. Do not use this class directly inside your app!\nInstead, import 'api_query' and configure it properly\n\n * <p>For a list of possible parameters, please consult the links below.</p>\n *\n * @see http://wiki.apache.org/solr/CoreQueryParameters\n * @see http://wiki.apache.org/solr/CommonQueryParameters\n * @see http://wiki.apache.org/solr/SimpleFacetParameters\n * @see http://wiki.apache.org/solr/HighlightingParameters\n * @see http://wiki.apache.org/solr/MoreLikeThis\n * @see http://wiki.apache.org/solr/SpellCheckComponent\n * @see http://wiki.apache.org/solr/StatsComponent\n * @see http://wiki.apache.org/solr/TermsComponent\n * @see http://wiki.apache.org/solr/TermVectorComponent\n * @see http://wiki.apache.org/solr/LocalParams\n *\n * @param properties A map of fields to set. Refer to the list of public fields.\n * @class ParameterStore\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/components/multi_params */ \"./src/js/components/multi_params.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (MultiParams, Backbone, _, $) {\n  var SolrParams = MultiParams.extend({\n    fieldsToConcatenate: [],\n    defaultOperator: ' ',\n    fieldProcessors: {\n      '*': function _(vals, self) {\n        return [vals.join(self.defaultOperator)];\n      }\n    },\n    initialize: function initialize(attributes, options) {\n      if (options) {\n        _.extend(this, _.pick(options, ['fieldsToConcatenate', 'defaultOperator', 'fieldProcessors']));\n      }\n    },\n    url: function url(resp, options) {\n      // first massage the fields, but do not touch the original values\n      // lodash has a parameter isDeep that can be set to true, but\n      // for compatibility reasons with underscore, lets' not use it\n      // the values should always be only one level deep\n      var values = _.clone(this.attributes);\n\n      var l = this.fieldsToConcatenate.length;\n      var k = '';\n\n      for (var i = 0; i < l; i++) {\n        k = this.fieldsToConcatenate[i];\n\n        if (this.has(k)) {\n          if (this.fieldProcessors[k]) {\n            values[k] = this.fieldProcessors[k](this.get(k), this);\n          } else {\n            values[k] = this.fieldProcessors['*'](this.get(k), this);\n          }\n        }\n      } // then call the default implementation of the url handling\n\n\n      return MultiParams.prototype.url.call(this, values);\n    }\n  });\n  return SolrParams;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/solr_params.js?");

/***/ }),

/***/ "./src/js/components/solr_response.js":
/*!********************************************!*\
  !*** ./src/js/components/solr_response.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/10/14.\n */\n\n/*\n * Subclass of the JSON response - it understands the JSON object as returned\n * by SOLR.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/components/json_response */ \"./src/js/components/json_response.js\"), __webpack_require__(/*! js/components/solr_params */ \"./src/js/components/solr_params.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (JsonResponse, SolrParams, Backbone, _, $) {\n  /*\n   * Cleans the parameters object by removing empty values\n   * @param {Object} obj\n   */\n  var cleanParams = function cleanParams(obj) {\n    var out = {};\n    Object.keys(obj).forEach(function (key) {\n      if (!_.isEmpty(obj[key])) {\n        out[key] = obj[key];\n      }\n    });\n    return out;\n  };\n\n  var SolrResponse = JsonResponse.extend({\n    initialize: function initialize() {\n      if (!this.has('responseHeader.params')) {\n        throw new Error('SOLR data error - missing: responseHeader.params');\n      }\n\n      if (_.isString(this._url)) {\n        // TODO: this seems ugly, relying on the parent for values\n        var p = new SolrParams();\n        this._url = new SolrParams(p.parse(this._url)).url();\n      } else {\n        var queryParams = this.get('responseHeader.params');\n        this._url = new SolrParams(cleanParams(queryParams)).url();\n      }\n    },\n    url: function url(resp, options) {\n      return this._url;\n    }\n  });\n  return SolrResponse;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/solr_response.js?");

/***/ }),

/***/ "./src/js/mixins/dependon.js":
/*!***********************************!*\
  !*** ./src/js/mixins/dependon.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/13/14.\n */\n\n/*\n * This module contains a set of utilities that can be added to classes\n * to give them certain functionality\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/pubsub_events */ \"./src/js/components/pubsub_events.js\"), __webpack_require__(/*! js/components/pubsub_key */ \"./src/js/components/pubsub_key.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, PubSubEvents, PubSubKey) {\n  var Mixin = {\n    /*\n     * BeeHive is the object that allows modules to get access to objects\n     * of the application (but we make sure these objects are protected\n     * and only application can set/change them). This mixin gives objects\n     * functions to query 'BeeHive'\n     */\n    BeeHive: {\n      // called by parents (app) to give modules access\n      setBeeHive: function setBeeHive(brundibar) {\n        if (_.isEmpty(brundibar)) throw new Error('Huh? Empty Beehive? Trying to be funny?');\n        this.__beehive = brundibar;\n      },\n      getBeeHive: function getBeeHive() {\n        if (!this.hasBeeHive()) throw new Error('The BeeHive is inactivate (or dead :<})');\n        return this.__beehive;\n      },\n      hasBeeHive: function hasBeeHive() {\n        if (this.__beehive && (this.__beehive.active || this.__beehive.__facade__ && this.__beehive.getActive())) {\n          return true;\n        }\n\n        return false;\n      },\n\n      /**\n       * Method which returns a masked instance of PubSub (unless the PubSub\n       * is already a hardened instance; which carries its own key)\n       *\n       * You can call pubsub.publish() without having to supply the pubsub key\n       * (which is what most controllers want to do; there are only some\n       * exceptions to this rule; ie. query-mediator). If you need to get\n       * access to the full PubSub (and you have it inside BeeHive) then do\n       * this.getBeeHive().getService('PubSub')\n       */\n      getPubSub: function getPubSub() {\n        if (!this.hasBeeHive()) throw new Error('The BeeHive is inactive (or dead >:})');\n        if (!this.__ctx) this.__ctx = {};\n        if (this.__ctx.pubsub) return this.__ctx.pubsub;\n\n        var pubsub = this.__beehive.getService('PubSub');\n\n        if (pubsub && pubsub.__facade__) return pubsub; // build a unique key for this instance\n\n        this.__ctx.pubsub = {\n          _key: pubsub.getPubSubKey(),\n          _exec: function _exec(name, args) {\n            args = _.toArray(args);\n            if (args[0] instanceof PubSubKey) throw Error('You have given us a PubSub key, this.publish() method does not need it.');\n            args.unshift(this._key);\n            pubsub[name].apply(pubsub, args);\n          },\n          publish: function publish() {\n            this._exec('publish', arguments);\n          },\n          subscribe: function subscribe() {\n            this._exec('subscribe', arguments);\n          },\n          subscribeOnce: function subscribeOnce() {\n            this._exec('subscribeOnce', arguments);\n          },\n          unsubscribe: function unsubscribe() {\n            this._exec('unsubscribe', arguments);\n          },\n          getCurrentPubSubKey: function getCurrentPubSubKey() {\n            return this._key;\n          }\n        };\n\n        _.extend(this.__ctx.pubsub, PubSubEvents);\n\n        return this.__ctx.pubsub;\n      },\n      hasPubSub: function hasPubSub() {\n        if (this.hasBeeHive()) return _.isObject(this.__beehive.getService('PubSub'));\n        return false;\n      }\n    },\n    App: {\n      setApp: function setApp(app) {\n        if (_.isUndefined(app)) throw new Error('App object cannot be empty');\n        this.__app = app;\n      },\n      getApp: function getApp() {\n        return this.__app;\n      },\n      hasApp: function hasApp() {\n        return !_.isEmpty(this.__app);\n      }\n    }\n  };\n  return Mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/dependon.js?");

/***/ }),

/***/ "./src/js/mixins/hardened.js":
/*!***********************************!*\
  !*** ./src/js/mixins/hardened.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/18/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Facade) {\n  var Mixin = {\n    /*\n     * Creates a hardened instance of itself, it uses\n     * interface description from 'hardenedInterface'\n     * Implementations need to populate 'hardenedInterface'\n     * with list of properties and methods that should be exposed\n     * through the Facade\n     */\n    _getHardenedInstance: function _getHardenedInstance(iface, objectIn) {\n      if (!('hardenedInterface' in this) && !iface) {\n        throw Error('Error: this.hardenedInterface is not defined');\n      }\n\n      return new Facade(iface || ('hardenedInterface' in this ? this.hardenedInterface : {}), objectIn);\n    },\n    getHardenedInstance: function getHardenedInstance(iface) {\n      return this._getHardenedInstance(iface, this);\n    }\n  };\n  return Mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/hardened.js?");

/***/ }),

/***/ "./src/js/mixins/widget_mixin_method.js":
/*!**********************************************!*\
  !*** ./src/js/mixins/widget_mixin_method.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/mixins/widget_utility */ \"./src/js/mixins/widget_utility.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Utils) {\n  var mixin = function mixin(from, methods) {\n    var to = this.prototype; // we add those methods which exists on `from` but not on `to` to the latter\n\n    _.extend(from, to); //  and we do the same for events\n\n\n    _.extend(from.events, to.events);\n\n    _.each(Array.prototype.slice.call(arguments, 1), function (m) {\n      Utils.extendMethod(to, from, m);\n    });\n  };\n\n  return mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_mixin_method.js?");

/***/ }),

/***/ "./src/js/mixins/widget_state_manager.js":
/*!***********************************************!*\
  !*** ./src/js/mixins/widget_state_manager.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/api_feedback */ \"./src/js/components/api_feedback.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, ApiFeedback) {\n  /**\n   * Abstract error pubsub-like manager.  Allows for hooks to be applied that\n   * match API feedback codes\n   *\n   * @constructor\n   */\n  var ErrorHandlerManager = function ErrorHandlerManager() {\n    this.handlers = {};\n    /**\n     * Attach a new handler to an API feedback code\n     *\n     * @param {Number} code - feedback code\n     * @param {function} cb - callback function\n     */\n\n    this.on = function (code, cb) {\n      this.handlers[code].push(cb);\n    };\n    /**\n     * Remove handler by passing in the callback function\n     *\n     * @param {function} cb - callback function\n     */\n\n\n    this.off = function (cb) {\n      _.forEach(this.handlers, function (v, k) {\n        var idx = v.indexOf(cb);\n\n        if (idx > -1) {\n          v.splice(idx, 1);\n        }\n      });\n    };\n    /**\n     * Fire off the callbacks for a particular code\n     *\n     * @param {Number} code - feedback code\n     * @param {Array} args - arguments to pass to the callback\n     * @param {object} ctx - callback's `this` property\n     */\n\n\n    this.fire = function (code, args, ctx) {\n      _.forEach(this.handlers[code], function (cb) {\n        cb.apply(ctx, args);\n      });\n    };\n\n    _.reduce(ApiFeedback.CODES, function (res, code) {\n      res[code] = [];\n      return res;\n    }, this.handlers);\n  };\n  /*\n    Widget state manager mixin\n     This mixin will allow widgets to call lifecycle updates which can then have\n    handlers attached.  The mixin can also serve as a way for page managers to\n    react to widget status updates, since certain widgets should be\n    handled differently depending on their type and importance.\n     The typical way this is used is to call `activateWidget` during the activate\n    call on the widget itself.  Then call the various state updates when the widget\n    is performing actions.\n     The default states are: ready, loading, idle, errored\n     Widgets can attach handlers to the various status updates (i.e. onReady, onLoading, etc.)\n     note: during the activation, the widget's pubsubkey is captured and is used\n    to identify the appropriate feedback.  This way the handlers aren't called for\n    events the widget doesn't care about.\n   */\n\n\n  var WidgetStateManagerMixin = {\n    STATES: {\n      LOADING: 'loading',\n      ERRORED: 'errored',\n      IDLE: 'idle',\n      READY: 'ready'\n    },\n\n    /**\n     * Creates a new instance of the handlerManager and subscribes to the\n     * api feedback calls.  It also sets the first state update.\n     */\n    activateWidget: function activateWidget() {\n      this.__widgetHandlerManager = new ErrorHandlerManager();\n      var pubsub = this.getPubSub();\n      pubsub.subscribe(pubsub.FEEDBACK, _.bind(this.__handleFeedback, this));\n      this.updateState('ready');\n    },\n\n    /**\n     * Upon new feedback from the API, this function will grab the current\n     * pubSubKey Id for this widget and compare it to the one listed on the\n     * feedback object.  If they match, then the handlers are fired off for that\n     * code.\n     *\n     * @param {ApiFeedback} feedback\n     * @param {PubSubKey} pubSubKey\n     * @private\n     */\n    __handleFeedback: function __handleFeedback(feedback, pubSubKey) {\n      var id = this.getPubSub().getCurrentPubSubKey().getId();\n\n      if (id === pubSubKey.getId()) {\n        this.__widgetHandlerManager.fire(feedback.code, arguments, this);\n      }\n    },\n\n    /**\n     * Attaches a new handler onto an API code\n     *\n     * @param {Number} code - feedback code\n     * @param {function} handler - handler function\n     */\n    attachHandler: function attachHandler(code, handler) {\n      try {\n        this.__widgetHandlerManager.on(code, handler);\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\n    /**\n     * Attaches a general handler to all api feedback codes\n     *\n     * Includes the positive error codes and api request failures\n     *\n     * @param {function} handler - handler function\n     */\n    attachGeneralHandler: function attachGeneralHandler(handler) {\n      _.forEach(ApiFeedback.CODES, _.bind(function (code) {\n        if (code > 0 || code === ApiFeedback.CODES.API_REQUEST_ERROR) {\n          this.attachHandler(code, handler);\n        }\n      }, this));\n    },\n\n    /**\n     * Detaches a particular handler from all codes\n     *\n     * @param cb\n     */\n    detachHandler: function detachHandler(cb) {\n      this.__widgetHandlerManager.off(cb);\n    },\n\n    /**\n     * Called when the state changes to 'ready'\n     */\n    onReady: _.noop,\n\n    /**\n     * Called when the state changes to 'loading'\n     */\n    onLoading: _.noop,\n\n    /**\n     * Called when the state changes to 'idle'\n     */\n    onIdle: _.noop,\n\n    /**\n     * Called when the state changes to 'errored'\n     */\n    onErrored: _.noop,\n\n    /**\n     * Called on all state changes\n     */\n    onStateChange: _.noop,\n\n    /**\n     * Called by widgets to update their own state.  This will update the current\n     * state and also call any handlers.\n     *\n     * @param {string} state - the state to update to\n     */\n    updateState: function updateState(state) {\n      if (!state || !_.isString(state) || state === this.__state) {\n        // do nothing\n        return;\n      }\n\n      var prev = this.__state;\n      this.__state = state;\n\n      this.__fireStateHandler();\n\n      this.onStateChange.call(this, state, prev);\n    },\n\n    /**\n     * Get the current state value\n     */\n    getState: function getState() {\n      return this.__state;\n    },\n\n    /**\n     * This method looks at the current state and if a matching handler is\n     * provided, it will call it accordingly.\n     *\n     * @private\n     */\n    __fireStateHandler: function __fireStateHandler() {\n      var handlers = {};\n      handlers.ready = this.onReady;\n      handlers.loading = this.onLoading;\n      handlers.idle = this.onIdle;\n      handlers.errored = this.onErrored;\n      handlers[this.__state] && handlers[this.__state].call(this, this);\n    }\n  };\n  return WidgetStateManagerMixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_state_manager.js?");

/***/ }),

/***/ "./src/js/mixins/widget_utility.js":
/*!*****************************************!*\
  !*** ./src/js/mixins/widget_utility.js ***!
  \*****************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var Utils = {}; // Helper method to extend an already existing method\n\n  Utils.extendMethod = function (to, from, methodName) {\n    // if the method is defined on from ...\n    if (!_.isUndefined(from[methodName])) {\n      var old = to[methodName]; // ... we create a new function on to\n\n      to[methodName] = function () {\n        // wherein we first call the method which exists on `to`\n        var oldReturn = old.apply(this, arguments); // and then call the method on `from`\n\n        from[methodName].apply(this, arguments); // and then return the expected result,\n        // i.e. what the method on `to` returns\n\n        return oldReturn;\n      };\n    }\n  };\n\n  return Utils;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_utility.js?");

/***/ }),

/***/ "./src/js/widgets/base/base_widget.js":
/*!********************************************!*\
  !*** ./src/js/widgets/base/base_widget.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/mixins/widget_mixin_method */ \"./src/js/mixins/widget_mixin_method.js\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\"), __webpack_require__(/*! js/mixins/dependon */ \"./src/js/mixins/dependon.js\"), __webpack_require__(/*! js/mixins/widget_state_manager */ \"./src/js/mixins/widget_state_manager.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, Marionette, ApiQuery, ApiRequest, WidgetMixin, ApiTargets, Dependon, WidgetStateManagerMixin) {\n  /**\n   * Default PubSub based widget; the main functionality is inside\n   *\n   *  dispa tchRequest()\n   *    - publishes ApiRequest object into PubSub (to initiate search)\n   *\n   *  processResponse()\n   *    - receives ApiResponse object as a direct reply for the previous\n   *      request\n   *\n   * You will want to override 'processResponse' method and possibly\n   * some of the other methods like this;\n   *\n   * var newWidgetClass = BaseWidget.extend({\n   *   composeRequest : function(){},\n   *   processRequest : function(){}\n   * });\n   *\n   * var newInstance = new newWidgetClass();\n   *\n   *\n   * If you need to provide your own views, do initalization etc., override\n   * initialize\n   *\n   * * var newWidgetClass = BaseWidget.extend({\n   *   initialize: function() {\n   *      // do something\n   *      BaseWidget.prototype.initialize.apply(this, arguments);\n   *   }\n   * });\n   *\n   *\n   * Some other options include:\n   *\n   *  defaultQueryArguments: this is a list of parameters added to each query\n   *\n   */\n  var BaseWidget = Marionette.Controller.extend({\n    initialize: function initialize(options) {\n      options = options || {}; // these methods are called by PubSub as handlers so we bind them to 'this' object\n      // and they will carry their own context 'this'\n\n      _.bindAll(this, 'dispatchRequest', 'processResponse');\n\n      this._currentQuery = new ApiQuery();\n      this.defaultQueryArguments = this.defaultQueryArguments || {};\n\n      if (options.defaultQueryArguments) {\n        this.defaultQueryArguments = _.extend(this.defaultQueryArguments, options.defaultQueryArguments);\n      }\n\n      if (options.view) {\n        this.view = options.view;\n        this.collection = options.view.collection;\n      } // our way of listening to views/models\n\n\n      if (this.view) Marionette.bindEntityEvents(this, this.view, Marionette.getOption(this, 'viewEvents'));\n      if (this.model) Marionette.bindEntityEvents(this, this.model, Marionette.getOption(this, 'modelEvents'));\n    },\n\n    /**\n     * Called by Bumblebee application when a widget is about to be registered\n     * it receives a BeeHive object, that contais methods/attributes that a\n     * widget needs to communicate with the app\n     *\n     * This is the place where you want to subscribe to events\n     *\n     * @param beehive\n     */\n    activate: function activate(beehive) {\n      this.setBeeHive(beehive);\n      var pubsub = beehive.getService('PubSub'); // custom dispatchRequest function goes here\n\n      pubsub.subscribe(pubsub.INVITING_REQUEST, _.bind(this.dispatchRequest, this)); // custom handleResponse function goes here\n\n      pubsub.subscribe(pubsub.DELIVERING_RESPONSE, _.bind(this.processResponse, this));\n    },\n\n    /**\n     * You should use this method when you want to initiaze global search action\n     * (ie. send a query to the pubsub)\n     *\n     * @param apiQuery\n     */\n    dispatchNewQuery: function dispatchNewQuery(apiQuery) {\n      // remove the arguments that are useful only to this widget\n      _.each(this.defaultQueryArguments, function (v, k) {\n        apiQuery.unset(k);\n      });\n\n      var pubsub = this.getPubSub();\n      pubsub.publish(pubsub.NAVIGATE, 'search-page', {\n        q: apiQuery\n      });\n    },\n\n    /**\n     * Default callback to be called by PubSub on 'INVITING_REQUEST'\n     */\n    dispatchRequest: function dispatchRequest(apiQuery) {\n      this._dispatchRequest(apiQuery);\n    },\n    _dispatchRequest: function _dispatchRequest(apiQuery) {\n      var q = this.customizeQuery(apiQuery);\n\n      if (q) {\n        var req = this.composeRequest(q);\n\n        if (req) {\n          var pubsub = this.getPubSub();\n          pubsub.publish(pubsub.DELIVERING_REQUEST, req);\n        }\n      }\n    },\n\n    /**\n     * Default action to modify ApiQuery (called from inside dispatchRequest)\n     *\n     * @param apiQuery\n     */\n    customizeQuery: function customizeQuery(apiQuery) {\n      var q = apiQuery.clone();\n      q.unlock();\n\n      if (this.defaultQueryArguments) {\n        q = this.composeQuery(this.defaultQueryArguments, q);\n      }\n\n      return q;\n    },\n\n    /**\n     * Default callback to be called by PubSub on 'DELIVERING_RESPONSE'\n     * @param apiResponse\n     */\n    processResponse: function processResponse(apiResponse) {\n      // in your widget, you should always set the current query like this\n      var q = apiResponse.getApiQuery();\n      this.setCurrentQuery(q);\n      throw new Error('you need to customize this function');\n    },\n\n    /**\n     * This function should return a request IFF we want to get some\n     * data - it is called from inside 'dispatchRequest' event handler\n     *\n     * @param object with params to add\n     * @returns {ApiRequest}\n     */\n    composeRequest: function composeRequest(apiQuery) {\n      return new ApiRequest({\n        target: ApiTargets.SEARCH,\n        query: apiQuery\n      });\n    },\n\n    /**\n     * Will save a clone of the apiQuery into the widget (for future use and\n     * reference)\n     *\n     * @param apiQuery\n     */\n    setCurrentQuery: function setCurrentQuery(apiQuery) {\n      this._currentQuery = apiQuery;\n    },\n\n    /**\n     * Returns the current ApiQuery\n     * if a query hasn't been set, it will check if there is one in storage,\n     * if not, it will return an empty query\n     *\n     * @returns {ApiQuery|*}\n     */\n    getCurrentQuery: function getCurrentQuery() {\n      var currQuery = new ApiQuery({});\n      var beehive;\n\n      try {\n        if (this._currentQuery instanceof ApiQuery) {\n          currQuery = this._currentQuery;\n        } else if (_.isFunction(this.getBeeHive)) {\n          beehive = this.getBeeHive();\n\n          if (beehive.hasObject('AppStorage')) {\n            var q = beehive.getObject('AppStorage').getCurrentQuery();\n\n            if (q instanceof ApiQuery) {\n              currQuery = q;\n            }\n          }\n        }\n      } catch (e) {\n        console.error(e.message);\n      } finally {\n        return currQuery;\n      }\n    },\n\n    /**\n     * All purpose function for making a new query. It returns an apiQuery ready for\n     * newQuery event or for insertion into  apiRequest.\n     *\n     * @param queryParams\n     * @param apiQuery\n     * @returns {*}\n     */\n    composeQuery: function composeQuery(queryParams, apiQuery) {\n      var query;\n\n      if (!apiQuery) {\n        query = this.getCurrentQuery();\n        query = query.clone();\n      } else {\n        query = apiQuery;\n      }\n\n      if (queryParams) {\n        _.each(queryParams, function (v, k) {\n          if (!query.has(k)) query.set(k, v);\n        });\n      }\n\n      return query;\n    },\n    onDestroy: function onDestroy() {\n      this.view.destroy();\n    },\n\n    /**\n     * Convention inside Backbone and Marionette is to return 'this'\n     * - since 'this' usually refers to a 'View', we'll return the\n     * view's el here\n     * doesn't render unless it has to\n     *\n     * @returns {view.el}\n     */\n    getEl: function getEl() {\n      if (this.view.el && this.view.$el.children().length) {\n        return this.view.el;\n      }\n\n      return this.view.render().el;\n    },\n\n    /*\n     *\n     * convenience function for tests, always re-renders\n     *\n     * */\n    render: function render() {\n      return this.view.render();\n    },\n\n    /**\n     * Extracts identifier from a query object\n     *\n     * @param {ApiQuery} apiQuery\n     */\n    parseIdentifierFromQuery: function parseIdentifierFromQuery(apiQuery) {\n      if (!apiQuery.hasVal('q')) {\n        throw 'no query';\n      }\n\n      var q = apiQuery.get('q')[0];\n\n      try {\n        if (/^(?:identifier|bibcode):(.*)$/.test(q)) {\n          return q.split(':')[1];\n        }\n      } catch (e) {\n        throw 'unable to parse bibcode';\n      }\n\n      throw 'query must be in the format of identifer:foo or bibcode:foo';\n    }\n  }, {\n    mixin: WidgetMixin\n  });\n\n  _.extend(BaseWidget.prototype, Dependon.BeeHive, WidgetStateManagerMixin);\n\n  return BaseWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/base/base_widget.js?");

/***/ }),

/***/ "./src/js/widgets/metrics/d3-tip.js":
/*!******************************************!*\
  !*** ./src/js/widgets/metrics/d3-tip.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// d3.tip\n// Copyright (c) 2013 Justin Palmer\n//\n// Tooltips for d3.js SVG visualizations\n(function (root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module with d3 as a dependency.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! d3 */ \"./src/libs/d3.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(this, function (d3) {\n  // Public - contructs a new tooltip\n  //\n  // Returns a tip\n  d3.tip = function () {\n    var direction = d3_tip_direction;\n    var offset = d3_tip_offset;\n    var html = d3_tip_html;\n    var node = initNode();\n    var svg = null;\n    var point = null;\n    var target = null;\n\n    function tip(vis) {\n      svg = getSVGNode(vis);\n      point = svg.createSVGPoint();\n      document.body.appendChild(node);\n    } // Public - show the tooltip on the screen\n    //\n    // Returns a tip\n\n\n    tip.show = function () {\n      var args = Array.prototype.slice.call(arguments);\n      if (args[args.length - 1] instanceof SVGElement) target = args.pop();\n      var content = html.apply(this, args);\n      var poffset = offset.apply(this, args);\n      var dir = direction.apply(this, args);\n      var nodel = d3.select(node);\n      var i = directions.length;\n      var coords;\n      var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      var scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n      nodel.html(content).style({\n        opacity: 1,\n        'pointer-events': 'all'\n      });\n\n      while (i--) {\n        nodel.classed(directions[i], false);\n      }\n\n      coords = direction_callbacks.get(dir).apply(this);\n      nodel.classed(dir, true).style({\n        top: coords.top + poffset[0] + scrollTop + 'px',\n        left: coords.left + poffset[1] + scrollLeft + 'px'\n      });\n      return tip;\n    }; // Public - hide the tooltip\n    //\n    // Returns a tip\n\n\n    tip.hide = function () {\n      var nodel = d3.select(node);\n      nodel.style({\n        opacity: 0,\n        'pointer-events': 'none'\n      });\n      return tip;\n    }; // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\n    //\n    // n - name of the attribute\n    // v - value of the attribute\n    //\n    // Returns tip or attribute value\n\n\n    tip.attr = function (n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return d3.select(node).attr(n);\n      }\n\n      var args = Array.prototype.slice.call(arguments);\n      d3.selection.prototype.attr.apply(d3.select(node), args);\n      return tip;\n    }; // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\n    //\n    // n - name of the property\n    // v - value of the property\n    //\n    // Returns tip or style property value\n\n\n    tip.style = function (n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return d3.select(node).style(n);\n      }\n\n      var args = Array.prototype.slice.call(arguments);\n      d3.selection.prototype.style.apply(d3.select(node), args);\n      return tip;\n    }; // Public: Set or get the direction of the tooltip\n    //\n    // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n    //     sw(southwest), ne(northeast) or se(southeast)\n    //\n    // Returns tip or direction\n\n\n    tip.direction = function (v) {\n      if (!arguments.length) return direction;\n      direction = v == null ? v : d3.functor(v);\n      return tip;\n    }; // Public: Sets or gets the offset of the tip\n    //\n    // v - Array of [x, y] offset\n    //\n    // Returns offset or\n\n\n    tip.offset = function (v) {\n      if (!arguments.length) return offset;\n      offset = v == null ? v : d3.functor(v);\n      return tip;\n    }; // Public: sets or gets the html value of the tooltip\n    //\n    // v - String value of the tip\n    //\n    // Returns html value or tip\n\n\n    tip.html = function (v) {\n      if (!arguments.length) return html;\n      html = v == null ? v : d3.functor(v);\n      return tip;\n    };\n\n    function d3_tip_direction() {\n      return 'n';\n    }\n\n    function d3_tip_offset() {\n      return [0, 0];\n    }\n\n    function d3_tip_html() {\n      return ' ';\n    }\n\n    var direction_callbacks = d3.map({\n      n: direction_n,\n      s: direction_s,\n      e: direction_e,\n      w: direction_w,\n      nw: direction_nw,\n      ne: direction_ne,\n      sw: direction_sw,\n      se: direction_se\n    });\n    var directions = direction_callbacks.keys();\n\n    function direction_n() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.n.y - node.offsetHeight,\n        left: bbox.n.x - node.offsetWidth / 2\n      };\n    }\n\n    function direction_s() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.s.y,\n        left: bbox.s.x - node.offsetWidth / 2\n      };\n    }\n\n    function direction_e() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.e.y - node.offsetHeight / 2,\n        left: bbox.e.x\n      };\n    }\n\n    function direction_w() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.w.y - node.offsetHeight / 2,\n        left: bbox.w.x - node.offsetWidth\n      };\n    }\n\n    function direction_nw() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.nw.y - node.offsetHeight,\n        left: bbox.nw.x - node.offsetWidth\n      };\n    }\n\n    function direction_ne() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.ne.y - node.offsetHeight,\n        left: bbox.ne.x\n      };\n    }\n\n    function direction_sw() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.sw.y,\n        left: bbox.sw.x - node.offsetWidth\n      };\n    }\n\n    function direction_se() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.se.y,\n        left: bbox.e.x\n      };\n    }\n\n    function initNode() {\n      var node = d3.select(document.createElement('div'));\n      node.style({\n        position: 'absolute',\n        top: 0,\n        opacity: 0,\n        'pointer-events': 'none',\n        'box-sizing': 'border-box'\n      });\n      return node.node();\n    }\n\n    function getSVGNode(el) {\n      el = el.node();\n      if (el.tagName.toLowerCase() === 'svg') return el;\n      return el.ownerSVGElement;\n    } // Private - gets the screen coordinates of a shape\n    //\n    // Given a shape on the screen, will return an SVGPoint for the directions\n    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),\n    // sw(southwest).\n    //\n    //    +-+-+\n    //    |   |\n    //    +   +\n    //    |   |\n    //    +-+-+\n    //\n    // Returns an Object {n, s, e, w, nw, sw, ne, se}\n\n\n    function getScreenBBox() {\n      var targetel = target || d3.event.target;\n      var bbox = {};\n      var matrix = targetel.getScreenCTM();\n      var tbbox = targetel.getBBox();\n      var width = tbbox.width;\n      var height = tbbox.height;\n      var x = tbbox.x;\n      var y = tbbox.y;\n      point.x = x;\n      point.y = y;\n      bbox.nw = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.ne = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.se = point.matrixTransform(matrix);\n      point.x -= width;\n      bbox.sw = point.matrixTransform(matrix);\n      point.y -= height / 2;\n      bbox.w = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.e = point.matrixTransform(matrix);\n      point.x -= width / 2;\n      point.y -= height / 2;\n      bbox.n = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.s = point.matrixTransform(matrix);\n      return bbox;\n    }\n\n    return tip;\n  };\n\n  return d3.tip;\n});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/d3-tip.js?");

/***/ }),

/***/ "./src/js/widgets/metrics/extractor_functions.js":
/*!*******************************************************!*\
  !*** ./src/js/widgets/metrics/extractor_functions.js ***!
  \*******************************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  function hasNonZero(arr) {\n    return arr.filter(function (x) {\n      return x.y > 0;\n    }).length > 0;\n  }\n\n  var DataExtractor = {};\n\n  function getNonRef(ref, all) {\n    var nonRef = {};\n\n    _.each(all, function (v, k) {\n      if (ref[k]) {\n        nonRef[k] = v - ref[k];\n      } else {\n        nonRef[k] = v;\n      }\n    });\n\n    return nonRef;\n  } // function that create a plot for the paper history\n\n\n  DataExtractor.plot_paperhist = function (options) {\n    var data;\n    var returnArray = [];\n    var p = options.paperhist_data;\n    if (!options.norm) data = [p['refereed publications'], getNonRef(p['refereed publications'], p['all publications'])];else data = [p['refereed publications normalized'], getNonRef(p['refereed publications normalized'], p['all publications normalized'])];\n\n    _.each(data, function (a, index) {\n      var transformedArray = [];\n\n      _.each(a, function (v, k) {\n        transformedArray.push({\n          x: k,\n          y: v\n        });\n      });\n\n      returnArray.push(transformedArray);\n    });\n\n    return [{\n      key: 'Refereed',\n      values: returnArray[0]\n    }, {\n      key: 'Non-refereed',\n      values: returnArray[1]\n    }].filter(function (x, i) {\n      return hasNonZero(x.values);\n    });\n  }; // function that creates a plot for the Reads histogram\n\n\n  DataExtractor.plot_readshist = function (options) {\n    var data;\n    var returnArray = [];\n    if (!options.norm) data = [options.readshist_data['refereed reads'], getNonRef(options.readshist_data['refereed reads'], options.readshist_data['all reads'])];else data = [options.readshist_data['refereed reads normalized'], getNonRef(options.readshist_data['refereed reads normalized'], options.readshist_data['all reads normalized'])];\n\n    _.each(data, function (a, index) {\n      var transformedArray = [];\n\n      _.each(a, function (v, k) {\n        transformedArray.push({\n          x: k,\n          y: v\n        });\n      });\n\n      returnArray.push(transformedArray);\n    });\n\n    return [{\n      key: 'Refereed',\n      values: returnArray[0]\n    }, {\n      key: 'Non-refereed',\n      values: returnArray[1]\n    }].filter(function (x, i) {\n      return hasNonZero(x.values);\n    });\n  }; // function that creates a plot for the Citations histogram\n\n\n  DataExtractor.plot_citshist = function (options) {\n    var returnArray = [];\n    var data;\n    var c = options.citshist_data;\n    if (!options.norm) data = [c['refereed to refereed'], c['refereed to nonrefereed'], c['nonrefereed to refereed'], c['nonrefereed to nonrefereed']];else data = [c['refereed to refereed normalized'], c['refereed to nonrefereed normalized'], c['nonrefereed to refereed normalized'], c['nonrefereed to nonrefereed normalized']];\n\n    _.each(data, function (a, index) {\n      var transformedArray = [];\n\n      _.each(a, function (v, k) {\n        transformedArray.push({\n          x: k,\n          y: v\n        });\n      });\n\n      returnArray.push(transformedArray);\n    }); // now, filter to only include arrays with at least 1 non-zero val\n\n\n    return ['Ref. citations to ref. papers', 'Ref. citations to non ref. papers', 'Non ref. citations to ref. papers', 'Non ref. citations to non ref. papers'].map(function (x, i) {\n      return {\n        key: x,\n        values: returnArray[i]\n      };\n    }).filter(function (x, i) {\n      return hasNonZero(x.values);\n    });\n  }; // function that creates a plot for the indexes graph\n\n\n  DataExtractor.plot_series = function (options) {\n    var data_to_plot = options.series_data;\n    var data = [data_to_plot.h, data_to_plot.g, data_to_plot.i10, data_to_plot.tori, data_to_plot.i100, data_to_plot.read10];\n    var returnArray = [];\n\n    _.each(data, function (a, index) {\n      var transformedArray = [];\n\n      _.each(a, function (v, k) {\n        transformedArray.push({\n          x: k,\n          y: v\n        });\n      });\n\n      returnArray.push(transformedArray);\n    }); // normalize read10 data by dividing it by 10\n\n\n    returnArray[5] = _.map(returnArray[5], function (obj) {\n      return {\n        x: obj.x,\n        y: obj.y / 10\n      };\n    });\n    return [{\n      key: 'h Index',\n      values: returnArray[0]\n    }, {\n      key: 'g Index',\n      values: returnArray[1]\n    }, {\n      key: 'i10 Index',\n      values: returnArray[2]\n    }, {\n      key: 'tori Index',\n      values: returnArray[3]\n    }, {\n      key: 'i100 Index',\n      values: returnArray[4]\n    }, {\n      key: 'read10 Index',\n      values: returnArray[5]\n    }];\n  };\n\n  return DataExtractor;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/extractor_functions.js?");

/***/ }),

/***/ "./src/js/widgets/metrics/templates/citations_table.html":
/*!***************************************************************!*\
  !*** ./src/js/widgets/metrics/templates/citations_table.html ***!
  \***************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<thead>\\n  <tr>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th class=\\\"hidden-abstract-page\\\">\\n      Totals\\n    </th>\\n    <th class=\\\"hidden-abstract-page\\\">\\n      Refereed\\n    </th>\\n  </tr>\\n</thead>\\n\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>\\n    Number of citing papers\\n  </td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Number of Citing Papers</b>\\\"\\n      data-content=\\\"Number of unique papers citing the papers in the submitted list.\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></i>\\n    &nbsp;\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"numberOfCitingPapers\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"numberOfCitingPapers\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>Total citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Total Citations</b>\\\"\\n      data-content=\\\"The total number of times all papers in the list were cited.\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Number of self-citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Number of Self-Citations</b>\\\"\\n      data-content=\\\"The number of citations that were also in the list from which the metrics were computed.\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"numberOfSelfCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"numberOfSelfCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Average citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Average Citations</b>\\\"\\n      data-content=\\\"The total number of citations divided by the number of papers.\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Median citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Median Citations</b>\\\"\\n      data-content=\\\"The median of the citation distribution.\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr>\\n  <td>Normalized citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Normalized Citations</b>\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-content=\\\"For a list of N papers (i=1,...N), where N<sub>auth</sub><sup>i</sup> is the number of authors for publication i and C<sub>i</sub> the number of citations that this paper received, the normalized citation count for each article is C<sub>i</sub>/N<sub>auth</sub><sup>i</sup> ,and the 'normalized citations' for this list of N papers is the sum of these N numbers.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"normalizedCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"normalizedCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr>\\n  <td>Refereed citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Refereed Citations</b>\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-content=\\\"Number of refereed citing papers.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"refereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"refereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Average refereed citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Average Refereed Citations</b>\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-content=\\\"The average number of citations from refereed publications to all/refereed publications in the list.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageRefereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageRefereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Median refereed citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Median Refereed Citations</b>\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-content=\\\"The average median of citations from refereed publications to all refereed publications in the list.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianRefereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianRefereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>Normalized refereed citations</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Normalized Refereed Citations</b>\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-content=\\\"The normalized number of citations from refereed publications to all refereed publications in the list.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"normalizedRefereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"normalizedRefereedCitations\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/templates/citations_table.html?");

/***/ }),

/***/ "./src/js/widgets/metrics/templates/graph_template.html":
/*!**************************************************************!*\
  !*** ./src/js/widgets/metrics/templates/graph_template.html ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\\n<div class=\\\"print-hidden\\\">\\n  <p>\\n    <b>Currently showing a limited subset of data for this view. </b>\\n  </p>\\n  <p>\\n    <button\\n      class=\\\"btn btn-primary-faded btn-sm show-all\\\"\\n      style=\\\"max-width: 90%; white-space: normal;\\\"\\n    >\\n      Click here to load the graph and RIQ and Tori indices.\\n      <i>(This may take a few moments.)</i>\\n    </button>\\n  </p>\\n</div>\\n\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"graph-container s-graph-container\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"normalizedGraphData\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":2},\"end\":{\"line\":33,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"  <div>\\n    <form action=\\\"\\\" class=\\\"stacked-form\\\">\\n      <label class=\\\"custom-radio\\\">\\n        stacked\\n        <input type=\\\"radio\\\" name=\\\"bar-arrangement\\\" value=\\\"stacked\\\" checked />\\n      </label>\\n      <label class=\\\"custom-radio\\\">\\n        grouped\\n        <input type=\\\"radio\\\" name=\\\"bar-arrangement\\\" value=\\\"grouped\\\" />\\n      </label>\\n    </form>\\n    <div class=\\\"pull-right graph-key\\\"></div>\\n    <div class=\\\"s-metrics-svg-container\\\" style=\\\"padding-bottom: 58%\\\">\\n      <svg\\n        class=\\\"s-metrics-svg\\\"\\n        viewbox=\\\"0 0 480 250\\\"\\n        preserveAspectRatio=\\\"xMinYMin meet\\\"\\n      ></svg>\\n    </div>\\n  </div>\\n</div>\\n\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div\\n    class=\\\"graph-tab s-graph-tab \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"normalizedGraphData\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":33},\"end\":{\"line\":22,\"column\":84}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"normalized\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":85},\"end\":{\"line\":22,\"column\":124}}})) != null ? stack1 : \"\")\n    + \" \\\"\\n    data-tab=\\\"total\\\"\\n  >\\n    Total\\n  </div>\\n  <div\\n    class=\\\"graph-tab s-graph-tab \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"normalizedGraphData\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":33},\"end\":{\"line\":28,\"column\":84}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"normalized\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":85},\"end\":{\"line\":28,\"column\":116}}})) != null ? stack1 : \"\")\n    + \" \\\"\\n    data-tab=\\\"normalized\\\"\\n  >\\n    Normalized\\n  </div>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \" no-show \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"active\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"showingSimple\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":56,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/templates/graph_template.html?");

/***/ }),

/***/ "./src/js/widgets/metrics/templates/indices_table.html":
/*!*************************************************************!*\
  !*** ./src/js/widgets/metrics/templates/indices_table.html ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<thead>\\n  <tr>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th>\\n      Totals\\n    </th>\\n    <th>\\n      Refereed\\n    </th>\\n  </tr>\\n</thead>\\n\\n<tr>\\n  <td>\\n    h-index\\n  </td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      aria-hidden=\\\"true\\\"\\n      title=\\\"<b>h-index</b>\\\"\\n      data-content=\\\"The H-index is the largest number H such that H publications have at least H citations.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"hIndex\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"hIndex\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>m-index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      aria-hidden=\\\"true\\\"\\n      title=\\\"<b>m-index</b>\\\"\\n      data-content=\\\"The m-index is defined as the h-index divided by number of years since the first published paper of the scientist (also called m-quotient).\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"mIndex\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"mIndex\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>g-index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>g-index</b>\\\"\\n      data-content=\\\"Given a set of articles ranked in decreasing order of the number of citations that they received, the g-index is the (unique) largest number such that the top g articles received (together) at least g<sup>2</sup> citations.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"gIndex\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"gIndex\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr>\\n  <td>i10-index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      aria-hidden=\\\"true\\\"\\n      title=\\\"<b>i10-index</b>\\\"\\n      data-content=\\\"The i10-index is the number of publications with at least 10 citations.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"i10Index\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"i10Index\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>i100-index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>i100-index</b>\\\"\\n      data-content=\\\"The i100-index is the number of publications with at least 100 citations.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"i100Index\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"i100Index\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr>\\n  <td>tori index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>tori index</b>\\\"\\n      data-content=\\\"The tori-index is calculated using the reference lists of the citing papers, where self-citations are removed. The contribution of each citing paper is then normalized by the number of remaining references in the citing papers and the number of authors in the cited paper.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"toriIndex\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"toriIndex\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr>\\n  <td>riq index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>riq index</b>\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-content=\\\"The riq-index equals the square root of the tori-index, divided by the time between the first and last publication. A multiplication with 1000 has been applied.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"riqIndex\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"riqIndex\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>read10-index</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      aria-hidden=\\\"true\\\"\\n      title=\\\"<b>Read10-index</b>\\\"\\n      data-content=\\\"Read10 is the current readership rate for all an individual's papers published in the most recent ten years, normalized for number of authors.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"read10Index\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"read10Index\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/templates/indices_table.html?");

/***/ }),

/***/ "./src/js/widgets/metrics/templates/metrics_container.html":
/*!*****************************************************************!*\
  !*** ./src/js/widgets/metrics/templates/metrics_container.html ***!
  \*****************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\\n    <div class=\\\"s-metrics-metadata\\\">\\n      <i class=\\\"icon-loading\\\" aria-hidden=\\\"true\\\" /> Loading metrics...\\n    </div>\\n\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n    <div class=\\\"metrics-metadata s-metrics-metadata\\\">\\n      <p>Currently showing metrics for <b>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"numFound\") || (depth0 != null ? lookupProperty(depth0,\"numFound\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"numFound\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":42},\"end\":{\"line\":20,\"column\":54}}}) : helper)))\n    + \"</b> records.</p>\\n    </div>\\n\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div style=\\\"padding-left:4%\\\">\\n    <h4 class=\\\"s-list-description\\\">Metrics for</h4>\\n    <h2 class=\\\"s-article-title\\\">\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":32},\"end\":{\"line\":30,\"column\":43}}}) : helper))) != null ? stack1 : \"\")\n    + \"</h2>\\n  </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"metrics-container\\\">\\n  <div class=\\\"print-only\\\">\\n    <div style=\\\"font-weight: 300;text-align:center; font-size: medium;\\\">\\n      NASA/ADS Metrics Report\\n    </div>\\n  </div>\\n  <div class=\\\"print-only\\\" style=\\\"text-align:center\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":52},\"end\":{\"line\":7,\"column\":59}}}) : helper)))\n    + \"</div>\\n\\n  <div class=\\\"col-xs-12 s-explore-close-container\\\">\\n    <div class=\\\"s-large-close close-widget close\\\">x</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"loading\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":4},\"end\":{\"line\":23,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n\\n  <!--used by widget when it is on the abstract page-->\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"title\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":2},\"end\":{\"line\":32,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"  <div class=\\\"s-metrics-section\\\" id=\\\"papers\\\">\\n    <div class=\\\"s-metrics-title\\\">\\n      <h3>Papers</h3>\\n      <button class=\\\"btn btn-link download s-download hidden\\\">\\n        <i\\n          class=\\\"fa fa-download fa-2x\\\"\\n          aria-hidden=\\\"true\\\"\\n          title=\\\"download data in csv\\\"\\n        ></i>\\n        <span class=\\\"sr-only\\\">download data in csv</span>\\n      </button>\\n    </div>\\n    <div class=\\\"metrics-table s-metrics-table\\\"></div>\\n    <div class=\\\"metrics-graph s-metrics-graph\\\"></div>\\n  </div>\\n  <div class=\\\"s-metrics-section\\\" id=\\\"citations\\\">\\n    <div class=\\\"s-metrics-title\\\">\\n      <h3>Citations</h3>\\n      <button class=\\\"btn btn-link download s-download hidden\\\">\\n        <i\\n          class=\\\"fa fa-download fa-2x\\\"\\n          aria-hidden=\\\"true\\\"\\n          title=\\\"download data in csv\\\"\\n        ></i>\\n        <span class=\\\"sr-only\\\">download data in csv</span>\\n      </button>\\n    </div>\\n    <div class=\\\"metrics-table s-metrics-table\\\"></div>\\n    <div class=\\\"metrics-graph s-metrics-graph\\\"></div>\\n  </div>\\n  <div class=\\\"s-metrics-section\\\" id=\\\"reads\\\">\\n    <div class=\\\"s-metrics-title\\\">\\n      <h3>Reads</h3>\\n      <button class=\\\"btn btn-link download s-download hidden\\\">\\n        <i\\n          class=\\\"fa fa-download fa-2x\\\"\\n          aria-hidden=\\\"true\\\"\\n          title=\\\"download data in csv\\\"\\n        ></i>\\n        <span class=\\\"sr-only\\\">download data in csv</span>\\n      </button>\\n    </div>\\n    <div class=\\\"metrics-table s-metrics-table\\\"></div>\\n    <div class=\\\"metrics-graph s-metrics-graph\\\"></div>\\n  </div>\\n  <div class=\\\"s-metrics-section\\\" id=\\\"indices\\\">\\n    <div class=\\\"s-metrics-title\\\">\\n      <h3>Indices</h3>\\n      <button class=\\\"btn btn-link s-download download-indices hidden\\\">\\n        <i\\n          class=\\\"fa fa-download fa-2x\\\"\\n          aria-hidden=\\\"true\\\"\\n          title=\\\"download data in csv\\\"\\n        ></i>\\n        <span class=\\\"sr-only\\\">download data in csv</span>\\n      </button>\\n    </div>\\n    <div class=\\\"metrics-table s-metrics-table\\\"></div>\\n    <div class=\\\"metrics-graph s-metrics-graph\\\"></div>\\n  </div>\\n  <a id=\\\"download-link\\\" style=\\\"visibility: hidden\\\"></a>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/templates/metrics_container.html?");

/***/ }),

/***/ "./src/js/widgets/metrics/templates/paper_table.html":
/*!***********************************************************!*\
  !*** ./src/js/widgets/metrics/templates/paper_table.html ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<thead>\\n  <tr>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th>\\n      Totals\\n    </th>\\n    <th>\\n      Refereed\\n    </th>\\n  </tr>\\n</thead>\\n\\n<tr>\\n  <td>Number of papers</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Number of Papers</b>\\\"\\n      data-content=\\\"The total number of papers for which metrics were calculated. This may differ from total number of papers requested due to gaps in the metrics database. If you spot a discrepancy please let us know at adshelp@cfa.harvard.edu \\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNumberOfPapers\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNumberOfPapers\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr>\\n  <td>Normalized paper count</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Normalized Paper Count</b>\\\"\\n      data-content=\\\"For a list of N papers (i=1,...N), where N<sub>auth</sub><sup>i</sup> is the number of authors for publication i, the normalized paper count is the sum over 1/N<sub>auth</sub><sup>i</sup>.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNormalizedPaperCount\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNormalizedPaperCount\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/templates/paper_table.html?");

/***/ }),

/***/ "./src/js/widgets/metrics/templates/reads_table.html":
/*!***********************************************************!*\
  !*** ./src/js/widgets/metrics/templates/reads_table.html ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<thead>\\n  <tr>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th>\\n      <span class=\\\"sr-only\\\">no value</span>\\n    </th>\\n    <th class=\\\"hidden-abstract-page\\\">\\n      Totals\\n    </th>\\n    <th class=\\\"hidden-abstract-page\\\">\\n      Refereed\\n    </th>\\n  </tr>\\n</thead>\\n\\n<tr>\\n  <td>\\n    Total number of reads\\n  </td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      aria-hidden=\\\"true\\\"\\n      title=\\\"<b>Total Number of Reads</b>\\\"\\n      data-content=\\\"The total number of times all papers were read. For each paper, a read is counted if an ADS user runs a search in our system and then requests to either view the paper\\\\'s full bibliographic record or download the fulltext.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNumberOfReads\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNumberOfReads\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Average number of reads</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Average Number of Reads</b>\\\"\\n      data-content=\\\"The total number of reads divided by the number of papers.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageNumberOfReads\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageNumberOfReads\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Median number of reads</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Median Number of Reads</b>\\\"\\n      data-content=\\\"The median of the reads distribution.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianNumberOfReads\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianNumberOfReads\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr>\\n  <td>Total number of downloads</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Total Number of Downloads</b>\\\"\\n      data-content=\\\"The total number of times full text (article or e-print) was accessed.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNumberOfDownloads\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"totalNumberOfDownloads\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Average number of downloads</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Average Number of Downloads</b>\\\"\\n      data-content=\\\"The total number of downloads divided by the number of papers.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageNumberOfDownloads\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"averageNumberOfDownloads\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\\n<tr class=\\\"hidden-abstract-page\\\">\\n  <td>Median number of downloads</td>\\n  <td>\\n    <i\\n      class=\\\"icon-help\\\"\\n      aria-hidden=\\\"true\\\"\\n      data-toggle=\\\"popover\\\"\\n      data-container=\\\"body\\\"\\n      title=\\\"<b>Median Number of Downloads</b>\\\"\\n      data-content=\\\"The median of the downloads distribution.\\\"\\n    ></i>\\n  </td>\\n  <td>\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianNumberOfDownloads\") : depth0)) != null ? lookupProperty(stack1,\"0\") : stack1), depth0))\n    + \"\\n  </td>\\n  <td class=\\\"hidden-abstract-page\\\">\\n    \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"medianNumberOfDownloads\") : depth0)) != null ? lookupProperty(stack1,\"1\") : stack1), depth0))\n    + \"\\n  </td>\\n</tr>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/templates/reads_table.html?");

/***/ }),

/***/ "./src/js/widgets/metrics/widget.js":
/*!******************************************!*\
  !*** ./src/js/widgets/metrics/widget.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! d3 */ \"./src/libs/d3.js\"), __webpack_require__(/*! js/widgets/base/base_widget */ \"./src/js/widgets/base/base_widget.js\"), __webpack_require__(/*! js/widgets/metrics/extractor_functions */ \"./src/js/widgets/metrics/extractor_functions.js\"), __webpack_require__(/*! js/components/api_response */ \"./src/js/components/api_response.js\"), __webpack_require__(/*! js/components/json_response */ \"./src/js/components/json_response.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/mixins/dependon */ \"./src/js/mixins/dependon.js\"), __webpack_require__(/*! hbs!js/widgets/metrics/templates/metrics_container */ \"./src/js/widgets/metrics/templates/metrics_container.html\"), __webpack_require__(/*! hbs!js/widgets/metrics/templates/graph_template */ \"./src/js/widgets/metrics/templates/graph_template.html\"), __webpack_require__(/*! hbs!js/widgets/metrics/templates/paper_table */ \"./src/js/widgets/metrics/templates/paper_table.html\"), __webpack_require__(/*! hbs!js/widgets/metrics/templates/citations_table */ \"./src/js/widgets/metrics/templates/citations_table.html\"), __webpack_require__(/*! hbs!js/widgets/metrics/templates/indices_table */ \"./src/js/widgets/metrics/templates/indices_table.html\"), __webpack_require__(/*! hbs!js/widgets/metrics/templates/reads_table */ \"./src/js/widgets/metrics/templates/reads_table.html\"), __webpack_require__(/*! bootstrap */ \"./src/libs/bootstrap/bootstrap.js\"), __webpack_require__(/*! js/components/api_feedback */ \"./src/js/components/api_feedback.js\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\"), __webpack_require__(/*! js/widgets/metrics/d3-tip */ \"./src/js/widgets/metrics/d3-tip.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Marionette, d3, BaseWidget, DataExtractor, ApiResponse, JsonResponse, ApiRequest, ApiQuery, Dependon, MetricsContainer, GraphTemplate, PaperTableTemplate, CitationsTableTemplate, IndicesTableTemplate, ReadsTableTemplate, bs, ApiFeedback, ApiTargets, _d3Tip) {\n  /*\n    NOTE: importing d3-tip from the metrics folder bc it is a modified file made to\n    work with AMD\n     */\n  // used for processing data\n  function limitPlaces(n) {\n    if (!n) return n;\n    var stringNum = n.toString();\n\n    if (stringNum.indexOf('.') > -1 && stringNum.split('.')[1]) {\n      return n.toFixed(1);\n    }\n\n    return n;\n  }\n\n  var TableModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        title: [],\n        rows: []\n      };\n    }\n  });\n  var TableView = Marionette.ItemView.extend({\n    className: 'table table-hover s-metrics-table table-condensed',\n    tagName: 'table',\n    onRender: function onRender() {\n      this.$('[data-toggle=\"popover\"]').popover({\n        html: true,\n        trigger: 'hover'\n      });\n    }\n  });\n  var GraphModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        // precompute this data to have on hand\n        graphData: undefined,\n        normalizedGraphData: undefined,\n        // when this changes, graph view changes to normalized\n        normalized: false,\n        // tells graph which options to allow\n        // right now we do \"histogram\" and \"line\"\n        graphType: 'histogram',\n        barArrangement: 'stacked',\n        yAxisLabel: 'Papers'\n      };\n    }\n  });\n  var GraphView = Marionette.ItemView.extend({\n    className: 'graph-view s-graph-view',\n    initialize: function initialize() {\n      this.initial = true;\n    },\n    modelEvents: {\n      'change:normalized': 'render'\n    },\n    ui: {\n      svg: 'svg'\n    },\n    events: {\n      'click .graph-tab': 'updateTabValue'\n    },\n    updateTabValue: function updateTabValue(e) {\n      var $e = $(e.currentTarget);\n      var val = $e.data('tab');\n\n      if (val === 'normalized') {\n        this.model.set('normalized', true);\n      } else {\n        this.model.set('normalized', false);\n      }\n    },\n    colors: ['#5683e0', '#7ab889', '#ffb639', '#ed5e5b', '#ce5cff', '#1c459b'],\n    drawHistogram: function drawHistogram() {\n      var that = this; // modified from https://bl.ocks.org/mbostock/3943967\n\n      var graphData = this.model.get('normalized') ? this.model.get('normalizedGraphData') : this.model.get('graphData');\n      var n = graphData.length;\n      var stack = d3.layout.stack();\n      var layers = stack(graphData.map(function (g) {\n        return g.values;\n      }));\n      var yGroupMax = d3.max(layers, function (layer) {\n        return d3.max(layer, function (d) {\n          return d.y;\n        });\n      });\n      var yStackMax = d3.max(layers, function (layer) {\n        return d3.max(layer, function (d) {\n          return d.y0 + d.y;\n        });\n      });\n      var svg = d3.select(this.$('svg')[0]);\n      var that = this;\n      var margin = {\n        top: 20,\n        right: 10,\n        bottom: 20,\n        left: 50\n      };\n      var width = 480 - margin.left - margin.right;\n      var height = 250 - margin.top - margin.bottom;\n      var years = this.model.get('graphData')[0].values.map(function (o) {\n        return o.x;\n      });\n      var x = d3.scale.ordinal().domain(years).rangeRoundBands([0, width], 0.08);\n      var y = d3.scale.linear().domain([0, yStackMax]).range([height, 0]);\n      this.$('svg').empty();\n      var graphContainerG = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').classed('graph-container-g', true);\n      svg.selectAll('[data-legend]').data(_.map(graphData, 'key')).enter().append('g').attr('data-legend', _.identity).attr('data-legend-color', function (d, i) {\n        return that.colors[i];\n      }); // must delay to make sure element exists\n\n      setTimeout(function () {\n        if (window.d3.legend) {\n          svg.append('g').attr('class', 'legend').attr('transform', 'translate(70, 20)').attr('data-style-padding', 7).style('font-size', '12px').call(window.d3.legend);\n        }\n      }, 500); // cache it so it can be applied to the rects later\n\n      if (!this.tip) {\n        this.tip = d3.tip().attr('class', 'd3-tip').offset([-10, 0]).html(function (d) {\n          var dataType = that.model.get('normalized') ? 'normalizedGraphData' : 'graphData';\n          var data = that.model.get(dataType);\n          var sum = 0;\n          var res = data.map(function (obj) {\n            var title = obj.key;\n\n            var val = _.findWhere(obj.values, {\n              x: d.x\n            }).y;\n\n            sum += val;\n            return '<b>' + title + '</b>:&nbsp;' + val.toFixed(2);\n          });\n          res.push(\"<b>Total</b>:&nbsp;\".concat(sum.toFixed(2)));\n          return res.join('<br/>');\n        });\n      }\n\n      graphContainerG.call(this.tip);\n      graphContainerG.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + height + ')');\n      graphContainerG.append('g').attr('class', 'y axis').attr('transform', 'translate(0,0)');\n      graphContainerG.append('text').attr('text-anchor', 'middle') // this makes it easy to centre the text as the transform is applied to the anchor\n      .attr('transform', 'translate(' + -40 + ',' + height / 2 + ')rotate(-90)') // text is drawn off the screen top left, move down and out and rotate\n      .classed('graph-label', true).text(this.model.get('yAxisLabel'));\n      this.$('input[name=bar-arrangement]').on('change', changeBarArrangement);\n      var layer = graphContainerG.selectAll('.layer').data(layers).enter().append('g').attr('class', 'layer').style('fill', function (d, i) {\n        return that.colors[i];\n      });\n      var rect = layer.selectAll('rect').data(function (d) {\n        return d;\n      }).enter().append('rect').attr('width', x.rangeBand()).attr('x', function (d) {\n        return x(d.x);\n      }).on('mouseover', this.tip.show).on('mouseout', this.tip.hide);\n      var xTickValues; // avoid having too many ticks\n\n      if (years.length > 20) {\n        var interval = Math.floor(years.length / 5);\n        xTickValues = years.filter(function (y) {\n          return y % interval === 0;\n        });\n      } else if (years.length > 8) {\n        xTickValues = years.filter(function (y) {\n          return y % 2 === 0;\n        });\n      } else {\n        xTickValues = years;\n      }\n\n      var xAxis = d3.svg.axis().scale(x).tickSize(0).tickValues(xTickValues).tickPadding(6).orient('bottom');\n      var yTickCount = yStackMax > 1 ? 5 : 0;\n      var yAxis = d3.svg.axis().scale(y).tickSize(0).ticks(yTickCount).tickFormat(function (d) {\n        if (d > 1) {\n          return d3.format('s')(d);\n        }\n\n        return d3.format('.1n')(d);\n      }).orient('left');\n      graphContainerG.select('.x.axis').call(xAxis);\n      graphContainerG.select('.y.axis').transition().call(yAxis);\n      graphContainerG.selectAll('rect').transition().delay(function (d, i) {\n        return i * 10;\n      }).attr('y', function (d) {\n        return y(d.y0 + d.y);\n      }).attr('height', function (d) {\n        return y(d.y0) - y(d.y0 + d.y);\n      });\n      /*\n        stacked/grouped\n       */\n\n      function changeBarArrangement(e) {\n        if (this.value === 'grouped') transitionGrouped();else transitionStacked();\n      }\n\n      function transitionGrouped() {\n        rect.transition().duration(500).delay(function (d, i) {\n          return i * 10;\n        }).attr('x', function (d, i, j) {\n          return x(d.x) + x.rangeBand() / n * j;\n        }).attr('width', x.rangeBand() / n).transition().attr('y', function (d) {\n          return y(d.y);\n        }).attr('height', function (d) {\n          return height - y(d.y);\n        });\n      }\n\n      function transitionStacked() {\n        y.domain([0, yStackMax]);\n        rect.transition().duration(500).delay(function (d, i) {\n          return i * 10;\n        }).attr('y', function (d) {\n          return y(d.y0 + d.y);\n        }).attr('height', function (d) {\n          return y(d.y0) - y(d.y0 + d.y);\n        }).transition().attr('x', function (d) {\n          return x(d.x);\n        }).attr('width', x.rangeBand());\n      }\n    },\n    drawLineGraph: function drawLineGraph() {\n      var that = this; // dont need the radio buttons\n\n      this.$('.stacked-form').remove(); // cache it so it can be applied to the rects later\n\n      var tip = d3.tip().attr('class', 'd3-tip').offset([-10, 0]).html(function (d) {\n        return d.key;\n      });\n      var graphData = this.model.get('graphData');\n      if (!graphData) return; // parse the years\n\n      graphData.forEach(function (d) {\n        d.values.forEach(function (v) {\n          v.x = parseInt(v.x);\n        });\n      });\n      var years = graphData[0].values.map(function (o) {\n        return o.x;\n      });\n      var svg = d3.select(this.$('svg')[0]);\n      var margin = {\n        top: 20,\n        right: 80,\n        bottom: 30,\n        left: 50\n      };\n      var width = 480 - margin.left - margin.right;\n      var height = 250 - margin.top - margin.bottom;\n      g = svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')').attr('pointer-events', 'all'); // it's only one year, show a message\n\n      if (years.length === 1) {\n        g.append('text').attr('x', 10).attr('y', 100).text('time period is less than a year, refer to table to the left for values');\n        return;\n      }\n\n      var x = d3.scale.linear().domain(d3.extent(years)).range([0, width]);\n      var y = d3.scale.linear().range([height, 0]);\n      y.domain([0, d3.max(_.flatten(graphData.map(function (g) {\n        return g.values.map(function (v) {\n          return v.y;\n        });\n      })))]);\n      var xAxis = d3.svg.axis().scale(x).tickSize(0).ticks(5).tickFormat(d3.format()).tickPadding(6).orient('bottom');\n      var yAxis = d3.svg.axis().scale(y).tickSize(0).ticks(5).tickFormat(function (d) {\n        if (d > 1) {\n          return d3.format('s')(d);\n        }\n\n        return d3.format('.1n')(d);\n      }).orient('left');\n      var line = d3.svg.line().x(function (d) {\n        return x(d.x);\n      }).y(function (d) {\n        return y(d.y);\n      });\n      g.call(tip);\n      g.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + height + ')').call(xAxis);\n      g.append('g').attr('class', 'y axis').call(yAxis);\n      var index = g.selectAll('.index').data(graphData).enter().append('g').attr('class', 'index');\n      index.append('path').attr('class', 'line').attr('d', function (d) {\n        return line(d.values);\n      }).style('stroke', function (d, i) {\n        return that.colors[i];\n      }); // .on('mouseover', tip.show)\n      // .on('mouseout', tip.hide);\n      // **** Hover Data Line ****\n      // iife to protect variables from leaking into other areas below\n\n      (function () {\n        // Set an offset for the overlay\n        var overlayOffset = 10; // Generate groups from the graphData\n\n        var dataGroups = _.reduce(graphData, function (res, d) {\n          res[d.key] = d.values;\n          return res;\n        }, {}); // Create a <g> element for the hover stuff to live\n\n\n        var hoverGroup = svg.append('g').attr('pointer-events', 'all'); // Create a new vertical <line> that will follow the mouse\n\n        var hoverLine = hoverGroup.append('line').attr({\n          'pointer-events': 'none',\n          x1: margin.left,\n          x2: margin.left,\n          y1: margin.top,\n          y2: height + margin.top,\n          stroke: 'black',\n          'stroke-width': '1px'\n        }); // Create a set of dots, one for each group, that will follow the mouse\n\n        var focusDots = _.map(dataGroups, function (d, key) {\n          var dot = {\n            key: key,\n            el: hoverGroup.append('circle').attr({\n              r: 3,\n              'stroke-width': '2px',\n              fill: 'none',\n              'pointer-events': 'none'\n            }),\n            data: d\n          };\n          return dot;\n        }); // Create a small info area that will display values as we move mouse\n\n\n        var infoBox = g.append('foreignObject').attr({\n          class: 'info-box',\n          width: '200px',\n          height: '100px',\n          x: '100'\n        }).style({\n          opacity: 0.75,\n          'font-size': '0.60em'\n        }); // Memoized function for generating info-box output\n\n        var createInfoBoxHtml = _.memoize(function (data) {\n          if (!data) {\n            return;\n          }\n\n          var out = '<table>';\n          out += '<tr><td><strong>Year:</strong></td><td>&nbsp;' + data.year + '</td></tr>';\n\n          for (var i in data.groups) {\n            var g = data.groups[i];\n            out += '<tr>';\n            out += '<td style=\"color:' + g.color + '\"><strong>' + g.key + ':</strong></td>';\n            out += '<td>&nbsp;' + g.val.toFixed(5) + '</td>';\n            out += '</tr>';\n          }\n\n          out += '</table>';\n          return out;\n        }, function (data) {\n          return data.year;\n        });\n        /**\n         * Memoized function that takes in a domainX and outputs an array\n         * of transform data points.\n         */\n\n\n        var parseDotsFromMouse = _.memoize(function (domainX) {\n          var bisector = d3.bisector(function (d) {\n            return d.x;\n          }).left;\n          var out = [];\n\n          _.forEach(focusDots, function (dot) {\n            var data = dot.data;\n            var pos = bisector(data, domainX);\n            var smaller = data[pos - 1] || 0;\n            var larger = data[pos] || data[data.length - 1];\n            var closest = domainX - smaller.x < larger.x === domainX ? smaller : larger;\n            var tranX = x(closest.x) + margin.left;\n            var tranY = y(closest.y) + margin.top;\n            out.push({\n              dot: dot,\n              data: closest,\n              pos: {\n                x: tranX,\n                y: tranY\n              }\n            });\n          }, 0);\n\n          return out;\n        });\n        /**\n         * Memoized function that takes in an array of data points and\n         * provides the average x coordinate, this is used to position the vertical\n         * line\n         */\n\n\n        var getAverageX = _.memoize(function (data) {\n          return _.reduce(data, function (res, d) {\n            return res + d.pos.x;\n          }, 0) / data.length;\n        }, function (d) {\n          return d[0].data.x;\n        });\n        /**\n         * Update the position of the dots that follow the lines, this works on a\n         * single dot at a time, also updating a the infoBoxData object during the\n         * loop\n         */\n\n\n        var updateElements = function updateElements(infoBoxData, item, idx) {\n          var el = item.dot.el;\n          var data = item.data;\n          var pos = item.pos;\n          el.attr({\n            visibility: null,\n            transform: 'translate(' + pos.x + ',' + pos.y + ')',\n            stroke: that.colors[idx]\n          });\n          infoBoxData.year = data.x;\n          infoBoxData.groups.push({\n            key: item.dot.key,\n            val: data.y,\n            color: that.colors[idx]\n          });\n        };\n        /**\n         * Debounced function that hides the hover line, dots and infobox when\n         * mouseout occurs\n         */\n\n\n        var onRectMouseOut = _.debounce(function () {\n          infoBox.html('');\n          hoverLine.attr('visibility', 'hidden');\n\n          _.forEach(focusDots, function (f) {\n            f.el.attr('visibility', 'hidden');\n          });\n        }, 300, {\n          leading: true\n        });\n        /**\n         * When mousemove detected, the vertical line, dots and infobox are\n         * generated/updated.\n         */\n\n\n        var onRectMouseMove = function onRectMouseMove() {\n          var mouse = d3.mouse(this); // transform mouse X domain into data points\n\n          var parsedDots = parseDotsFromMouse(x.invert(mouse[0]).toFixed(0));\n          var avgX = getAverageX(parsedDots);\n          var infoBoxData = {\n            year: 0,\n            groups: []\n          }; // one last loop to update elements\n\n          _.forEach(parsedDots, _.partial(updateElements, infoBoxData)); // Update the infobox\n\n\n          infoBox.html(createInfoBoxHtml(infoBoxData)); // Update vertical line\n\n          hoverLine.attr({\n            x1: avgX,\n            x2: avgX,\n            visibility: null\n          });\n        }; // Append a <rect> that will be hidden but used to capture events\n\n\n        g.append('rect').attr({\n          x: -overlayOffset,\n          width: width + overlayOffset * 2,\n          height: height,\n          visibility: 'hidden'\n        }).on('mouseout', onRectMouseOut).on('mousemove', onRectMouseMove);\n      })(); // **** End Hover Data Line ****\n\n\n      svg.selectAll('[data-legend]').data(_.map(graphData, 'key')).enter().append('g').attr('data-legend', _.identity).attr('data-legend-color', function (d, i) {\n        return that.colors[i];\n      }); // must delay to make sure the element is available\n\n      setTimeout(function () {\n        if (window.d3.legend) {\n          svg.append('g').attr('class', 'legend').attr('transform', 'translate(70, 36)').attr('data-style-padding', 7).style('font-size', '12px').call(window.d3.legend);\n        }\n      }, 500);\n    },\n    // listens on change events\n    drawGraph: function drawGraph() {\n      var type = this.model.get('graphType'); // find correct function\n\n      if (type === 'histogram') {\n        this.drawHistogram();\n      } else if (type === 'line') {\n        this.drawLineGraph();\n      }\n    },\n    template: GraphTemplate,\n    onRender: function onRender() {\n      var _this = this;\n\n      this.drawGraph();\n      setTimeout(function () {\n        $('svg', _this.el).attr('aria-label', _this.model.get('yAxisLabel') + ' graph');\n      }, 0);\n    }\n  });\n  var ContainerModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        widgetName: 'Metrics'\n      };\n    }\n  });\n  var ContainerView = Marionette.LayoutView.extend({\n    template: MetricsContainer,\n    events: {\n      'click .close-widget': 'signalCloseWidget',\n      'click .show-all': 'signalShowAll',\n      'click #papers .download': 'signaleDownloadPapers',\n      'click #citations .download': 'signaleDownloadCitations',\n      'click #reads .download': 'signaleDownloadReads',\n      'click .download-indices': 'signaleDownloadIndices'\n    },\n    signaleDownloadPapers: function signaleDownloadPapers() {\n      this.trigger('download-papers');\n    },\n    signaleDownloadCitations: function signaleDownloadCitations() {\n      this.trigger('download-citations');\n    },\n    signaleDownloadReads: function signaleDownloadReads() {\n      this.trigger('download-reads');\n    },\n    signaleDownloadIndices: function signaleDownloadIndices() {\n      this.trigger('download-indices');\n    },\n    signalCloseWidget: function signalCloseWidget() {\n      // kill the d3 tip if it's still there\n      $('.d3-tip').remove();\n      this.trigger('close-widget');\n    },\n    signalShowAll: function signalShowAll() {\n      this.$('.show-all').html('<i class=\"icon-loading\" aria-hidden=\"true\"/>&nbsp;&nbsp;' + this.$('.show-all').html());\n      this.trigger('show-all');\n    },\n    showDownloadButtons: function showDownloadButtons(childViews) {\n      this.$('.download').removeClass('hidden');\n\n      if (!childViews.indicesGraphView.model.get('showingSimple')) {\n        this.$('.download-indices').removeClass('hidden');\n      }\n    },\n    modelEvents: {\n      change: 'render'\n    },\n    regions: {\n      papersGraph: '#papers .metrics-graph',\n      papersTable: '#papers .metrics-table',\n      citationsGraph: '#citations .metrics-graph',\n      citationsTable: '#citations .metrics-table',\n      indicesGraph: '#indices .metrics-graph',\n      indicesTable: '#indices .metrics-table',\n      readsGraph: '#reads .metrics-graph',\n      readsTable: '#reads .metrics-table'\n    }\n  });\n  var MetricsWidget = BaseWidget.extend({\n    viewEvents: {\n      'close-widget': 'closeWidget',\n      'show-all': 'showAll',\n      'download-papers': 'downloadPapers',\n      'download-citations': 'downloadCitations',\n      'download-reads': 'downloadReads',\n      'download-indices': 'downloadIndices'\n    },\n    initialize: function initialize(options) {\n      options = options || {};\n      this.containerModel = new ContainerModel();\n      this.view = new ContainerView({\n        model: this.containerModel\n      });\n      this.childViews = {};\n      Marionette.bindEntityEvents(this, this.view, Marionette.getOption(this, 'viewEvents')); // for widgets that extend the base MetricsWidget, so they can access this stuff\n\n      this.dataExtractor = DataExtractor;\n      this.GraphModel = GraphModel;\n      this.GraphView = GraphView;\n    },\n    defaultQueryArguments: {\n      fl: ['bibcode']\n    },\n    // so I can test these individually\n    components: {\n      TableModel: TableModel,\n      TableView: TableView,\n      GraphView: GraphView,\n      GraphModel: GraphModel,\n      ContainerView: ContainerView\n    },\n    activate: function activate(beehive) {\n      this.setBeeHive(beehive);\n\n      _.bindAll(this, 'setCurrentQuery', 'processMetrics', 'checkIfSimpleRequired');\n\n      var pubsub = beehive.getService('PubSub');\n      pubsub.subscribe(pubsub.INVITING_REQUEST, this.setCurrentQuery);\n      this.activateWidget();\n      this.attachGeneralHandler(this.onApiFeedback);\n    },\n    onApiFeedback: function onApiFeedback() {\n      this.closeWidget();\n      var pubsub = this.getPubSub();\n      pubsub.publish(pubsub.ALERT, new ApiFeedback({\n        code: 0,\n        msg: 'Sorry Metrics are unavailable at this time, try again later',\n        type: 'danger'\n      }));\n    },\n    downloadPapers: function downloadPapers() {\n      var data = this.prepareDownloadData(this.childViews.papersGraphView.model.get('graphData'));\n      this.download(data, 'metrics-papers.csv');\n    },\n    downloadCitations: function downloadCitations() {\n      var data = this.prepareDownloadData(this.childViews.citationsGraphView.model.get('graphData'));\n      this.download(data, 'metrics-citations.csv');\n    },\n    downloadReads: function downloadReads() {\n      var data = this.prepareDownloadData(this.childViews.readsGraphView.model.get('graphData'));\n      this.download(data, 'metrics-reads.csv');\n    },\n    downloadIndices: function downloadIndices() {\n      var data = this.prepareDownloadData(this.childViews.indicesGraphView.model.get('graphData'), false);\n      this.download(data, 'metrics-indices.csv');\n    },\n    prepareDownloadData: function prepareDownloadData(data) {\n      var recordTotal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var output = 'data:text/csv;charset=utf-8,';\n      var dim = data.length;\n      var len = data[0].values.length; // headers\n\n      output += 'Year';\n      data.forEach(function (d) {\n        output += \", \".concat(d.key);\n      });\n      output += recordTotal ? ', Total\\n' : '\\n';\n\n      for (var i = 0; i < len; i++) {\n        output += \"\".concat(data[0].values[i].x); // year\n\n        var total = 0;\n\n        for (var j = 0; j < dim; j++) {\n          output += \", \".concat(data[j].values[i].y); // value\n\n          total += data[j].values[i].y;\n        }\n\n        output += recordTotal ? \", \".concat(total, \"\\n\") : '\\n';\n      }\n\n      return output;\n    },\n    download: function download(data, filename) {\n      var encodedUri = encodeURI(data);\n      var link = document.getElementById('download-link');\n      link.setAttribute('download', filename);\n      link.setAttribute('href', encodedUri);\n      link.click();\n    },\n    closeWidget: function closeWidget() {\n      this.reset(); // only redirect if we are allowed to do so\n\n      if (this.componentParams && this.componentParams.allowRedirect) {\n        this.getPubSub().publish(this.getPubSub().NAVIGATE, 'results-page');\n      }\n    },\n    // load a large query including RIQ/indices/Tori\n    showAll: function showAll() {\n      this.getIndicators();\n    },\n    reset: function reset() {\n      this.childViews = {}; // empty the container view\n\n      _.each(this.view.regions, function (v, k) {\n        if (this.view[k].currentView) this.view[k].currentView.destroy();\n      }, this);\n\n      this.containerModel.clear({\n        silent: true\n      });\n    },\n    createTableViews: function createTableViews(response, num_bibcodes) {\n      var tableData = num_bibcodes === 1 ? this.createTableDataForOnePaper(response) : this.createTableData(response);\n      this.childViews.papersTableView = new TableView({\n        template: PaperTableTemplate,\n        model: new TableModel(tableData.paperModelData)\n      });\n      this.childViews.readsTableView = new TableView({\n        template: ReadsTableTemplate,\n        model: new TableModel(tableData.readsModelData)\n      });\n      this.childViews.citationsTableView = new TableView({\n        model: new TableModel(tableData.citationsModelData),\n        template: CitationsTableTemplate\n      });\n      this.childViews.indicesTableView = new TableView({\n        model: new TableModel(tableData.indicesModelData),\n        template: IndicesTableTemplate\n      });\n    },\n\n    /*\n     * functions for >1 bibcode\n     * */\n    createTableData: function createTableData(response) {\n      var data = {};\n      var generalData = {\n        refereed: response['basic stats refereed'],\n        total: response['basic stats']\n      };\n      var citationData = {\n        refereed: response['citation stats refereed'],\n        total: response['citation stats']\n      };\n      var indicesData = {\n        refereed: response['indicators refereed'],\n        total: response.indicators\n      };\n      data.paperModelData = {\n        totalNumberOfPapers: [generalData.total['number of papers'], generalData.refereed['number of papers']],\n        totalNormalizedPaperCount: [generalData.total['normalized paper count'], generalData.refereed['normalized paper count']]\n      };\n      data.readsModelData = {\n        totalNumberOfReads: [generalData.total['total number of reads'], generalData.refereed['total number of reads']],\n        averageNumberOfReads: [generalData.total['average number of reads'], generalData.refereed['average number of reads']],\n        medianNumberOfReads: [generalData.total['median number of reads'], generalData.refereed['median number of reads']],\n        totalNumberOfDownloads: [generalData.total['total number of downloads'], generalData.refereed['total number of downloads']],\n        averageNumberOfDownloads: [generalData.total['average number of downloads'], generalData.refereed['average number of downloads']],\n        medianNumberOfDownloads: [generalData.total['median number of downloads'], generalData.total['median number of downloads']]\n      };\n      data.citationsModelData = {\n        numberOfCitingPapers: [citationData.total['number of citing papers'], citationData.refereed['number of citing papers']],\n        totalCitations: [citationData.total['total number of citations'], citationData.refereed['total number of citations']],\n        numberOfSelfCitations: [citationData.total['number of self-citations'], citationData.refereed['number of self-citations']],\n        averageCitations: [citationData.total['average number of citations'], citationData.refereed['average number of citations']],\n        medianCitations: [citationData.total['median number of citations'], citationData.refereed['median number of citations']],\n        normalizedCitations: [citationData.total['normalized number of citations'], citationData.refereed['normalized number of citations']],\n        refereedCitations: [citationData.total['total number of refereed citations'], citationData.refereed['total number of refereed citations']],\n        averageRefereedCitations: [citationData.total['average number of refereed citations'], citationData.refereed['average number of refereed citations']],\n        medianRefereedCitations: [citationData.total['median number of refereed citations'], citationData.refereed['median number of refereed citations']],\n        normalizedRefereedCitations: [citationData.total['normalized number of refereed citations'], citationData.refereed['normalized number of refereed citations']]\n      };\n      data.indicesModelData = {\n        hIndex: [indicesData.total.h, indicesData.refereed.h],\n        mIndex: [indicesData.total.m, indicesData.refereed.m],\n        gIndex: [indicesData.total.g, indicesData.refereed.g],\n        i10Index: [indicesData.total.i10, indicesData.refereed.i10],\n        i100Index: [indicesData.total.i100, indicesData.refereed.i100],\n        toriIndex: [indicesData.total.tori, indicesData.refereed.tori],\n        riqIndex: [indicesData.total.riq, indicesData.refereed.riq],\n        read10Index: [indicesData.total.read10, indicesData.refereed.read10]\n      }; // keep to 2 decimal places\n\n      _.each(data, function (table, k) {\n        _.each(table, function (arr, name) {\n          table[name] = [limitPlaces(arr[0]), limitPlaces(arr[1])];\n        });\n      });\n\n      return data;\n    },\n    createGraphViews: function createGraphViews(response) {\n      var hist = response.histograms; // papers graph\n\n      var papersModel = new GraphModel();\n      this.childViews.papersGraphView = new GraphView({\n        model: papersModel\n      });\n      this.childViews.papersGraphView.model.set('graphData', this.dataExtractor.plot_paperhist({\n        norm: false,\n        paperhist_data: hist.publications\n      }));\n      this.childViews.papersGraphView.model.set('normalizedGraphData', this.dataExtractor.plot_paperhist({\n        norm: true,\n        paperhist_data: hist.publications\n      })); // citations graph\n\n      var citationsModel = new GraphModel({\n        yAxisLabel: 'Citations'\n      });\n      this.childViews.citationsGraphView = new GraphView({\n        model: citationsModel\n      });\n      this.childViews.citationsGraphView.model.set('graphData', this.dataExtractor.plot_citshist({\n        norm: false,\n        citshist_data: hist.citations\n      }));\n      this.childViews.citationsGraphView.model.set('normalizedGraphData', this.dataExtractor.plot_citshist({\n        norm: true,\n        citshist_data: hist.citations\n      })); // reads graph\n\n      var readsModel = new GraphModel();\n      this.childViews.readsGraphView = new GraphView({\n        model: readsModel\n      });\n      this.childViews.readsGraphView.model.set('graphData', this.dataExtractor.plot_readshist({\n        norm: false,\n        readshist_data: hist.reads\n      }));\n      this.childViews.readsGraphView.model.set('normalizedGraphData', this.dataExtractor.plot_readshist({\n        norm: true,\n        readshist_data: hist.reads\n      })); // indices graph\n\n      var indicesModel = new GraphModel({\n        graphType: 'line'\n      });\n      this.childViews.indicesGraphView = new GraphView({\n        model: indicesModel\n      }); // might not be there (for 'simple' variant)\n\n      if (response['time series']) {\n        this.childViews.indicesGraphView.model.set('graphData', this.dataExtractor.plot_series({\n          series_data: response['time series']\n        }));\n      } else {\n        this.childViews.indicesGraphView.model.set({\n          showingSimple: true\n        });\n      }\n    },\n    insertViews: function insertViews(data) {\n      // render the container view\n      this.view.render(); // attach table and graph views\n\n      this.view.papersTable.show(this.childViews.papersTableView);\n\n      if (this.hasPapers(data)) {\n        this.view.papersGraph.show(this.childViews.papersGraphView);\n      }\n\n      this.view.citationsTable.show(this.childViews.citationsTableView);\n\n      if (this.hasCitations(data)) {\n        this.view.citationsGraph.show(this.childViews.citationsGraphView);\n      }\n\n      this.view.readsTable.show(this.childViews.readsTableView);\n\n      if (this.hasReads(data)) {\n        this.view.readsGraph.show(this.childViews.readsGraphView);\n      }\n\n      if (this.hasIndicesTable(data)) {\n        this.view.indicesTable.show(this.childViews.indicesTableView);\n      }\n\n      if (this.hasIndicesGraph(data)) {\n        this.view.indicesGraph.show(this.childViews.indicesGraphView);\n      }\n\n      this.view.showDownloadButtons(this.childViews);\n    },\n\n    /*\n     * functions for 1 bibcode\n     * */\n    insertViewsForOnePaper: function insertViewsForOnePaper(data) {\n      // render the container view\n      this.view.render({\n        title: this.containerModel.get('title')\n      });\n      this.view.$('#indices').hide();\n      this.view.$('#papers').hide();\n      this.view.$('.metrics-metadata').hide(); // attach table views\n\n      if (this.hasReads(data)) {\n        this.view.readsTable.show(this.childViews.readsTableView);\n        this.view.readsGraph.show(this.childViews.readsGraphView);\n      } else {\n        this.view.$(this.view.readsTable.el).html('No reads found for this article.');\n      }\n\n      if (this.hasCitations(data)) {\n        this.view.citationsTable.show(this.childViews.citationsTableView);\n        this.view.citationsGraph.show(this.childViews.citationsGraphView);\n      } else {\n        this.view.$(this.view.citationsTable.el).html('No citations found for this article.');\n      } // some table rows need to be hidden\n\n\n      this.view.$('.hidden-abstract-page').hide();\n      this.view.$('.download').removeClass('hidden');\n    },\n    createGraphViewsForOnePaper: function createGraphViewsForOnePaper(response) {\n      var hist = response.histograms; // citations graph\n\n      var citationsModel = new this.GraphModel();\n      this.childViews.citationsGraphView = new this.GraphView({\n        model: citationsModel\n      });\n      this.childViews.citationsGraphView.model.set('graphData', this.dataExtractor.plot_citshist({\n        norm: false,\n        citshist_data: hist.citations\n      }));\n      this.childViews.citationsGraphView.model.set('normalizedGraphData', this.dataExtractor.plot_citshist({\n        norm: true,\n        citshist_data: hist.citations\n      })); // reads graph\n\n      var readsModel = new this.GraphModel();\n      this.childViews.readsGraphView = new this.GraphView({\n        model: readsModel\n      });\n      this.childViews.readsGraphView.model.set('graphData', this.dataExtractor.plot_readshist({\n        norm: false,\n        readshist_data: hist.reads\n      }));\n      this.childViews.readsGraphView.model.set('normalizedGraphData', this.dataExtractor.plot_readshist({\n        norm: true,\n        readshist_data: hist.reads\n      }));\n    },\n    createTableDataForOnePaper: function createTableDataForOnePaper(response) {\n      var data = {};\n      var generalData = {\n        refereed: response['basic stats refereed'],\n        total: response['basic stats']\n      };\n      var citationData = {\n        refereed: response['citation stats refereed'],\n        total: response['citation stats']\n      };\n      data.readsModelData = {\n        totalNumberOfReads: [generalData.total['total number of reads'], generalData.refereed['total number of reads']],\n        averageNumberOfReads: [generalData.total['average number of reads'], generalData.refereed['average number of reads']],\n        medianNumberOfReads: [generalData.total['median number of reads'], generalData.refereed['median number of reads']],\n        totalNumberOfDownloads: [generalData.total['total number of downloads'], generalData.refereed['total number of downloads']],\n        averageNumberOfDownloads: [generalData.total['average number of downloads'], generalData.refereed['average number of downloads']],\n        medianNumberOfDownloads: [generalData.total['median number of downloads'], generalData.total['median number of downloads']]\n      };\n      data.citationsModelData = {\n        numberOfCitingPapers: [citationData.total['number of citing papers'], citationData.refereed['number of citing papers']],\n        totalCitations: [citationData.total['total number of citations'], citationData.refereed['total number of citations']],\n        numberOfSelfCitations: [citationData.total['number of self-citations'], citationData.refereed['number of self-citations']],\n        averageCitations: [citationData.total['average number of citations'], citationData.refereed['average number of citations']],\n        medianCitations: [citationData.total['median number of citations'], citationData.refereed['median number of citations']],\n        normalizedCitations: [citationData.total['normalized number of citations'], citationData.refereed['normalized number of citations']],\n        refereedCitations: [citationData.total['total number of refereed citations'], citationData.refereed['total number of refereed citations']],\n        averageRefereedCitations: [citationData.total['average number of refereed citations'], citationData.refereed['average number of refereed citations']],\n        medianRefereedCitations: [citationData.total['median number of refereed citations'], citationData.refereed['median number of refereed citations']],\n        normalizedRefereedCitations: [citationData.total['normalized number of refereed citations'], citationData.refereed['normalized number of refereed citations']]\n      }; // keep to 2 decimal places\n\n      _.each(data, function (table, k) {\n        _.each(table, function (arr, name) {\n          table[name] = [limitPlaces(arr[0]), limitPlaces(arr[1])];\n        });\n      });\n\n      return data;\n    },\n    hasPapers: function hasPapers(data) {\n      return data['basic stats']['number of papers'] > 0;\n    },\n    hasCitations: function hasCitations(data) {\n      return data['citation stats']['total number of citations'] > 0;\n    },\n    hasReads: function hasReads(data) {\n      return data['basic stats']['total number of reads'] > 0;\n    },\n    hasIndicesTable: function hasIndicesTable(data) {\n      return !!data.indicators && !!data['indicators refereed'];\n    },\n    hasIndicesGraph: function hasIndicesGraph(data) {\n      return !!data['time series'];\n    },\n\n    /*\n     * end functions for 1 paper\n     * */\n    renderWidgetForCurrentQuery: function renderWidgetForCurrentQuery(options) {\n      // { simple : true/false}\n      options = options || {};\n      this.reset(); // for printing\n\n      this.containerModel.set({\n        url: window.location.href,\n        loading: true\n      });\n      var q = this.getCurrentQuery() || options.currentQuery;\n      q = this.customizeQuery(q);\n      var that = this;\n      var allBibcodes = [];\n      var rows = 1000;\n      var start = 0;\n      var numFound = undefined;\n      var limit = ApiTargets._limits.Metrics.default;\n      q.set('rows', rows);\n\n      var sendRepeatingRequest = function (start) {\n        q.set({\n          start: start\n        });\n\n        this._executeSearch(q).done(function (request) {\n          allBibcodes = allBibcodes.concat(request.get('response.docs').map(function (o) {\n            return o.bibcode;\n          }));\n          numFound = numFound || request.get('response').numFound;\n          start += rows;\n\n          if (start >= numFound || start >= limit) {\n            // if more than 6000 records, automatically request the simple version\n            if (numFound > limit && options.simple === undefined) options.simple = true; // set numFound  + bibcodes into the view Model\n\n            that.containerModel.set({\n              numFound: numFound > limit ? limit : numFound,\n              bibcodes: allBibcodes\n            });\n            that.getMetrics(allBibcodes, options);\n          } else {\n            sendRepeatingRequest(start);\n          }\n        });\n      }.bind(this);\n\n      sendRepeatingRequest(start);\n    },\n\n    /**\n     * requires a current apiQuery\n     */\n    checkIfSimpleRequired: function checkIfSimpleRequired() {\n      // bibcodes are being provided rather than query, don't show the simple version\n      if (!this._currentQuery) return new $.Deferred().resolve(false);\n\n      var query = this._currentQuery.clone();\n\n      query.unlock();\n      query.set({\n        stats: 'true',\n        'stats.field': 'citation_count',\n        fl: 'id'\n      });\n      return this._executeSearch(query).then(function (apiResponse) {\n        var citationCount = apiResponse.get('stats.stats_fields.citation_count.sum');\n        return citationCount > 50000;\n      });\n    },\n    // just get indicators\n    getIndicators: function getIndicators() {\n      var pubsub = this.getPubSub();\n      var options = {\n        type: 'POST',\n        contentType: 'application/json'\n      };\n      var query = new ApiQuery({\n        bibcodes: this.containerModel.get('bibcodes'),\n        types: ['indicators', 'timeseries']\n      });\n      var request = new ApiRequest({\n        target: ApiTargets.SERVICE_METRICS,\n        query: query,\n        options: options\n      });\n\n      function onResponse(jsonResponse) {\n        var response = jsonResponse.toJSON();\n        this.childViews.indicesGraphView.model.set({\n          graphData: this.dataExtractor.plot_series({\n            series_data: response['time series']\n          }),\n          showingSimple: false\n        });\n        var indicesData = {\n          refereed: response['indicators refereed'],\n          total: response.indicators\n        };\n        var indicesModelData = {\n          hIndex: [indicesData.total.h, indicesData.refereed.h],\n          mIndex: [indicesData.total.m, indicesData.refereed.m],\n          gIndex: [indicesData.total.g, indicesData.refereed.g],\n          i10Index: [indicesData.total.i10, indicesData.refereed.i10],\n          i100Index: [indicesData.total.i100, indicesData.refereed.i100],\n          toriIndex: [indicesData.total.tori, indicesData.refereed.tori],\n          riqIndex: [indicesData.total.riq, indicesData.refereed.riq],\n          read10Index: [indicesData.total.read10, indicesData.refereed.read10]\n        }; // keep to 2 decimal places\n\n        _.each(indicesModelData, function (arr, name) {\n          indicesModelData[name] = [limitPlaces(arr[0]), limitPlaces(arr[1])];\n        });\n\n        this.childViews.indicesTableView.model.set(indicesModelData);\n        this.childViews.indicesTableView.render();\n        this.childViews.indicesGraphView.render();\n        this.view.$('.download-indices').removeClass('hidden');\n      }\n\n      onResponse = onResponse.bind(this);\n      pubsub.subscribeOnce(pubsub.DELIVERING_RESPONSE, onResponse);\n      pubsub.publish(pubsub.EXECUTE_REQUEST, request);\n    },\n    getMetrics: function getMetrics(bibcodes, options) {\n      options = options || {};\n      /*\n      this function returns a promise\n      at the moment the promise is only used by\n      the abstract page metrics widget that shows metrics\n      for 1 paper\n      */\n\n      var d = $.Deferred();\n\n      function _getMetrics(simple) {\n        var pubsub = this.getPubSub();\n        var options = {\n          type: 'POST',\n          contentType: 'application/json'\n        };\n        var query = new ApiQuery({\n          bibcodes: bibcodes\n        });\n\n        if (simple) {\n          query.set({\n            types: ['simple']\n          });\n        }\n\n        var request = new ApiRequest({\n          target: ApiTargets.SERVICE_METRICS,\n          query: query,\n          options: options\n        });\n\n        function onResponse() {\n          // the promise is used by paper metrics widget\n          try {\n            this.processMetrics.apply(this, arguments);\n            d.resolve();\n          } catch (e) {\n            d.reject();\n          }\n        }\n\n        onResponse = onResponse.bind(this);\n        pubsub.subscribeOnce(pubsub.DELIVERING_RESPONSE, onResponse);\n        pubsub.publish(pubsub.EXECUTE_REQUEST, request);\n      }\n\n      _getMetrics = _getMetrics.bind(this);\n\n      if (options.simple !== undefined) {\n        _getMetrics(options.simple);\n      } else {\n        this.checkIfSimpleRequired().done(_getMetrics);\n      }\n\n      return d.promise();\n    },\n    processMetrics: function processMetrics(response) {\n      this.containerModel.set('loading', false); // how is the json response formed? need to figure out why attributes is there\n\n      response = response.attributes ? response.attributes : response; // the response might contain an error\n\n      if (response.Error || response.status === 500) {\n        this.closeWidget();\n        throw new Error('Metrics Service Error');\n      }\n\n      if (response['basic stats']['number of papers'] === 1) {\n        this.createTableViews(response, 1);\n        this.createGraphViewsForOnePaper(response);\n        this.insertViewsForOnePaper(response);\n      } else {\n        this.createTableViews(response);\n        this.createGraphViews(response);\n        this.insertViews(response);\n      }\n    },\n    _executeSearch: function _executeSearch(apiQuery) {\n      var pubsub = this.getPubSub();\n      var req = new ApiRequest({\n        target: ApiTargets.SEARCH,\n        query: apiQuery\n      });\n      var defer = $.Deferred();\n      pubsub.subscribeOnce(pubsub.DELIVERING_RESPONSE, _.bind(function (data) {\n        defer.resolve(data);\n      }), this);\n      pubsub.publish(pubsub.EXECUTE_REQUEST, req);\n      return defer;\n    },\n    renderWidgetForListOfBibcodes: function renderWidgetForListOfBibcodes(bibcodes) {\n      this.reset(); // let container view know how many bibcodes we have\n\n      this.containerModel.set({\n        numFound: bibcodes.length,\n        loading: true\n      });\n      /*\n       for now, library metrics always show everything (simple = false).\n       If this changed in the future, the checkIfSimpleRequired function would need to\n       be refactored to create a bigquery, then send the qid to execute_query\n       */\n\n      this.getMetrics(bibcodes, {\n        simple: false\n      });\n    }\n  });\n\n  _.extend(MetricsWidget.prototype, Dependon.BeeHive);\n\n  return MetricsWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/metrics/widget.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd define */
/******/ 	!function() {
/******/ 		__webpack_require__.amdD = function () {
/******/ 			throw new Error('define cannot be used indirect');
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/amd options */
/******/ 	!function() {
/******/ 		__webpack_require__.amdO = {};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	!function() {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = function(result, chunkIds, fn, priority) {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.nmd = function(module) {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"Metrics": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkbumblebee"] = self["webpackChunkbumblebee"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	!function() {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/js/widgets/metrics/widget.js"); })
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;