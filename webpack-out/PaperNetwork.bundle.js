/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/components/api_feedback.js":
/*!*******************************************!*\
  !*** ./src/js/components/api_feedback.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/mixins/hardened */ \"./src/js/mixins/hardened.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, Hardened) {\n  var ApiFeedback = function ApiFeedback(options) {\n    _.extend(this, _.defaults(options || {}, {\n      code: 200,\n      msg: undefined\n    }));\n\n    this.setCode(this.code);\n  };\n\n  ApiFeedback.CODES = {\n    INVALID_PASSWORD: 498,\n    ACCOUNT_NOT_FOUND: 495,\n    // Account not found during signin\n    ALREADY_LOGGED_IN: 493,\n    // Already signed during signup\n    REQUIRES_LOGIN: 491,\n    TOO_MANY_CHARACTERS: 486,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    INTERNAL_SERVER_ERROR: 500,\n    BAD_GATEWAY: 502,\n    SERVER_ERROR: 503,\n    TOO_MANY_FAILURES: 580,\n    ALL_FINE: 200,\n    KEEP_WAITING: 190,\n    TESTING: 0,\n    // Internal events\n    MAKE_SPACE: -1,\n    UNMAKE_SPACE: -1.1,\n    SEARCH_CYCLE_STARTED: -2,\n    SEARCH_CYCLE_FAILED_TO_START: -3,\n    SEARCH_CYCLE_PROGRESS: -4,\n    SEARCH_CYCLE_STOP_MONITORING: -5,\n    SEARCH_CYCLE_FINISHED: -6,\n    QUERY_ASSISTANT: -7,\n    ALERT: -8,\n    CANNOT_ROUTE: -9,\n    API_REQUEST_ERROR: -10,\n    BIBCODE_DATA_REQUESTED: -11\n  };\n  var _codes = {};\n\n  _.each(_.pairs(ApiFeedback.CODES), function (p) {\n    _codes[p[1]] = p[0];\n  });\n\n  _.extend(ApiFeedback.prototype, {\n    hardenedInterface: {\n      code: 'integer value of the code',\n      msg: 'string message',\n      toJSON: 'for cloning',\n      getApiRequest: 'to get the original request',\n      getSenderKey: 'retrieve the senders key'\n    },\n    initialize: function initialize() {},\n    toJSON: function toJSON() {\n      return {\n        code: this.code,\n        msg: this.msg\n      };\n    },\n    setCode: function setCode(c) {\n      if (!_codes[c]) {\n        throw new Error('This code is not in the list ApiCodes - please extend js/components/api_feedback first:', this.code);\n      }\n\n      this.code = c;\n    },\n    setApiRequest: function setApiRequest(apiRequest) {\n      this.req = apiRequest;\n    },\n    getApiRequest: function getApiRequest() {\n      return this.req;\n    },\n    setMsg: function setMsg(msg) {\n      this.msg = msg;\n    },\n    getSenderKey: function getSenderKey() {\n      return this.senderKey;\n    },\n    setSenderKey: function setSenderKey(key) {\n      this.senderKey = key;\n    }\n  }, Hardened);\n\n  ApiFeedback.extend = Backbone.Model.extend;\n  return ApiFeedback;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_feedback.js?");

/***/ }),

/***/ "./src/js/components/api_query.js":
/*!****************************************!*\
  !*** ./src/js/components/api_query.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n A facade: api query exposing only the set of functions that we allow. This is\n the module that you want to load in the application (do not load the concrete\n implementaions, such as solr_params !)\n\n Put in your config:\n map: {\n 'your/module': {\n 'api_query_impl': 'js/components/specific_impl_of_the_api_query'\n }\n },\n\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/solr_params */ \"./src/js/components/solr_params.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, ApiQueryImplementation, Facade) {\n  var hardenedInterface = {\n    add: 'add values',\n    set: 'set (replace existing)',\n    get: 'get values',\n    has: 'has a key',\n    hasVal: 'more specific `has` using _.isEmpty',\n    url: 'url string of the params',\n    load: 'loads query as a string',\n    clear: 'clears all values',\n    unset: 'removes a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    pairs: 'get all values as pairs',\n    keys: 'as keys',\n    values: 'only values',\n    hasChanged: 'whether this object has modification (since its creation)',\n    previousAttributes: 'get all changed attributes',\n    previous: 'previous values for a given attribute'\n  };\n\n  var ApiQuery = function ApiQuery(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiQueryImplementation) {\n      this.innerQuery = new Facade(hardenedInterface, data);\n    } else {\n      this.innerQuery = new Facade(hardenedInterface, new ApiQueryImplementation(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerQuery[element].apply(this.innerQuery, arguments);\n    };\n  });\n\n  _.extend(ApiQuery.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerQuery.clone.apply(this.innerQuery, arguments);\n      return new ApiQuery(clone);\n    },\n    load: function load() {\n      var clone = this.innerQuery.load.apply(this.innerQuery, arguments);\n      return new ApiQuery(clone);\n    }\n  });\n\n  return ApiQuery;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_query.js?");

/***/ }),

/***/ "./src/js/components/api_query_updater.js":
/*!************************************************!*\
  !*** ./src/js/components/api_query_updater.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 5/24/14.\n *\n * Set of utilities for manipulating ApiQuery object. These are mainly\n * useful for widgets that often do the same operations with the\n * query.\n *\n * The object must be initialized with an 'identifier' -- this identifier\n * will represent a context; so we'll be touching all elements that\n * belong to the context\n *\n * TODO: need to distinguish globalOperator from 'operator' inside clauses\n * TODO: the 'globalOperator' joins clauses; 'operator' joins elements of the\n * TODO: clauses\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, ApiQuery) {\n  var ApiQueryUpdater = function ApiQueryUpdater(contextIdentifier, options) {\n    if (!contextIdentifier || !_.isString(contextIdentifier)) {\n      throw new Error('You must initialize the ApiQueryUpdater with a context (which is a string)');\n    }\n\n    this.context = contextIdentifier;\n    this.defaultOperator = ' ';\n    this.operators = [' ', 'AND', 'OR', 'NOT', 'NEAR'];\n    this.defaultMode = 'limit';\n    this.operationModes = ['limit', 'exclude', 'expand', 'replace', 'remove'];\n    this.impossibleString = \"\\uFFFC\\uFFFC\\uFFFC\";\n\n    _.extend(this, options);\n  };\n\n  _.extend(ApiQueryUpdater.prototype, {\n    /**\n     * Modifies the query - it will search for a string inside the query (using previously\n     * saved state) and update the query 'parameter'\n     *\n     * @param field\n     *      this is the name of the parameter we are changing inside apiQeury\n     * @param apiQuery\n     *      the apiQuery object we are updating\n     * @param queryCondition\n     *      String|[String] - new conditions to set\n     * @param operator\n     *      String: this will serve as concatenator for the conditions\n     */\n    updateQuery: function updateQuery(apiQuery, field, mode, queryCondition, options) {\n      options = _.defaults({}, options, {\n        prefix: '__'\n      });\n\n      if (!field || !_.isString(field)) {\n        throw new Error('You must tell us what parameter to update in the ApiQuery');\n      } // globalOperator = this._sanitizeOperator(globalOperator);\n      // local name\n\n\n      var n = this._n(field, options.prefix); // create copy of the field\n\n\n      var q = _.clone(apiQuery.get(field));\n\n      var oldConditionAsString;\n      var newConditionAsString;\n      var newConditions;\n      var existingConditions; // first check if we have any existing conditions\n\n      existingConditions = this._getExistingVals(apiQuery, n);\n      queryCondition = this._sanitizeConditionAsArray(queryCondition);\n      mode = this._sanitizeMode(mode);\n      var operator;\n\n      if (mode == 'limit') {\n        operator = 'AND';\n      } else if (mode == 'exclude') {\n        operator = 'NOT';\n      } else if (mode == 'expand') {\n        operator = 'OR';\n      } else if (mode == 'replace') {\n        this._closeExistingVals(apiQuery, this._n(field, options.prefix));\n\n        apiQuery.set(this._n(field, options.prefix), ['AND', queryCondition[0]]);\n        return apiQuery.set(field, queryCondition[0]);\n      } else if (mode == 'remove') {\n        operator = existingConditions[0];\n      } else {\n        throw new Error('Unsupported mode/operator:', mode);\n      }\n\n      if (!apiQuery.has(field)) {\n        var conditions = [operator].concat(queryCondition);\n        apiQuery.set(field, this._buildQueryFromConditions(conditions));\n        apiQuery.set(this._n(field, options.prefix), conditions);\n        return;\n      }\n\n      if (existingConditions) {\n        // if the operators differ, it means we cannot safely update the query\n        // we must treat it as a new query\n        if (existingConditions[0] !== operator) {\n          this._closeExistingVals(apiQuery, n);\n\n          return this.updateQuery(apiQuery, field, mode, queryCondition);\n        }\n\n        oldConditionAsString = this._buildQueryFromConditions(existingConditions);\n      } else {\n        existingConditions = [operator]; // first value is always operator\n\n        if (q.length == 1) {\n          // we got a string, but that string could be a whole phrase\n          if (q[0].indexOf(' ') == -1) {\n            // simple string\n            oldConditionAsString = q[0];\n            existingConditions.push(q[0]);\n          } else {\n            oldConditionAsString = q[0];\n            var sillyTest = q[0].toLowerCase();\n\n            if (sillyTest.indexOf(' and ') > -1 || sillyTest.indexOf(' or ') > -1 || sillyTest.indexOf(' not ') > -1 || sillyTest.indexOf(' near') > -1 || sillyTest.indexOf('(') > 2) {\n              existingConditions.push('(' + q[0] + ')'); // enclose the expression in brackets, just to be safe\n            } else {\n              existingConditions.push(q[0]);\n            }\n          }\n        } else {\n          oldConditionAsString = this.impossibleString;\n        }\n      } // 'limit' means that the broader query will become 'narrower'\n      // by gaining more AND'ed 'conditions'\n      // 'expand' means that the query is becoming broader by gaining\n      // more conditions (these are OR'ed)\n\n\n      if (mode == 'limit' || mode == 'expand') {\n        // join the old and the new conditoins (remove the duplicates)\n        // we are basically trying to update the existing query\n        // by adding more conditions into the same clause\n        newConditions = _.union(existingConditions, queryCondition);\n        newConditionAsString = this._buildQueryFromConditions(newConditions);\n\n        var testq = _.clone(q); // try to find the pre-condition and replace it with a new value\n\n\n        if (this._modifyArrayReplaceString(testq, oldConditionAsString, newConditionAsString)) {\n          apiQuery.set(field, testq); // success\n          // save the values inside the query (so that we can use them if we are called next time)\n\n          apiQuery.set(n, newConditions);\n          return;\n        }\n      } // 'exclude' means that we are ADDING more conditions to the query; the query\n      // was broader; not it will explicitly 'exclude' some documents; again - there\n      // can also be 'exclude' conditions; so if possible, we'll enlarge their number\n\n\n      if (mode == 'exclude') {\n        var modifiedExisting = _.clone(existingConditions);\n\n        modifiedExisting[0] = 'OR';\n        oldConditionAsString = ' NOT ' + this._buildQueryFromConditions(modifiedExisting);\n        newConditions = _.union(existingConditions, queryCondition);\n\n        var modifiedConditions = _.clone(newConditions);\n\n        modifiedConditions[0] = 'OR';\n        newConditionAsString = ' NOT ' + this._buildQueryFromConditions(modifiedConditions);\n\n        var testq = _.clone(q); // try to find the pre-condition and replace it with a new value\n\n\n        if (this._modifyArrayReplaceString(testq, oldConditionAsString, newConditionAsString)) {\n          apiQuery.set(field, testq); // success\n          // save the values inside the query (so that we can use them if we are called next time)\n\n          apiQuery.set(n, newConditions);\n          return;\n        }\n      } else if (mode == 'remove') {\n        newConditions = _.difference(existingConditions, queryCondition);\n        newConditionAsString = this._buildQueryFromConditions(newConditions); // we'll be deleting\n\n        var testq = _.clone(q); // try to find the pre-condition and replace it with a new value\n\n\n        if (this._modifyArrayReplaceString(testq, oldConditionAsString, newConditionAsString)) {\n          apiQuery.set(field, testq); // success\n          // save the values inside the query (so that we can use them if we are called next time)\n\n          apiQuery.set(n, newConditions);\n          return;\n        }\n      } // we didn't find an old query that could be updated, so this means that we have\n      // to add a new logical condition to the existing query string.\n\n\n      if (mode == 'limit') {\n        newConditions = this._modifyArrayAddString(q, queryCondition, 'AND');\n      } else if (mode == 'exclude') {\n        newConditions = this._modifyArrayAddString(q, queryCondition, 'NOT');\n      } else if (mode == 'expand') {\n        newConditions = this._modifyArrayAddString(q, queryCondition, 'OR');\n      }\n\n      apiQuery.set(n, newConditions);\n      apiQuery.set(field, q);\n    },\n\n    /**\n     * Tells whether the string needs escaping (it ignores empty space)\n     *\n     * @param value\n     */\n    needsEscape: function needsEscape(s) {\n      var sb = [];\n      var c;\n\n      for (var i = 0; i < s.length; i++) {\n        c = s[i]; // These characters are part of the query syntax and must be escaped\n\n        if (c == '\\\\' || c == '+' || c == '-' || c == '!' || c == '(' || c == ')' || c == ':' || c == '^' || c == '[' || c == ']' || c == '\"' || c == '{' || c == '}' || c == '~' || c == '*' || c == '?' || c == '|' || c == '&' || c == '/') {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Escapes special characters (but not whitespace)\n     *\n     * @param value\n     */\n    escape: function escape(s) {\n      var sb = [];\n      var c;\n\n      for (var i = 0; i < s.length; i++) {\n        c = s[i]; // These characters are part of the query syntax and must be escaped\n\n        if (c == '\\\\' || c == '+' || c == '-' || c == '!' || c == '(' || c == ')' || c == ':' || c == '^' || c == '[' || c == ']' || c == '\"' || c == '{' || c == '}' || c == '~' || c == '*' || c == '?' || c == '|' || c == '&' || c == '/') {\n          sb.push('\\\\');\n        }\n\n        sb.push(c);\n      }\n\n      return sb.join('');\n    },\n    escapeInclWhitespace: function escapeInclWhitespace(s) {\n      var sb = [];\n      var c;\n\n      for (var i = 0; i < s.length; i++) {\n        c = s[i]; // These characters are part of the query syntax and must be escaped\n\n        if (c == '\\\\' || c == '+' || c == '-' || c == '!' || c == '(' || c == ')' || c == ':' || c == '^' || c == '[' || c == ']' || c == '\"' || c == '{' || c == '}' || c == '~' || c == '*' || c == '?' || c == '|' || c == '&' || c == '/' || c == ' ' || c == '\\t') {\n          sb.push('\\\\');\n        }\n\n        sb.push(c);\n      }\n\n      return sb.join('');\n    },\n\n    /**\n     * Wraps string between quotes - and escapes any quotes if present\n     * @param s\n     * @returns {string}\n     */\n    quoteIfNecessary: function quoteIfNecessary(s, quoteChar, quoteCharEnd) {\n      return this.quote(s, quoteChar, quoteCharEnd, true);\n    },\n\n    /**\n     * Wraps string between quotes - and escapes any quotes if present\n     * @param s\n     * @returns {string}\n     */\n    quote: function quote(s, quoteChar, quoteCharEnd, onlyIfNecessary) {\n      if (!quoteChar) quoteChar = '\"';\n      if (!quoteCharEnd) quoteCharEnd = quoteChar;\n      if (_.isUndefined(onlyIfNecessary)) onlyIfNecessary = false;\n      var sb = [];\n      var c;\n      var needsQuotes = false;\n\n      for (var i = 0; i < s.length; i++) {\n        c = s[i];\n\n        if (c == '\\\\' || c == '+' || c == '-' || c == '!' || c == '(' || c == ')' || c == ':' || c == '^' || c == '[' || c == ']' || c == '\"' || c == '{' || c == '}' || c == '~' || // || c == '*' || c == '?'\n        c == '|' || c == '&' || c == '/' || c == ' ' || c == '\\t') {\n          needsQuotes = true;\n        }\n\n        if ((c == quoteChar || c == quoteCharEnd) && (i == 0 || i > 0 && s[i - 1] !== '\\\\')) {\n          sb.push('\\\\');\n        }\n\n        sb.push(c);\n      } // detect presence of quotes in the original string\n\n\n      if (onlyIfNecessary == true && sb[0] == '\\\\' && sb[1] == '\"' && sb[sb.length - 2] == '\\\\' && sb[sb.length - 1] == '\"') {\n        sb[0] = '';\n        sb[sb.length - 2] = '';\n        return sb.join('');\n      }\n\n      if (needsQuotes || onlyIfNecessary == false) {\n        return quoteChar + sb.join('') + quoteCharEnd;\n      }\n\n      return sb.join('');\n    },\n\n    /**\n     * Attaches to the ApiQuery object a storage of tmp values; these are\n     * not affecting anything inside the query; but the query is carrying them\n     * around as long as it was not cloned() etc\n     *\n     * @param key\n     * @param value\n     */\n    saveTmpEntry: function saveTmpEntry(apiQuery, key, value) {\n      var storage = this._getTmpStorage(apiQuery, true);\n\n      var oldVal;\n\n      if (key in storage) {\n        oldVal = storage[key];\n      }\n\n      storage[key] = value;\n      return oldVal;\n    },\n    removeTmpEntry: function removeTmpEntry(apiQuery, key) {\n      var storage = this._getTmpStorage(apiQuery, true);\n\n      var val = storage[key];\n      delete storage[key];\n      return val;\n    },\n    getTmpEntry: function getTmpEntry(apiQuery, key, defaultValue) {\n      var storage;\n\n      if (defaultValue) {\n        storage = this._getTmpStorage(apiQuery, true);\n      } else {\n        storage = this._getTmpStorage(apiQuery, false);\n      }\n\n      if (key in storage) {\n        return storage[key];\n      }\n\n      storage[key] = defaultValue;\n      return defaultValue;\n    },\n    hasTmpEntry: function hasTmpEntry(apiQuery, key) {\n      var storage = this._getTmpStorage(apiQuery);\n\n      return key in storage;\n    },\n    _getTmpStorage: function _getTmpStorage(apiQuery, createIfNotExists) {\n      var n = this._n('__tmpStorage');\n\n      if (!apiQuery.hasOwnProperty(n)) {\n        if (!createIfNotExists) return {};\n        apiQuery[n] = {};\n      }\n\n      return apiQuery[n];\n    },\n    _n: function _n(name, prefix) {\n      return (_.isString(prefix) ? prefix : '__') + this.context + '_' + name;\n    },\n    _buildQueryFromConditions: function _buildQueryFromConditions(conditions) {\n      if (conditions.length <= 1) {\n        throw new Error('Violation of contract: first condition is always an operator');\n      }\n\n      var op = conditions[0];\n\n      if (op != ' ') {\n        op = ' ' + op + ' ';\n      }\n\n      return '(' + conditions.slice(1).join(op) + ')';\n    },\n\n    /**\n     * Searches for values inside the array and replaces sections\n     * Returns number of modifications made\n     *\n     * @param arr\n     * @param search\n     * @param replace\n     * @param maxNumMod\n     *    maximum number of modifications to make; you can choose to\n     *    replace only the first value found\n     * @returns {integer}\n     * @private\n     */\n    _modifyArrayReplaceString: function _modifyArrayReplaceString(arr, search, replace, maxNumMod) {\n      var numMod = 0;\n      if (!maxNumMod) maxNumMod = -1;\n\n      if (!search) {\n        throw new Error('Your search is empty, you fool');\n      }\n\n      var modified = false;\n\n      _.each(arr, function (text, i) {\n        if (maxNumMod > 0 && numMod > maxNumMod) {\n          return;\n        }\n\n        if (text.indexOf(search) > -1) {\n          arr[i] = text.replace(search, replace);\n          numMod += 1;\n        }\n      });\n\n      return numMod;\n    },\n\n    /**\n     * Adds the new value into the array\n     * @param arr\n     * @param conditions\n     * @private\n     */\n    _modifyArrayAddString: function _modifyArrayAddString(arr, conditions, operator) {\n      // will always add to the latest string\n      if ((arr.length == 0 || arr[arr.length - 1].trim() == '') && (operator == 'NOT' || operator == 'NEAR')) {\n        throw new Error('Invalid operation; cannot apply NOT/NEAR on single clause');\n      }\n\n      var newQ = arr[arr.length - 1];\n      var newConditions = [operator, newQ].concat(conditions);\n      arr[arr.length - 1] = this._buildQueryFromConditions(newConditions);\n      return newConditions;\n    },\n\n    /**\n     * Gets the valus of the condition\n     * @param apiQuery\n     * @param key\n     *    the conditon 'name', typically st like __condition_author_q; it differs based on the\n     *    operation (type of update/widget/filter etc)\n     * @param defaults\n     *    what to return if 'key' is not present\n     * @returns {*}\n     * @private\n     */\n    _getExistingVals: function _getExistingVals(apiQuery, key, defaults) {\n      if (apiQuery.has(key)) {\n        return apiQuery.get(key);\n      }\n\n      return defaults;\n    },\n\n    /**\n     * When we have conditions for the previous context; but their operator is\n     * different, it means that the new conditions represent a new clause. So\n     * we need to do something with the old conditions (we could stack them\n     * but for now, the simple/robust solution is to simply remove them ->\n     * this means they will not be available for updates/manipulation -->\n     * theh query will be extended)\n     *\n     * @param condName\n     * @private\n     */\n    _closeExistingVals: function _closeExistingVals(apiQuery, condName) {\n      apiQuery.unset(condName);\n    },\n    _sanitizeMode: function _sanitizeMode(mode) {\n      if (!mode) {\n        return this.defaultMode;\n      }\n\n      var i = _.indexOf(this.operationModes, mode);\n\n      if (i == -1) {\n        throw new Error('Unkwnown mode: ' + mode);\n      }\n\n      return this.operationModes[i];\n    },\n    _sanitizeOperator: function _sanitizeOperator(operator) {\n      if (!operator) {\n        return this.defaultOperator;\n      }\n\n      if (_.isString(operator)) {\n        if (operator.trim() == '') {\n          return this.defaultOperator;\n        }\n      } else {\n        throw new Error('Operator must be a string');\n      }\n\n      operator = operator.toUpperCase();\n\n      var i = _.indexOf(this.operators, operator);\n\n      if (i == -1) {\n        throw new Error('Unknown operator: ', operator);\n      }\n\n      return this.operators[i];\n    },\n    _sanitizeConditionAsArray: function _sanitizeConditionAsArray(condition) {\n      if (!condition) {\n        throw new Error('The condition must be set (string/array of strings)');\n      }\n\n      if (_.isString(condition)) {\n        return [condition];\n      }\n\n      condition = _.without(_.flatten(condition), '', false, null, undefined, NaN);\n\n      if (condition.length == 0) {\n        throw new Error('After removing empty values, no condition was left');\n      }\n\n      return condition;\n    },\n\n    /**\n     * Cleans up the *clone* of the apiQuery by removing all the entries\n     * that are inserted into ApiQuery by the query updater.\n     *\n     * @param apiQuery\n     */\n    clean: function clean(apiQuery) {\n      var q = {};\n\n      if (apiQuery && apiQuery.keys) {\n        _.each(apiQuery.keys(), function (key) {\n          if (!(key.substring(0, 2) == '__')) {\n            q[key] = apiQuery.get(key);\n          }\n        });\n      }\n\n      return new ApiQuery(q);\n    }\n  });\n\n  return ApiQueryUpdater;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_query_updater.js?");

/***/ }),

/***/ "./src/js/components/api_request.js":
/*!******************************************!*\
  !*** ./src/js/components/api_request.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/28/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\"), __webpack_require__(/*! js/components/default_request */ \"./src/js/components/default_request.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, Facade, ApiRequestImpl) {\n  var hardenedInterface = {\n    // add makes no sense with request\n    get: 'get a key',\n    set: 'set (replace existing)',\n    url: 'url string defining this request',\n    has: 'has a key',\n    load: 'loads request as a string',\n    clear: 'clears all values',\n    unset: 'removes a key',\n    toJSON: 'values back as JSON object',\n    clone: 'make a copy',\n    isLocked: true,\n    lock: true,\n    unlock: true,\n    pairs: 'get all values as pairs',\n    keys: 'as keys',\n    values: 'only values',\n    hasChanged: 'whether this object has modification (since its creation)',\n    previousAttributes: 'get all changed attributes',\n    previous: 'previous values for a given attribute'\n  };\n\n  var ApiRequest = function ApiRequest(data, options) {\n    // Facade pattern, we want to expose only limited API\n    // despite the fact that the underlying instance has\n    // all power of the Backbone.Model\n    if (data instanceof ApiRequestImpl) {\n      this.innerRequest = new Facade(hardenedInterface, data);\n    } else {\n      this.innerRequest = new Facade(hardenedInterface, new ApiRequestImpl(data, options));\n    }\n  };\n\n  var toInsert = {};\n\n  _.each(_.keys(hardenedInterface), function (element, index, list) {\n    toInsert[element] = function () {\n      return this.innerRequest[element].apply(this.innerRequest, arguments);\n    };\n  });\n\n  _.extend(ApiRequest.prototype, toInsert, {\n    clone: function clone() {\n      var clone = this.innerRequest.clone.apply(this.innerRequest, arguments);\n      return new ApiRequest(clone);\n    },\n    load: function load() {\n      var clone = this.innerRequest.load.apply(this.innerRequest, arguments);\n      return new ApiRequest(clone);\n    }\n  });\n\n  return ApiRequest;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_request.js?");

/***/ }),

/***/ "./src/js/components/api_targets.js":
/*!******************************************!*\
  !*** ./src/js/components/api_targets.js ***!
  \******************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 1/20/15\n *\n * contains api targets\n * and any related limits\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var config = {\n    BOOTSTRAP: '/accounts/bootstrap',\n    SEARCH: 'search/query',\n    QTREE: 'search/qtree',\n    BIGQUERY: 'search/bigquery',\n    EXPORT: 'export/',\n    SERVICE_AUTHOR_NETWORK: 'vis/author-network',\n    SERVICE_PAPER_NETWORK: 'vis/paper-network',\n    SERVICE_WORDCLOUD: 'vis/word-cloud',\n    SERVICE_METRICS: 'metrics',\n    SERVICE_OBJECTS: 'objects',\n    SERVICE_OBJECTS_QUERY: 'objects/query',\n    SERVICE_CITATION_HELPER: 'citation_helper',\n    SERVICE_AUTHOR_AFFILIATION_EXPORT: 'authoraff',\n    MYADS_STORAGE: 'vault',\n    MYADS_NOTIFICATIONS: 'vault/_notifications',\n    AUTHOR_AFFILIATION_SEARCH: 'author-affiliation/search',\n    AUTHOR_AFFILIATION_EXPORT: 'author-affiliation/export',\n    RESOLVER: 'resolver',\n    CSRF: 'accounts/csrf',\n    USER: 'accounts/user',\n    USER_DATA: 'vault/user-data',\n    SITE_CONFIGURATION: 'vault/configuration',\n    TOKEN: 'accounts/user/token',\n    LOGIN: 'accounts/user/login',\n    LOGOUT: 'accounts/user/logout',\n    VERIFY: 'accounts/verify',\n    RESEND_VERIFY: \"accounts/user/{email}/verify\",\n    RESET_PASSWORD: 'accounts/user/reset-password',\n    CHANGE_PASSWORD: 'accounts/user/change-password',\n    CHANGE_EMAIL: 'accounts/user/change-email',\n    INFO: 'accounts/info',\n    PROTECTED: 'accounts/protected',\n    STATUS: 'accounts/status',\n    RECOMMENDER: 'recommender',\n    GRAPHICS: 'graphics',\n    FEEDBACK: 'feedback',\n    // library import from classic\n    LIBRARY_IMPORT_CLASSIC_AUTH: 'harbour/auth/classic',\n    LIBRARY_IMPORT_CLASSIC_MIRRORS: 'harbour/mirrors',\n    LIBRARY_IMPORT_CLASSIC_TO_BBB: 'biblib/classic',\n    // library import from 2.0\n    LIBRARY_IMPORT_ADS2_AUTH: 'harbour/auth/twopointoh',\n    LIBRARY_IMPORT_ADS2_TO_BBB: 'biblib/twopointoh',\n    LIBRARY_IMPORT_ZOTERO: 'harbour/export/twopointoh/zotero',\n    LIBRARY_IMPORT_MENDELEY: 'harbour/export/twopointoh/mendeley',\n    // returns credentials from both classic and 2.0 if they exist\n    LIBRARY_IMPORT_CREDENTIALS: 'harbour/user',\n    // store ADS information connected with ORCID here\n    ORCID_PREFERENCES: 'orcid/preferences',\n    ORCID_NAME: 'orcid/orcid-name',\n    // library endpoints\n    // can get info about all libraries, or list of bibcodes associated w/specific lib (libraries/id)\n    // post to /libraries/ to create a library\n    LIBRARIES: 'biblib/libraries',\n    LIBRARY_TRANSFER: 'biblib/transfer',\n    // can post, put, and delete changes to individual libs using this endpoint\n    DOCUMENTS: 'biblib/documents',\n    PERMISSIONS: 'biblib/permissions',\n    REFERENCE: 'reference/text',\n\n    /*\n     * this is used by the mixin 'user_change_rows' to set max allowed/default requested\n     */\n    _limits: {\n      // use the same name from discovery.config.js\n      ExportWidget: {\n        default: 500,\n        limit: 3000\n      },\n      Metrics: {\n        default: 7000,\n        limit: 7000\n      },\n      AuthorNetwork: {\n        default: 400,\n        limit: 1000\n      },\n      PaperNetwork: {\n        default: 400,\n        limit: 1000\n      },\n      ConceptCloud: {\n        default: 150,\n        limit: 150\n      },\n      BubbleChart: {\n        // default == limit\n        default: 1500\n      }\n    }\n  }; // add credential info\n  // doesn't require cross domain cookies\n\n  config._doesntNeedCredentials = [config.SEARCH, config.QTREE, config.BIGQUERY, config.EXPORT, config.SERVICE_AUTHOR_NETWORK, config.SERVICE_PAPER_NETWORK, config.SERVICE_WORDCLOUD, config.SERVICE_METRICS, config.RECOMMENDER, config.GRAPHICS, config.FEEDBACK];\n  return config;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/api_targets.js?");

/***/ }),

/***/ "./src/js/components/default_request.js":
/*!**********************************************!*\
  !*** ./src/js/components/default_request.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Created by rchyla on 3/28/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/multi_params */ \"./src/js/components/multi_params.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Backbone, ApiQuery, MultiParams) {\n  var basicCheck = function basicCheck(s) {\n    if (_.isString(s)) {\n      return true;\n    }\n\n    if (_.isArray(s)) {\n      var l = s.length;\n\n      for (var i = 0; i < l; i++) {\n        var x = s[i];\n\n        if (!(_.isString(x) || _.isNumber(x))) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  var allowedAttrs = {\n    query: function query(v) {\n      if (_.isUndefined(v)) {\n        return true;\n      }\n\n      return v instanceof ApiQuery;\n    },\n    target: basicCheck,\n    sender: basicCheck,\n    options: basicCheck\n  };\n  var checker = {\n    target: function target(s) {\n      if (s && s.substring(0, 1) !== '/') {\n        return '/' + s;\n      }\n    }\n  };\n  var Request = MultiParams.extend({\n    /**\n     * Internal method: we allow only certain keys\n     *\n     * @param attributes\n     * @param options\n     * @returns {boolean}\n     * @private\n     */\n    _validate: function _validate(attributes, options) {\n      _.forOwn(attributes, function (val, attr) {\n        var tempVal = attributes[attr];\n\n        if (!(attr in allowedAttrs)) {\n          throw new Error('Invalid attr: ' + attr);\n        }\n\n        if (!allowedAttrs[attr].call(allowedAttrs, tempVal)) {\n          throw new Error('Invalid value:key ' + attr + tempVal);\n        }\n      });\n\n      return true;\n    },\n\n    /**\n     * Modified version of the multi-valued set(); we do not insist\n     * on having the values in array\n     *\n     * @param key\n     * @param val\n     * @param options\n     * @returns {Request}\n     */\n    set: function set(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    // for requests, we use all components: path, query, hash\n    _checkParsed: function _checkParsed(attrs) {\n      if (_.isObject(attrs)) {\n        var ret = {};\n\n        if ('#query' in attrs && !_.isEmpty(attrs['#query'])) {\n          ret.query = new ApiQuery(attrs['#query']);\n        }\n\n        if ('#path' in attrs) {\n          ret.target = attrs['#path'][0];\n        }\n\n        if ('#hash' in attrs) {\n          _.extend(ret, _.each(attrs['#hash'], function (val, key, obj) {\n            if (val.length == 1) {\n              obj[key] = val[0];\n            }\n          }));\n        }\n\n        return ret;\n      }\n\n      return attrs;\n    },\n\n    /*\n     * Return the url string encoding all parameters that made\n     * this request. The parameters will be sorted alphabetically\n     * by their keys and URL encoded so that they can be used\n     * in requests.\n     */\n    url: function url(whatToSort) {\n      if (!whatToSort) {\n        whatToSort = this.attributes;\n      }\n\n      var target = whatToSort.target;\n      var url = target ? _.isArray(target) ? target.join('/') : target : '';\n\n      if ('query' in whatToSort) {\n        url += '?' + whatToSort.query.url();\n      }\n\n      if ('sender' in whatToSort) {\n        url += '#' + MultiParams.prototype.url.call(this, {\n          sender: whatToSort.sender\n        });\n      }\n\n      return url;\n    },\n\n    /**\n     * Re-constructs the query from the url string, returns the json attributes;\n     * cannot be used it the instance is locked\n     *\n     * @param query (String)\n     * @returns {Model}\n     */\n    load: function load(query) {\n      return MultiParams.prototype.load.call(this, query.indexOf('?') > -1 ? query : query + '?');\n    }\n  });\n  return Request;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/default_request.js?");

/***/ }),

/***/ "./src/js/components/facade.js":
/*!*************************************!*\
  !*** ./src/js/components/facade.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/16/14. inspiration: http://jsfiddle.net/pajtai/GD5qR/35/\n */\n\n/*\n * // Interface\n *  var remoteInterface = {\n *    on: 'turn on'\n *  };\n *  // Implementation\n *  var htmlRemote = {\n *    on: function() { console.log(\"remote on\"); return this; }\n *  };\n *  // Protecting the implementation\n *  var htmlInterface = new Facade(remoteInterface, htmlRemote);\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Facade) {\n  // The Facade encapsulates objectIn according to the description\n  // The exposed facade is guaranteed to have exactly the functions described in description.\n  var Facade = function Facade(description, objectIn) {\n    var facade; // TODO: add enforce of \"new\"\n\n    facade = {};\n    this.mixIn(description, objectIn, facade); // TODO: check that \"mixIn\" is not taken\n\n    facade.mixIn = this.mixIn;\n    return facade;\n  };\n\n  Facade.prototype.mixIn = function (description, objectIn, facade) {\n    var property;\n    var propertyValue;\n    facade = facade || this;\n\n    for (property in description) {\n      propertyValue = description[property];\n\n      if (property in objectIn) {\n        var p = objectIn[property];\n\n        if (typeof propertyValue === 'function') {\n          // redefining the method\n          facade[property] = _.bind(propertyValue, objectIn);\n        } else if (typeof p === 'function') {\n          // exposing the method\n          facade[property] = _.bind(p, objectIn);\n        } else if (_.isUndefined(p)) {// pass\n        } else if (_.isString(p) || _.isNumber(p) || _.isBoolean(p) || _.isDate(p) || _.isNull(p) || _.isRegExp(p)) {\n          // build getter method\n          facade['get' + property.substring(0, 1).toUpperCase() + property.substring(1)] = _.bind(function () {\n            return this.ctx[this.name];\n          }, {\n            ctx: objectIn,\n            name: property\n          });\n          facade[property] = p; // copy the value (it is immutable anyways)\n        } else if (p.hasOwnProperty('__facade__') && p.__facade__) {\n          // exposing internal facade\n          facade[property] = p;\n        } else if (_.isObject(p) && 'getHardenedInstance' in p) {\n          // builds a facade\n          facade[property] = p.getHardenedInstance();\n        } else {\n          throw new Error(\"Sorry, you can't wrap '\" + property + \"': \" + p);\n        }\n      } else if (typeof propertyValue === 'function') {\n        facade[property] = _.bind(propertyValue, objectIn);\n      } else {\n        throw new Error('Unknown key: ' + property + '(' + propertyValue + ')');\n      }\n    }\n\n    if (objectIn) {\n      // .name is not supported in IE\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n      facade.__facade__ = Boolean(objectIn.constructor ? objectIn.constructor.name ? objectIn.constructor.name : true : true);\n    } else {\n      facade.__facade__ = true;\n    } // TODO:rca - shall we use?\n    // if (Object.freeze)\n    //  facade = Object.freeze(facade);\n\n\n    return facade;\n  };\n\n  return Facade;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/facade.js?");

/***/ }),

/***/ "./src/js/components/multi_params.js":
/*!*******************************************!*\
  !*** ./src/js/components/multi_params.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n multi_params is a generic class to store any parameters;\n it is backed by BB.Model and has all the functionality\n the values are always stored as an array of values; so\n even if you try to set strings, you will always have\n list of strings\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, _, $) {\n  var Model = Backbone.Model.extend({\n    locked: false,\n    _checkLock: function _checkLock() {\n      if (this.locked === true) {\n        throw Error('Object locked for modifications');\n      }\n    },\n    isLocked: function isLocked() {\n      return this.locked;\n    },\n    lock: function lock() {\n      this.locked = true;\n    },\n    unlock: function unlock() {\n      this.locked = false;\n    },\n    clone: function clone() {\n      if (this.isLocked()) {\n        var c = new this.constructor(this.attributes);\n        c.lock();\n        return c;\n      }\n\n      return new this.constructor(this.attributes);\n    },\n    hasVal: function hasVal(key) {\n      return !_.isEmpty(this.get(key));\n    },\n    // we allow only strings and numbers; instead of sending\n    // signal we throw a direct error\n    _validate: function _validate(attributes, options) {\n      // check we have only numbers and/or finite numbers\n      for (var attr in attributes) {\n        if (!_.isString(attr)) {\n          throw new Error('Keys must be strings, not: ' + attr);\n        } // remove empty strings\n\n\n        var tempVal = attributes[attr];\n        tempVal = _.without(_.flatten(tempVal), '', false, null, undefined, NaN);\n\n        if (!_.isArray(tempVal)) {\n          throw new Error('Values were not converted to an Array');\n        }\n\n        if (_.isEmpty(tempVal) && options.unset !== true) {\n          throw new Error('Empty values not allowed');\n        }\n\n        if (!_.every(tempVal, function (v) {\n          return _.isString(v) || _.isNumber(v) && !_.isNaN(v);\n        })) {\n          throw new Error('Invalid value (not a string or number): ' + tempVal);\n        }\n\n        attributes[attr] = tempVal;\n      }\n\n      return true;\n    },\n    // Every value is going to be multi-valued by default\n    // in this way we can treat all objects in the same way\n    set: function set(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      for (var attr in attrs) {\n        var tempVal = attrs[attr]; // convert to array if necessary\n\n        if (!_.isArray(tempVal)) {\n          attrs[attr] = _.flatten([tempVal]);\n        }\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    unset: function unset() {\n      this._checkLock();\n\n      Backbone.Model.prototype.unset.apply(this, arguments);\n    },\n    // adds values to existing (like set, but keeps the old vals)\n    add: function add(key, val, options) {\n      this._checkLock();\n\n      var attrs;\n      if (key == null) return this; // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\n      if (_typeof(key) === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      for (var attr in attrs) {\n        var tempVal = attrs[attr]; // convert to array if necessary\n\n        if (!_.isArray(tempVal)) {\n          tempVal = _.flatten([tempVal]);\n        }\n\n        if (this.has(attr)) {\n          tempVal = _.clone(this.get(attr)).concat(tempVal);\n        }\n\n        attrs[attr] = tempVal;\n      }\n\n      Backbone.Model.prototype.set.call(this, attrs, options);\n    },\n    // synchronization is disabled\n    sync: function sync() {\n      throw Error('MultiParams cannot be saved to server');\n    },\n\n    /*\n     * Return the url string encoding all parameters that made\n     * this query. The parameters will be sorted alphabetically\n     * by their keys and URL encoded so that they can be used\n     * in requests.\n     */\n    url: function url(whatToSort) {\n      if (!whatToSort) {\n        whatToSort = this.attributes;\n      } // sort keys alphabetically\n\n\n      var sorted = _.pairs(whatToSort).sort(function (a, b) {\n        return a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0;\n      }); // June1:rca - I need to preserve order of values (becuaes of the query modifications/updates) the logic\n      // just requires us to be careful and we need order to be preserved when the query is cloned\n      // also sort values\n      // var s = {};\n      // sorted.map(function(item) { s[item[0]] = (_.isArray(item[1]) ? item[1].sort() : item[1]) });\n      // we have to double encode certain elements\n      // sorted = _.map(sorted, function(pair) { return [pair[0], _.map(pair[1], function(v) {return (v.indexOf && v.indexOf('=') > -1) ? encodeURIComponent(v) : v })]});\n      // use traditional encoding\n      // use %20 instead of + (url encoding instead of form encoding)\n\n\n      var encoded = $.param(_.object(sorted), true);\n      encoded = encoded.replace(/\\+/g, '%20'); // Replace funky unicode quotes with normal ones\n\n      encoded = encoded.replace(/%E2%80%9[ECD]/g, '%22');\n      return encoded;\n    },\n\n    /**\n     * Parses string (urlparams) and returns it as an object\n     * @param resp\n     * @param options\n     * @returns {*}\n     */\n    parse: function parse(resp, options) {\n      if (_.isString(resp)) {\n        var attrs = {};\n        resp = decodeURI(resp);\n\n        if (resp.indexOf('?') > -1) {\n          attrs['#path'] = [resp.slice(0, resp.indexOf('?'))];\n          resp = resp.slice(resp.indexOf('?') + 1);\n        }\n\n        if (resp.indexOf('#') > -1) {\n          attrs['#hash'] = this._parse(resp.slice(resp.indexOf('#') + 1));\n          resp = resp.slice(0, resp.indexOf('#'));\n        }\n\n        attrs['#query'] = this._parse(resp);\n        return this._checkParsed(attrs);\n      }\n\n      return this._checkParsed(resp); // else return resp object\n    },\n    _parse: function _parse(resp) {\n      var attrs = {};\n      var hash;\n\n      if (!resp.trim()) {\n        return attrs;\n      }\n\n      var hashes = resp.slice(resp.indexOf('?') + 1).split('&'); // resp = decodeURIComponent(resp);\n\n      var key;\n      var value;\n\n      for (var i = 0; i < hashes.length; i++) {\n        hash = hashes[i].split('=');\n        key = decodeURIComponent(hash[0].split('+').join(' ')); // optimized: .replace(/\\+/g, \" \")\n\n        var vall = hash[1];\n\n        if (hash.length > 2) {\n          hash.shift();\n          vall = hash.join('=');\n        } // replace literal '%' with code and '+' become literal spaces\n\n\n        value = decodeURIComponent(vall.replace(/%(?!\\d|[ABCDEF]+)/gi, '%25').split('+').join(' '));\n\n        if (attrs[key] !== undefined) {\n          attrs[key].push(value);\n        } else {\n          attrs[key] = [value];\n        }\n      }\n\n      return attrs;\n    },\n    // default behaviour is just to keep the query parameters\n    // after the string was parsed, you can override it to suit other needs\n    _checkParsed: function _checkParsed(attrs) {\n      if (_.isObject(attrs)) {\n        if ('#query' in attrs) {\n          return attrs['#query'];\n        }\n      }\n\n      return attrs;\n    },\n\n    /**\n     * Re-constructs the query from the url string, returns the json attributes;\n     * cannot be used it the instance is locked\n     *\n     * @param query (String)\n     * @returns {Model}\n     */\n    load: function load(query) {\n      this._checkLock();\n\n      var vals = this.parse(query);\n      this.clear();\n      this.set(vals);\n      return this;\n    }\n  });\n  return Model;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/multi_params.js?");

/***/ }),

/***/ "./src/js/components/pubsub_events.js":
/*!********************************************!*\
  !*** ./src/js/components/pubsub_events.js ***!
  \********************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/30/14.\n */\n\n/**\n * Catalogue of PubSub events; we assume this:\n *\n *  - FC = the component lives in the 'Forbidden City'\n *         inside Application, typically this is a PubSub or Api, Mediator\n *         or any component with elevated access\n *\n *  - OC = Outer City: the suburbs of the application; these are typically\n *         UI components (behind the wall), untrusted citizens of the\n *         BumbleBee state\n *\n *  WARNING: do not use spaces; events with spaces are considered to be\n *        multiple events! (e.g. '[PubSub] New-Query' will be two events)\n *\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var PubSubEvents = {\n    /**\n     * Usually called by OC's as a first step in the query processing.\n     * It means: 'user did something', we need to start reacting. The OC\n     * will build a new ApiQuery and send it together with this event\n     */\n    START_SEARCH: '[PubSub]-New-Query',\n\n    /**\n     * Called by FC's (usually: Mediator) - this is a signal to *all* OC's\n     * they should receive ApiQuery object, compare it against their\n     * own query; find diff and create a new ApiRequest (asking for a data)\n     * and send that back\n     */\n    INVITING_REQUEST: '[PubSub]-Inviting-Request',\n\n    /**\n     * Will be called by OC's, this is response to ApiQuery input.\n     */\n    DELIVERING_REQUEST: '[PubSub]-New-Request',\n\n    /**\n     * Will be called by OC's, this is one-time forget action (outside of the\n     * the search cycle); use this for any query that needs to be executed\n     * and not be tracked by search cycle\n     */\n    EXECUTE_REQUEST: '[PubSub]-Execute-Request',\n\n    /**\n     * Called from the router, the QID will be passed; the query needs to be\n     * loaded and executed\n     */\n    EXECUTE_STORED_QUERY: '[PubSub]-Execute-Stored-Query',\n\n    /**\n     * Published by FC's - typically Mediator - when a response has been retrieved\n     * for a given ApiRequest.\n     *\n     * OC's should subscribe to this event when they want to receive data\n     * from the treasury (api)\n     *\n     *  - input: ApiRequest\n     *  - output: ApiResponse\n     */\n    DELIVERING_RESPONSE: '[PubSub]-New-Response',\n\n    /**\n     * The walls of the FC are being closed; and no new requests will be served\n     */\n    CLOSING_GATES: '[PubSub]-Closing',\n\n    /**\n     * PubSub will not receive any requests any more\n     */\n    CLOSED_FOR_BUSINESS: '[PubSub]-Closed',\n\n    /**\n     * ForbiddenCity is about to receive requests\n     */\n    OPENING_GATES: '[PubSub]-Opening',\n\n    /**\n     * Called after PubSub became ready - it is fully operational\n     */\n    OPEN_FOR_BUSINESS: '[PubSub]-Ready',\n\n    /**\n     *  Set of error warnings issues by PubSub - or by some other FC's - to\n     *  deal with congestion or other problems\n     */\n    SMALL_FIRE: '[PubSub]-Problem',\n    BIG_FIRE: '[PubSub]-Big-Problem',\n    CITY_BURNING: '[PubSub]-Disaster',\n\n    /**\n     * A message containing feedback from the FC; traveling towards OC\n     * The feedback will be instance of ApiFeedback\n     */\n    FEEDBACK: '[FC]-FeedBack',\n\n    /**\n     * A message from the router requesting showing citizens of the\n     * city\n     */\n    DISPLAY_DOCUMENTS: '[Router]-Display-Documents',\n    DISPLAY_DOCUMENTS_DETAILS: '[Router]-Display-Documents-Details',\n\n    /**\n     * Used by OC to request parsed query tree - to check a query\n     * for example\n     */\n    GET_QTREE: '[FC]-GetQTree',\n    NAVIGATE: '[Router]-Navigate-With-Trigger',\n\n    /*\n     * so navigator can notify interested widgets about a change\n     * from search page to user page, for instance-- navigator cannot\n     * to this since it listens to many events including widget-show events\n     * */\n    PAGE_CHANGE: '[Navigator]Page-Changed',\n\n    /* for custom widget-to-widget events */\n    CUSTOM_EVENT: '[PubSub]-Custom-Event',\n    ARIA_ANNOUNCEMENT: '[PubSub]-Aria-Announcement',\n\n    /* anything to do with changing the state of the user, including session events */\n    USER_ANNOUNCEMENT: '[PubSub]-User-Announcement',\n\n    /**\n     * A message/action that should be displayed to the user (on prominent)\n     * place\n     */\n    ALERT: '[Alert]-Message',\n    ORCID_ANNOUNCEMENT: '[PubSub]-Orcid-Announcement',\n\n    /**\n     * Happens during the main cycle of the application birth\n     *  LOADED = when all components were successfuly loaded\n     *  BOOTSTRAPPED = + when all dynamic config was loaded\n     *  STARTING = + right before the router and history objects start()\n     *  STARTED = app is alive and handling requests\n     */\n    APP_LOADED: '[App]-Application-Loaded',\n    APP_BOOTSTRAPPED: '[App]-Application-Bootstrapped',\n    APP_STARTING: '[App]-Application-Starting',\n    APP_STARTED: '[App]-Application-Started',\n    APP_EXIT: '[App]-Exit',\n\n    /**\n     * Is triggered when user selects/deselects records\n     */\n    PAPER_SELECTION: '[User]-Paper-Selection',\n    // instead of toggling, adds all papers\n    BULK_PAPER_SELECTION: '[User]-Bulk-Paper-Selection',\n\n    /*\n     * is triggered by app storage itself when list of selected papers changes\n     * */\n    STORAGE_PAPER_UPDATE: '[User]-Paper-Update',\n    LIBRARY_CHANGE: '[PubSub]-Library-Change'\n  };\n  return PubSubEvents;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/pubsub_events.js?");

/***/ }),

/***/ "./src/js/components/pubsub_key.js":
/*!*****************************************!*\
  !*** ./src/js/components/pubsub_key.js ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/14/14.\n */\n\n/*\n * A simple, yet important, class - every subscriber\n * to the PubSub must contain one key. This class\n * should be instantiated in a safe manner. ie.\n *\n * PubSubKey.newInstance({creator: this});\n *\n * But beware that as long as the subscriber is alive\n * reference to the creator will be saved inside\n * the key! So choose carefully whether you use this\n * functionality\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_) {\n  var PubSubKey = function PubSubKey(options) {\n    _.extend(this, options);\n  };\n\n  _.extend(PubSubKey, {\n    /*\n     * Creates a new Instances of the PubSubKey\n     * with a storage that cannot be changed.\n     * To double sign the key, you can pass\n     * an object that identifies creator of the\n     * key and test identity, eg.\n     *\n     * var creator = {};\n     * var k = PubSubKey(creator);\n     * k.getCreator() === k;\n     *\n     */\n    newInstance: function newInstance(options) {\n      var priv = {\n        id: _.has(options, 'id') ? options.id : _.uniqueId(':psk'),\n        creator: _.has(options, 'creator') ? options.creator : null\n      };\n      return new PubSubKey({\n        getId: function getId() {\n          return priv.id;\n        },\n        getCreator: function getCreator() {\n          return priv.creator;\n        }\n      });\n    }\n  });\n\n  return PubSubKey;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/pubsub_key.js?");

/***/ }),

/***/ "./src/js/components/solr_params.js":
/*!******************************************!*\
  !*** ./src/js/components/solr_params.js ***!
  \******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\nSubclass of the multi-param with a functionality specific for\nSOLR queries. Do not use this class directly inside your app!\nInstead, import 'api_query' and configure it properly\n\n * <p>For a list of possible parameters, please consult the links below.</p>\n *\n * @see http://wiki.apache.org/solr/CoreQueryParameters\n * @see http://wiki.apache.org/solr/CommonQueryParameters\n * @see http://wiki.apache.org/solr/SimpleFacetParameters\n * @see http://wiki.apache.org/solr/HighlightingParameters\n * @see http://wiki.apache.org/solr/MoreLikeThis\n * @see http://wiki.apache.org/solr/SpellCheckComponent\n * @see http://wiki.apache.org/solr/StatsComponent\n * @see http://wiki.apache.org/solr/TermsComponent\n * @see http://wiki.apache.org/solr/TermVectorComponent\n * @see http://wiki.apache.org/solr/LocalParams\n *\n * @param properties A map of fields to set. Refer to the list of public fields.\n * @class ParameterStore\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/components/multi_params */ \"./src/js/components/multi_params.js\"), __webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! jquery */ \"./src/libs/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (MultiParams, Backbone, _, $) {\n  var SolrParams = MultiParams.extend({\n    fieldsToConcatenate: [],\n    defaultOperator: ' ',\n    fieldProcessors: {\n      '*': function _(vals, self) {\n        return [vals.join(self.defaultOperator)];\n      }\n    },\n    initialize: function initialize(attributes, options) {\n      if (options) {\n        _.extend(this, _.pick(options, ['fieldsToConcatenate', 'defaultOperator', 'fieldProcessors']));\n      }\n    },\n    url: function url(resp, options) {\n      // first massage the fields, but do not touch the original values\n      // lodash has a parameter isDeep that can be set to true, but\n      // for compatibility reasons with underscore, lets' not use it\n      // the values should always be only one level deep\n      var values = _.clone(this.attributes);\n\n      var l = this.fieldsToConcatenate.length;\n      var k = '';\n\n      for (var i = 0; i < l; i++) {\n        k = this.fieldsToConcatenate[i];\n\n        if (this.has(k)) {\n          if (this.fieldProcessors[k]) {\n            values[k] = this.fieldProcessors[k](this.get(k), this);\n          } else {\n            values[k] = this.fieldProcessors['*'](this.get(k), this);\n          }\n        }\n      } // then call the default implementation of the url handling\n\n\n      return MultiParams.prototype.url.call(this, values);\n    }\n  });\n  return SolrParams;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/components/solr_params.js?");

/***/ }),

/***/ "./src/js/mixins/dependon.js":
/*!***********************************!*\
  !*** ./src/js/mixins/dependon.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/13/14.\n */\n\n/*\n * This module contains a set of utilities that can be added to classes\n * to give them certain functionality\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/pubsub_events */ \"./src/js/components/pubsub_events.js\"), __webpack_require__(/*! js/components/pubsub_key */ \"./src/js/components/pubsub_key.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, PubSubEvents, PubSubKey) {\n  var Mixin = {\n    /*\n     * BeeHive is the object that allows modules to get access to objects\n     * of the application (but we make sure these objects are protected\n     * and only application can set/change them). This mixin gives objects\n     * functions to query 'BeeHive'\n     */\n    BeeHive: {\n      // called by parents (app) to give modules access\n      setBeeHive: function setBeeHive(brundibar) {\n        if (_.isEmpty(brundibar)) throw new Error('Huh? Empty Beehive? Trying to be funny?');\n        this.__beehive = brundibar;\n      },\n      getBeeHive: function getBeeHive() {\n        if (!this.hasBeeHive()) throw new Error('The BeeHive is inactivate (or dead :<})');\n        return this.__beehive;\n      },\n      hasBeeHive: function hasBeeHive() {\n        if (this.__beehive && (this.__beehive.active || this.__beehive.__facade__ && this.__beehive.getActive())) {\n          return true;\n        }\n\n        return false;\n      },\n\n      /**\n       * Method which returns a masked instance of PubSub (unless the PubSub\n       * is already a hardened instance; which carries its own key)\n       *\n       * You can call pubsub.publish() without having to supply the pubsub key\n       * (which is what most controllers want to do; there are only some\n       * exceptions to this rule; ie. query-mediator). If you need to get\n       * access to the full PubSub (and you have it inside BeeHive) then do\n       * this.getBeeHive().getService('PubSub')\n       */\n      getPubSub: function getPubSub() {\n        if (!this.hasBeeHive()) throw new Error('The BeeHive is inactive (or dead >:})');\n        if (!this.__ctx) this.__ctx = {};\n        if (this.__ctx.pubsub) return this.__ctx.pubsub;\n\n        var pubsub = this.__beehive.getService('PubSub');\n\n        if (pubsub && pubsub.__facade__) return pubsub; // build a unique key for this instance\n\n        this.__ctx.pubsub = {\n          _key: pubsub.getPubSubKey(),\n          _exec: function _exec(name, args) {\n            args = _.toArray(args);\n            if (args[0] instanceof PubSubKey) throw Error('You have given us a PubSub key, this.publish() method does not need it.');\n            args.unshift(this._key);\n            pubsub[name].apply(pubsub, args);\n          },\n          publish: function publish() {\n            this._exec('publish', arguments);\n          },\n          subscribe: function subscribe() {\n            this._exec('subscribe', arguments);\n          },\n          subscribeOnce: function subscribeOnce() {\n            this._exec('subscribeOnce', arguments);\n          },\n          unsubscribe: function unsubscribe() {\n            this._exec('unsubscribe', arguments);\n          },\n          getCurrentPubSubKey: function getCurrentPubSubKey() {\n            return this._key;\n          }\n        };\n\n        _.extend(this.__ctx.pubsub, PubSubEvents);\n\n        return this.__ctx.pubsub;\n      },\n      hasPubSub: function hasPubSub() {\n        if (this.hasBeeHive()) return _.isObject(this.__beehive.getService('PubSub'));\n        return false;\n      }\n    },\n    App: {\n      setApp: function setApp(app) {\n        if (_.isUndefined(app)) throw new Error('App object cannot be empty');\n        this.__app = app;\n      },\n      getApp: function getApp() {\n        return this.__app;\n      },\n      hasApp: function hasApp() {\n        return !_.isEmpty(this.__app);\n      }\n    }\n  };\n  return Mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/dependon.js?");

/***/ }),

/***/ "./src/js/mixins/hardened.js":
/*!***********************************!*\
  !*** ./src/js/mixins/hardened.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Created by rchyla on 3/18/14.\n */\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/facade */ \"./src/js/components/facade.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Facade) {\n  var Mixin = {\n    /*\n     * Creates a hardened instance of itself, it uses\n     * interface description from 'hardenedInterface'\n     * Implementations need to populate 'hardenedInterface'\n     * with list of properties and methods that should be exposed\n     * through the Facade\n     */\n    _getHardenedInstance: function _getHardenedInstance(iface, objectIn) {\n      if (!('hardenedInterface' in this) && !iface) {\n        throw Error('Error: this.hardenedInterface is not defined');\n      }\n\n      return new Facade(iface || ('hardenedInterface' in this ? this.hardenedInterface : {}), objectIn);\n    },\n    getHardenedInstance: function getHardenedInstance(iface) {\n      return this._getHardenedInstance(iface, this);\n    }\n  };\n  return Mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/hardened.js?");

/***/ }),

/***/ "./src/js/mixins/user_change_rows.js":
/*!*******************************************!*\
  !*** ./src/js/mixins/user_change_rows.js ***!
  \*******************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Marionette, ApiTargets) {\n  /*\n   * use this model as a base for any widget that needs to request\n   * varying numbers of records from solr and visualize/export/etc them\n   * in some way.\n   *\n   * Currently used by metrics and visualization widgets (not export for now)\n   * they set the relevant solr vals into the model in the\n   * processResponse function\n   * */\n  var mixin = {};\n  mixin.Model = Backbone.Model.extend({\n    initialize: function initialize(options) {\n      this.on('change:numFound', this.updateMax);\n      this.on('change:rows', this.updateCurrent);\n\n      if (!options.widgetName) {\n        throw new Error('need to configure with widget name so we can get limit/default info from api_targets._limits');\n      }\n\n      var defaults = {\n        // returned by solr query: rows requested\n        rows: undefined,\n        // returned by solr query: total available\n        numFound: undefined,\n        // the smaller of either rows or numFound\n        current: undefined,\n        // the smaller of either numFound or maxAllowed\n        max: undefined,\n        // records that user has requested\n        userVal: undefined\n      };\n\n      _.extend(defaults, ApiTargets._limits[options.widgetName]);\n\n      this.defaults = function () {\n        return defaults;\n      };\n\n      this.set(this.defaults());\n    },\n    updateMax: function updateMax() {\n      var m = _.min([this.get('limit'), this.get('numFound')]);\n\n      this.set('max', m);\n    },\n    updateCurrent: function updateCurrent() {\n      this.set('current', _.min([this.get('rows'), this.get('numFound')]));\n    }\n  });\n  return mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/user_change_rows.js?");

/***/ }),

/***/ "./src/js/mixins/widget_mixin_method.js":
/*!**********************************************!*\
  !*** ./src/js/mixins/widget_mixin_method.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! js/mixins/widget_utility */ \"./src/js/mixins/widget_utility.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Utils) {\n  var mixin = function mixin(from, methods) {\n    var to = this.prototype; // we add those methods which exists on `from` but not on `to` to the latter\n\n    _.extend(from, to); // … and we do the same for events\n\n\n    _.extend(from.events, to.events);\n\n    _.each(Array.prototype.slice.call(arguments, 1), function (m) {\n      Utils.extendMethod(to, from, m);\n    });\n  };\n\n  return mixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_mixin_method.js?");

/***/ }),

/***/ "./src/js/mixins/widget_state_manager.js":
/*!***********************************************!*\
  !*** ./src/js/mixins/widget_state_manager.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore-umd.js\"), __webpack_require__(/*! js/components/api_feedback */ \"./src/js/components/api_feedback.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, ApiFeedback) {\n  /**\n   * Abstract error pubsub-like manager.  Allows for hooks to be applied that\n   * match API feedback codes\n   *\n   * @constructor\n   */\n  var ErrorHandlerManager = function ErrorHandlerManager() {\n    this.handlers = {};\n    /**\n     * Attach a new handler to an API feedback code\n     *\n     * @param {Number} code - feedback code\n     * @param {function} cb - callback function\n     */\n\n    this.on = function (code, cb) {\n      this.handlers[code].push(cb);\n    };\n    /**\n     * Remove handler by passing in the callback function\n     *\n     * @param {function} cb - callback function\n     */\n\n\n    this.off = function (cb) {\n      _.forEach(this.handlers, function (v, k) {\n        var idx = v.indexOf(cb);\n\n        if (idx > -1) {\n          v.splice(idx, 1);\n        }\n      });\n    };\n    /**\n     * Fire off the callbacks for a particular code\n     *\n     * @param {Number} code - feedback code\n     * @param {Array} args - arguments to pass to the callback\n     * @param {object} ctx - callback's `this` property\n     */\n\n\n    this.fire = function (code, args, ctx) {\n      _.forEach(this.handlers[code], function (cb) {\n        cb.apply(ctx, args);\n      });\n    };\n\n    _.reduce(ApiFeedback.CODES, function (res, code) {\n      res[code] = [];\n      return res;\n    }, this.handlers);\n  };\n  /*\n    Widget state manager mixin\n     This mixin will allow widgets to call lifecycle updates which can then have\n    handlers attached.  The mixin can also serve as a way for page managers to\n    react to widget status updates, since certain widgets should be\n    handled differently depending on their type and importance.\n     The typical way this is used is to call `activateWidget` during the activate\n    call on the widget itself.  Then call the various state updates when the widget\n    is performing actions.\n     The default states are: ready, loading, idle, errored\n     Widgets can attach handlers to the various status updates (i.e. onReady, onLoading, etc.)\n     note: during the activation, the widget's pubsubkey is captured and is used\n    to identify the appropriate feedback.  This way the handlers aren't called for\n    events the widget doesn't care about.\n   */\n\n\n  var WidgetStateManagerMixin = {\n    STATES: {\n      LOADING: 'loading',\n      ERRORED: 'errored',\n      IDLE: 'idle',\n      READY: 'ready'\n    },\n\n    /**\n     * Creates a new instance of the handlerManager and subscribes to the\n     * api feedback calls.  It also sets the first state update.\n     */\n    activateWidget: function activateWidget() {\n      this.__widgetHandlerManager = new ErrorHandlerManager();\n      var pubsub = this.getPubSub();\n      pubsub.subscribe(pubsub.FEEDBACK, _.bind(this.__handleFeedback, this));\n      this.updateState('ready');\n    },\n\n    /**\n     * Upon new feedback from the API, this function will grab the current\n     * pubSubKey Id for this widget and compare it to the one listed on the\n     * feedback object.  If they match, then the handlers are fired off for that\n     * code.\n     *\n     * @param {ApiFeedback} feedback\n     * @param {PubSubKey} pubSubKey\n     * @private\n     */\n    __handleFeedback: function __handleFeedback(feedback, pubSubKey) {\n      var id = this.getPubSub().getCurrentPubSubKey().getId();\n\n      if (id === pubSubKey.getId()) {\n        this.__widgetHandlerManager.fire(feedback.code, arguments, this);\n      }\n    },\n\n    /**\n     * Attaches a new handler onto an API code\n     *\n     * @param {Number} code - feedback code\n     * @param {function} handler - handler function\n     */\n    attachHandler: function attachHandler(code, handler) {\n      try {\n        this.__widgetHandlerManager.on(code, handler);\n      } catch (e) {\n        console.error(e);\n      }\n    },\n\n    /**\n     * Attaches a general handler to all api feedback codes\n     *\n     * Includes the positive error codes and api request failures\n     *\n     * @param {function} handler - handler function\n     */\n    attachGeneralHandler: function attachGeneralHandler(handler) {\n      _.forEach(ApiFeedback.CODES, _.bind(function (code) {\n        if (code > 0 || code === ApiFeedback.CODES.API_REQUEST_ERROR) {\n          this.attachHandler(code, handler);\n        }\n      }, this));\n    },\n\n    /**\n     * Detaches a particular handler from all codes\n     *\n     * @param cb\n     */\n    detachHandler: function detachHandler(cb) {\n      this.__widgetHandlerManager.off(cb);\n    },\n\n    /**\n     * Called when the state changes to 'ready'\n     */\n    onReady: _.noop,\n\n    /**\n     * Called when the state changes to 'loading'\n     */\n    onLoading: _.noop,\n\n    /**\n     * Called when the state changes to 'idle'\n     */\n    onIdle: _.noop,\n\n    /**\n     * Called when the state changes to 'errored'\n     */\n    onErrored: _.noop,\n\n    /**\n     * Called on all state changes\n     */\n    onStateChange: _.noop,\n\n    /**\n     * Called by widgets to update their own state.  This will update the current\n     * state and also call any handlers.\n     *\n     * @param {string} state - the state to update to\n     */\n    updateState: function updateState(state) {\n      if (!state || !_.isString(state) || state === this.__state) {\n        // do nothing\n        return;\n      }\n\n      var prev = this.__state;\n      this.__state = state;\n\n      this.__fireStateHandler();\n\n      this.onStateChange.call(this, state, prev);\n    },\n\n    /**\n     * Get the current state value\n     */\n    getState: function getState() {\n      return this.__state;\n    },\n\n    /**\n     * This method looks at the current state and if a matching handler is\n     * provided, it will call it accordingly.\n     *\n     * @private\n     */\n    __fireStateHandler: function __fireStateHandler() {\n      var handlers = {};\n      handlers.ready = this.onReady;\n      handlers.loading = this.onLoading;\n      handlers.idle = this.onIdle;\n      handlers.errored = this.onErrored;\n      handlers[this.__state] && handlers[this.__state].call(this, this);\n    }\n  };\n  return WidgetStateManagerMixin;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_state_manager.js?");

/***/ }),

/***/ "./src/js/mixins/widget_utility.js":
/*!*****************************************!*\
  !*** ./src/js/mixins/widget_utility.js ***!
  \*****************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n  var Utils = {}; // Helper method to extend an already existing method\n\n  Utils.extendMethod = function (to, from, methodName) {\n    // if the method is defined on from ...\n    if (!_.isUndefined(from[methodName])) {\n      var old = to[methodName]; // ... we create a new function on to\n\n      to[methodName] = function () {\n        // wherein we first call the method which exists on `to`\n        var oldReturn = old.apply(this, arguments); // and then call the method on `from`\n\n        from[methodName].apply(this, arguments); // and then return the expected result,\n        // i.e. what the method on `to` returns\n\n        return oldReturn;\n      };\n    }\n  };\n\n  return Utils;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/mixins/widget_utility.js?");

/***/ }),

/***/ "./src/js/widgets/base/base_widget.js":
/*!********************************************!*\
  !*** ./src/js/widgets/base/base_widget.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! backbone */ \"./src/libs/backbone.js\"), __webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/mixins/widget_mixin_method */ \"./src/js/mixins/widget_mixin_method.js\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\"), __webpack_require__(/*! js/mixins/dependon */ \"./src/js/mixins/dependon.js\"), __webpack_require__(/*! js/mixins/widget_state_manager */ \"./src/js/mixins/widget_state_manager.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Backbone, Marionette, ApiQuery, ApiRequest, WidgetMixin, ApiTargets, Dependon, WidgetStateManagerMixin) {\n  /**\n   * Default PubSub based widget; the main functionality is inside\n   *\n   *  dispa tchRequest()\n   *    - publishes ApiRequest object into PubSub (to initiate search)\n   *\n   *  processResponse()\n   *    - receives ApiResponse object as a direct reply for the previous\n   *      request\n   *\n   * You will want to override 'processResponse' method and possibly\n   * some of the other methods like this;\n   *\n   * var newWidgetClass = BaseWidget.extend({\n   *   composeRequest : function(){},\n   *   processRequest : function(){}\n   * });\n   *\n   * var newInstance = new newWidgetClass();\n   *\n   *\n   * If you need to provide your own views, do initalization etc., override\n   * initialize\n   *\n   * * var newWidgetClass = BaseWidget.extend({\n   *   initialize: function() {\n   *      // do something\n   *      BaseWidget.prototype.initialize.apply(this, arguments);\n   *   }\n   * });\n   *\n   *\n   * Some other options include:\n   *\n   *  defaultQueryArguments: this is a list of parameters added to each query\n   *\n   */\n  var BaseWidget = Marionette.Controller.extend({\n    initialize: function initialize(options) {\n      options = options || {}; // these methods are called by PubSub as handlers so we bind them to 'this' object\n      // and they will carry their own context 'this'\n\n      _.bindAll(this, 'dispatchRequest', 'processResponse');\n\n      this._currentQuery = new ApiQuery();\n      this.defaultQueryArguments = this.defaultQueryArguments || {};\n\n      if (options.defaultQueryArguments) {\n        this.defaultQueryArguments = _.extend(this.defaultQueryArguments, options.defaultQueryArguments);\n      }\n\n      if (options.view) {\n        this.view = options.view;\n        this.collection = options.view.collection;\n      } // our way of listening to views/models\n\n\n      if (this.view) Marionette.bindEntityEvents(this, this.view, Marionette.getOption(this, 'viewEvents'));\n      if (this.model) Marionette.bindEntityEvents(this, this.model, Marionette.getOption(this, 'modelEvents'));\n    },\n\n    /**\n     * Called by Bumblebee application when a widget is about to be registered\n     * it receives a BeeHive object, that contais methods/attributes that a\n     * widget needs to communicate with the app\n     *\n     * This is the place where you want to subscribe to events\n     *\n     * @param beehive\n     */\n    activate: function activate(beehive) {\n      this.setBeeHive(beehive);\n      var pubsub = beehive.getService('PubSub'); // custom dispatchRequest function goes here\n\n      pubsub.subscribe(pubsub.INVITING_REQUEST, _.bind(this.dispatchRequest, this)); // custom handleResponse function goes here\n\n      pubsub.subscribe(pubsub.DELIVERING_RESPONSE, _.bind(this.processResponse, this));\n    },\n\n    /**\n     * You should use this method when you want to initiaze global search action\n     * (ie. send a query to the pubsub)\n     *\n     * @param apiQuery\n     */\n    dispatchNewQuery: function dispatchNewQuery(apiQuery) {\n      // remove the arguments that are useful only to this widget\n      _.each(this.defaultQueryArguments, function (v, k) {\n        apiQuery.unset(k);\n      });\n\n      var pubsub = this.getPubSub();\n      pubsub.publish(pubsub.NAVIGATE, 'search-page', {\n        q: apiQuery\n      });\n    },\n\n    /**\n     * Default callback to be called by PubSub on 'INVITING_REQUEST'\n     */\n    dispatchRequest: function dispatchRequest(apiQuery) {\n      this._dispatchRequest(apiQuery);\n    },\n    _dispatchRequest: function _dispatchRequest(apiQuery) {\n      var q = this.customizeQuery(apiQuery);\n\n      if (q) {\n        var req = this.composeRequest(q);\n\n        if (req) {\n          var pubsub = this.getPubSub();\n          pubsub.publish(pubsub.DELIVERING_REQUEST, req);\n        }\n      }\n    },\n\n    /**\n     * Default action to modify ApiQuery (called from inside dispatchRequest)\n     *\n     * @param apiQuery\n     */\n    customizeQuery: function customizeQuery(apiQuery) {\n      var q = apiQuery.clone();\n      q.unlock();\n\n      if (this.defaultQueryArguments) {\n        q = this.composeQuery(this.defaultQueryArguments, q);\n      }\n\n      return q;\n    },\n\n    /**\n     * Default callback to be called by PubSub on 'DELIVERING_RESPONSE'\n     * @param apiResponse\n     */\n    processResponse: function processResponse(apiResponse) {\n      // in your widget, you should always set the current query like this\n      var q = apiResponse.getApiQuery();\n      this.setCurrentQuery(q);\n      throw new Error('you need to customize this function');\n    },\n\n    /**\n     * This function should return a request IFF we want to get some\n     * data - it is called from inside 'dispatchRequest' event handler\n     *\n     * @param object with params to add\n     * @returns {ApiRequest}\n     */\n    composeRequest: function composeRequest(apiQuery) {\n      return new ApiRequest({\n        target: ApiTargets.SEARCH,\n        query: apiQuery\n      });\n    },\n\n    /**\n     * Will save a clone of the apiQuery into the widget (for future use and\n     * reference)\n     *\n     * @param apiQuery\n     */\n    setCurrentQuery: function setCurrentQuery(apiQuery) {\n      this._currentQuery = apiQuery;\n    },\n\n    /**\n     * Returns the current ApiQuery\n     * if a query hasn't been set, it will check if there is one in storage,\n     * if not, it will return an empty query\n     *\n     * @returns {ApiQuery|*}\n     */\n    getCurrentQuery: function getCurrentQuery() {\n      var currQuery = new ApiQuery({});\n      var beehive;\n\n      try {\n        if (this._currentQuery instanceof ApiQuery) {\n          currQuery = this._currentQuery;\n        } else if (_.isFunction(this.getBeeHive)) {\n          beehive = this.getBeeHive();\n\n          if (beehive.hasObject('AppStorage')) {\n            var q = beehive.getObject('AppStorage').getCurrentQuery();\n\n            if (q instanceof ApiQuery) {\n              currQuery = q;\n            }\n          }\n        }\n      } catch (e) {\n        console.error(e.message);\n      } finally {\n        return currQuery;\n      }\n    },\n\n    /**\n     * All purpose function for making a new query. It returns an apiQuery ready for\n     * newQuery event or for insertion into  apiRequest.\n     *\n     * @param queryParams\n     * @param apiQuery\n     * @returns {*}\n     */\n    composeQuery: function composeQuery(queryParams, apiQuery) {\n      var query;\n\n      if (!apiQuery) {\n        query = this.getCurrentQuery();\n        query = query.clone();\n      } else {\n        query = apiQuery;\n      }\n\n      if (queryParams) {\n        _.each(queryParams, function (v, k) {\n          if (!query.has(k)) query.set(k, v);\n        });\n      }\n\n      return query;\n    },\n    onDestroy: function onDestroy() {\n      this.view.destroy();\n    },\n\n    /**\n     * Convention inside Backbone and Marionette is to return 'this'\n     * - since 'this' usually refers to a 'View', we'll return the\n     * view's el here\n     * doesn't render unless it has to\n     *\n     * @returns {view.el}\n     */\n    getEl: function getEl() {\n      if (this.view.el && this.view.$el.children().length) {\n        return this.view.el;\n      }\n\n      return this.view.render().el;\n    },\n\n    /*\n     *\n     * convenience function for tests, always re-renders\n     *\n     * */\n    render: function render() {\n      return this.view.render();\n    },\n\n    /**\n     * Extracts identifier from a query object\n     *\n     * @param {ApiQuery} apiQuery\n     */\n    parseIdentifierFromQuery: function parseIdentifierFromQuery(apiQuery) {\n      if (!apiQuery.hasVal('q')) {\n        throw 'no query';\n      }\n\n      var q = apiQuery.get('q')[0];\n\n      try {\n        if (/^(?:identifier|bibcode):(.*)$/.test(q)) {\n          return q.split(':')[1];\n        }\n      } catch (e) {\n        throw 'unable to parse bibcode';\n      }\n\n      throw 'query must be in the format of identifer:foo or bibcode:foo';\n    }\n  }, {\n    mixin: WidgetMixin\n  });\n\n  _.extend(BaseWidget.prototype, Dependon.BeeHive, WidgetStateManagerMixin);\n\n  return BaseWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/base/base_widget.js?");

/***/ }),

/***/ "./src/js/widgets/network_vis/network_widget.js":
/*!******************************************************!*\
  !*** ./src/js/widgets/network_vis/network_widget.js ***!
  \******************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! d3 */ \"./src/libs/d3.js\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\"), __webpack_require__(/*! js/mixins/user_change_rows */ \"./src/js/mixins/user_change_rows.js\"), __webpack_require__(/*! js/components/api_request */ \"./src/js/components/api_request.js\"), __webpack_require__(/*! js/components/api_query */ \"./src/js/components/api_query.js\"), __webpack_require__(/*! js/widgets/base/base_widget */ \"./src/js/widgets/base/base_widget.js\"), __webpack_require__(/*! js/components/api_query_updater */ \"./src/js/components/api_query_updater.js\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/author-details-template */ \"./src/js/widgets/network_vis/templates/author-details-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/container-template */ \"./src/js/widgets/network_vis/templates/container-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/filter-container-template */ \"./src/js/widgets/network_vis/templates/filter-container-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/graph-container-template */ \"./src/js/widgets/network_vis/templates/graph-container-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/group-details-template */ \"./src/js/widgets/network_vis/templates/group-details-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/not-enough-data-template */ \"./src/js/widgets/network_vis/templates/not-enough-data-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/network_metadata */ \"./src/js/widgets/network_vis/templates/network_metadata.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/loading-template */ \"./src/js/widgets/network_vis/templates/loading-template.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/default-details-template */ \"./src/js/widgets/network_vis/templates/default-details-template.html\"), __webpack_require__(/*! bootstrap */ \"./src/libs/bootstrap/bootstrap.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Marionette, d3, ApiTargets, UserChangeMixin, ApiRequest, ApiQuery, BaseWidget, ApiQueryUpdater, authorDetailsTemplate, containerTemplate, filterContainerTemplate, graphContainerTemplate, groupDetailsTemplate, notEnoughDataTemplate, metadataTemplate, loadingTemplate, DefaultDetailsTemplate) {\n  var _Marionette$ItemView$;\n\n  function isInt(value) {\n    return !isNaN(value) && function (x) {\n      return (x | 0) === x;\n    }(parseFloat(value));\n  }\n\n  var FilterModel = Backbone.Model.extend({\n    defaults: {\n      name: undefined\n    },\n    idAttribute: 'name'\n  });\n  var FilterCollection = Backbone.Collection.extend({\n    model: FilterModel\n  });\n  var FilterView = Marionette.ItemView.extend({\n    initialize: function initialize(options) {\n      this.listenTo(this.collection, 'add', this.render);\n      this.listenTo(this.collection, 'remove', this.render);\n      this.listenTo(this.collection, 'reset', this.render);\n    },\n    serializeData: function serializeData() {\n      var that = this;\n      var data = {};\n      data.limit = this.collection.pluck('name');\n\n      _.each(data.limit, function (d, i) {\n        if (isInt(d) && that.options.networkType == 'author') {\n          data.limit[i] = 'at least one member of Group ' + d;\n        } else if (isInt(d) && that.options.networkType == 'paper') {\n          data.limit[i] = 'Group ' + d;\n        }\n      });\n\n      return data;\n    },\n    template: filterContainerTemplate,\n    childViewContainer: '.dropdown-menu',\n    events: {\n      'click .apply-filter': 'initiateFilter',\n      'click .clear-filter': 'clearFilter'\n    },\n    initiateFilter: function initiateFilter() {\n      this.trigger('filter:initiated');\n    },\n    clearFilter: function clearFilter() {\n      this.collection.reset();\n    }\n  }); // this will render a tiny tiny little graph\n\n  var DefaultDetailsView = Marionette.ItemView.extend({\n    template: DefaultDetailsTemplate,\n    serializeData: function serializeData() {\n      return {\n        currentQuery: Marionette.getOption(this, 'query'),\n        networkType: Marionette.getOption(this, 'networkType'),\n        cachedQuery: Marionette.getOption(this, 'cachedQuery')\n      };\n    },\n    getData: function getData() {\n      if (Marionette.getOption(this, 'networkType') == 'author') {\n        var data = [];\n\n        _.each(Marionette.getOption(this, 'graphData').root.children, function (el, index) {\n          var name = index;\n\n          if (index > 6) {\n            return;\n          }\n\n          var allPapers = []; // get all papers\n\n          _.each(el.children, function (author, index) {\n            Array.prototype.push.apply(allPapers, author.papers);\n          }); // unique the list\n\n\n          allPapers = _.uniq(allPapers); // fill in years with 0 papers\n\n          var years = _.map(allPapers, function (bibcode) {\n            return parseInt(bibcode.slice(0, 4));\n          }); // extract the years\n\n\n          allPapers = _.countBy(allPapers, function (bibcode) {\n            return bibcode.slice(0, 4);\n          });\n\n          var yearRange = _.range.apply(undefined, d3.extent(years));\n\n          var skeleton = {};\n\n          _.each(yearRange, function (y) {\n            skeleton[y] = 0;\n          });\n\n          allPapers = _.extend(skeleton, allPapers);\n          allPapers = _.map(allPapers, function (v, k) {\n            return {\n              year: parseInt(k),\n              amount: v\n            };\n          });\n          data.push({\n            name: name,\n            values: allPapers\n          });\n        });\n      } else if (Marionette.getOption(this, 'networkType') == 'paper') {\n        var summaryGraph = Marionette.getOption(this, 'graphData').summaryGraph;\n        var fullGraph = Marionette.getOption(this, 'graphData').fullGraph;\n        var data = [];\n        var nameDict = {};\n        /* id is how you tie an entry in the summary graph with an entry in the full graph,\n         * otherwise it is not used, it is assigned by louvain community detector in python script\n         * */\n\n        var ids = _.pluck(summaryGraph.nodes, 'id');\n\n        var names = _.pluck(summaryGraph.nodes, 'node_name');\n\n        _.each(ids, function (id, index) {\n          var filteredNodes = [];\n\n          _.each(fullGraph.nodes, function (n, i) {\n            if (n.group === id) {\n              filteredNodes.push(n.node_name);\n            }\n          });\n\n          nameDict[names[index]] = filteredNodes;\n        });\n\n        _.each(nameDict, function (v, k) {\n          if (k > 6) {\n            return;\n          } // unique the list\n\n\n          allPapers = _.uniq(v); // fill in years with 0 papers\n\n          var years = _.map(allPapers, function (bibcode) {\n            return parseInt(bibcode.slice(0, 4));\n          }); // extract the years\n\n\n          allPapers = _.countBy(allPapers, function (bibcode) {\n            return bibcode.slice(0, 4);\n          });\n\n          var yearRange = _.range.apply(undefined, d3.extent(years));\n\n          var skeleton = {};\n\n          _.each(yearRange, function (y) {\n            skeleton[y] = 0;\n          });\n\n          var allPapers = _.extend(skeleton, allPapers);\n\n          allPapers = _.map(allPapers, function (v, k) {\n            return {\n              year: parseInt(k),\n              amount: v\n            };\n          }); // to make it the same as the author network: key is the index of the group based on size\n\n          data.push({\n            name: parseInt(k) - 1,\n            values: allPapers\n          });\n        });\n      }\n\n      return data;\n    },\n    onRender: function onRender() {\n      var data = this.getData();\n      var oneYear = true; // if data is only from a single year, tell the user that and return\n\n      _.each(data, function (d) {\n        if (d.values.length !== 1) {\n          oneYear = false;\n        }\n      });\n\n      if (oneYear) {\n        var singleYear = data[0].values[0].year;\n        this.$('.time-series-container').html('Not enough data to show a graph: All papers are from the year ' + singleYear);\n        return;\n      }\n\n      var allX = [];\n      var allY = [];\n\n      _.each(data, function (group) {\n        _.each(group.values, function (entry) {\n          allX.push(entry.year);\n          allY.push(entry.amount);\n        });\n      });\n\n      allX = _.uniq(allX);\n      var margin = {\n        top: 20,\n        right: 80,\n        bottom: 30,\n        left: 50\n      };\n      var width = 960 - margin.left - margin.right;\n      var height = 500 - margin.top - margin.bottom;\n      var x = d3.scale.linear().range([0, width]);\n      var y = d3.scale.linear().range([height, 0]);\n      var xAxis = d3.svg.axis().scale(x).orient('bottom') // specify explicitly, otherwise can get repeats for some weird reason\n      .tickFormat(d3.format('0f')).ticks(5);\n\n      if (allX.length <= 10) {\n        xAxis.tickValues(allX);\n      }\n\n      var yAxis = d3.svg.axis().scale(y).tickFormat(d3.format('d')).orient('left');\n      var line = d3.svg.line().interpolate('bundle').x(function (d) {\n        return x(d.year);\n      }).y(function (d) {\n        return y(d.amount);\n      });\n      var svg = d3.select(this.$('svg')[0]).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom) // for svg copying by svg crowbar\n      .attr('style', 'font-family:helvetica,arial,san-serif').attr('id', 'network-viz-time-series').append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n      var color = d3.scale.ordinal().domain([0, 1, 2, 3, 4, 5, 6]).range(['hsla(282, 80%, 52%, 1)', 'hsla(1, 80%, 51%, 1)', 'hsla(42, 97%, 48%, 1)', 'hsla(152, 80%, 40%, 1)', 'hsla(193, 80%, 48%, 1)', 'hsla(220, 80%, 56%, 1)', 'hsla(250, 69%, 47%, 1)']);\n      x.domain(d3.extent(allX));\n      y.domain([0, _.max(allY)]);\n      svg.attr('aria-label', 'author network graph').append('g').attr('class', 'axis').attr('transform', 'translate(0,' + height + ')').call(xAxis);\n      svg.append('g').attr('class', 'axis').call(yAxis);\n      var groups = svg.selectAll('.group').data(data).enter().append('g').attr('class', 'group');\n      groups.append('path').attr('class', 'line').attr('d', function (d) {\n        return line(d.values);\n      }).style('stroke', function (d) {\n        return color(d.name);\n      });\n      groups.append('text').datum(function (d) {\n        return {\n          name: d.name,\n          value: d.values[d.values.length - 1]\n        };\n      }).attr('transform', function (d) {\n        return 'translate(' + x(d.value.year) + ',' + y(d.value.amount) + ')';\n      }).attr('x', 3).attr('dy', '.35em').text(function (d) {\n        return d.name + 1;\n      });\n\n      var oneYear = _.filter(data, function (d) {\n        if (d.values.length == 1) {\n          return true;\n        }\n      }); // hack to show groups with only one year (otherwise line has width 0)\n\n\n      svg.selectAll('.one-year').data(oneYear).enter().append('circle').classed('one-year', true).attr('r', 5).attr('cx', function (d) {\n        return x(d.values[0].year);\n      }).attr('cy', function (d) {\n        return y(d.values[0].amount);\n      }).attr('fill', function (d) {\n        return color(d.name);\n      });\n    }\n  });\n  var ContainerView = Marionette.ItemView.extend((_Marionette$ItemView$ = {\n    template: containerTemplate,\n    className: function className() {\n      var n = Marionette.getOption(this, 'networkType');\n      return 'network-widget s-network-widget ' + n;\n    },\n    serializeData: function serializeData(data) {\n      var n = Marionette.getOption(this, 'networkType');\n      n = n[0].toUpperCase() + n.slice(1);\n      return {\n        networkType: n,\n        helpText: Marionette.getOption(this, 'helpText')\n      };\n    },\n    ui: {\n      filterContainer: '.network-filter-container',\n      graphContainer: '.graph-container',\n      detailsContainerSelected: '.details-container #selected-item',\n      detailsContainerHome: '.details-container #home'\n    },\n    events: {\n      'click .load-author-network': 'forwardNewQueryRequest',\n      'click button.limit': 'addItem',\n      'click .submit-rows': 'changeRows',\n      'click .close': 'triggerClose',\n      'click .download': 'triggerDownload',\n      'click .filter-remove': function clickFilterRemove(e) {\n        if (Marionette.getOption(this, 'networkType') == 'paper') {\n          var name = this.graphModel.get('selectedEntity').__data__.data.node_name;\n\n          Marionette.getOption(this, 'filterCollection').remove({\n            id: name\n          }); // re-render detail sub view\n\n          this.graphView.showSelectedEntity(this.graphModel.get('selectedEntity'));\n        } else {\n          var name = this.graphModel.get('selectedEntity').__data__.name;\n\n          Marionette.getOption(this, 'filterCollection').remove({\n            id: name\n          }); // re-render detail sub view\n\n          this.showDetailView(this.graphModel.get('selectedEntity'));\n        }\n      },\n      'click .filter-add': function clickFilterAdd(e) {\n        if (Marionette.getOption(this, 'networkType') == 'paper') {\n          var name = this.graphModel.get('selectedEntity').__data__.data.node_name;\n\n          Marionette.getOption(this, 'filterCollection').add({\n            name: name\n          }); // re-render detail sub view\n\n          this.graphView.showSelectedEntity(this.graphModel.get('selectedEntity'));\n        } else {\n          var papers = [];\n\n          var data = this.graphModel.get('selectedEntity').__data__;\n\n          if (data.papers) {\n            // author\n            papers = data.papers;\n          } else {\n            // group\n            _.each(data.children, function (d) {\n              [].push.apply(papers, d.papers);\n            });\n          }\n\n          Marionette.getOption(this, 'filterCollection').add({\n            name: data.name,\n            papers: papers\n          }); // re-render detail sub view\n\n          this.showDetailView(this.graphModel.get('selectedEntity'));\n        }\n      }\n    },\n    modelEvents: {\n      change: 'render'\n    },\n    triggerClose: function triggerClose() {\n      this.$('.network-filter-container').empty();\n      this.$('.network-container').html(loadingTemplate);\n      this.trigger('close');\n    },\n    triggerDownload: function triggerDownload() {\n      this.trigger('download');\n    },\n    // user has requested author network for current author\n    forwardNewQueryRequest: function forwardNewQueryRequest(e) {\n      // show loading template\n      this.ui.graphContainer.html(loadingTemplate());\n      this.trigger('new-network-requested', $(e.target).data('query'));\n    },\n    changeRows: function changeRows(e) {\n      var num = parseInt(this.$('.network-rows').val());\n\n      if (_.isNumber(num)) {\n        var newVal = _.min([this.model.get('max'), num]);\n\n        if (this.model.get('userVal') === newVal) {\n          return false;\n        }\n\n        this.$('.network-container').html(loadingTemplate);\n        this.model.set('userVal', newVal);\n      }\n\n      return false;\n    }\n  }, _defineProperty(_Marionette$ItemView$, \"modelEvents\", {\n    'change:graphData': 'render',\n    'change:max': 'renderMetadata',\n    'change:current': 'renderMetadata'\n  }), _defineProperty(_Marionette$ItemView$, \"onRender\", function onRender() {\n    this.$('.title').html(this.model.get('title')); // append sub views\n\n    var graphViewToUse; // do nothing if there is no data\n\n    var cachedQ;\n\n    try {\n      cachedQ = this.model.get('cachedQuery').get('q')[0];\n    } catch (e) {// ignore, there will be no cached query\n    } // show loading view\n\n\n    if (this.model.get('loading')) {\n      this.$('.network-metadata').html('');\n      this.$('.network-container').html(loadingTemplate());\n      return;\n    }\n\n    if (!this.model.get('graphData') || _.isEmpty(this.model.get('graphData'))) {\n      this.$('.network-metadata').html('');\n      this.$('.network-container').html(notEnoughDataTemplate({\n        cachedQuery: cachedQ\n      }));\n      return;\n    } // it's a paper network with no summary info\n\n\n    if (!this.model.get('graphData').summaryGraph && !this.model.get('graphData').root) {\n      // maybe later show something if we just have the fullGraph\n      this.$('.network-metadata').html('');\n      this.$('.network-container').html(notEnoughDataTemplate({\n        cachedQuery: cachedQ\n      }));\n      return;\n    } // all the data the graph view will need\n\n\n    this.graphModel = new GraphModel({\n      graphData: this.model.get('graphData')\n    });\n    this.filterView = new FilterView({\n      collection: Marionette.getOption(this, 'filterCollection'),\n      networkType: Marionette.getOption(this, 'networkType')\n    });\n    this.listenTo(this.filterView, 'filter:initiated', function () {\n      // forward to controller\n      this.trigger('filter:initiated');\n    }); // can pass another view in if inheriting\n\n    graphViewToUse = this.options.graphView ? this.options.graphView : GraphView;\n    this.graphView = new graphViewToUse({\n      model: this.graphModel,\n      filterCollection: Marionette.getOption(this, 'filterCollection')\n    });\n    this.graphView.on('show-detail-view', _.bind(this.showDetailView, this));\n    this.ui.filterContainer.append(this.filterView.render().el);\n    this.ui.graphContainer.append(this.graphView.render().el);\n    this.ui.detailsContainerHome.append(new DefaultDetailsView({\n      graphData: this.model.get('graphData'),\n      query: this.model.get('query'),\n      networkType: Marionette.getOption(this, 'networkType'),\n      cachedQuery: cachedQ\n    }).render().el); // set the home tab as default\n\n    this.$(\".nav-tabs a[href='#home']\").tab('show');\n    this.$('.download').removeClass('hidden');\n    this.renderMetadata();\n  }), _defineProperty(_Marionette$ItemView$, \"showDetailView\", function showDetailView(selected) {\n    var d = selected.__data__;\n    selected = d3.select(selected); // there might not be a label because it might be a group\n\n    selected.select('.node-label').classed('selected-label', true); // but there should definitely be a path\n\n    selected.select('.node-path').classed('selected-node', true); // now, get the data\n\n    var allPapers = [];\n    var children;\n    var data = {};\n    var label;\n    var papers = [];\n    var graphData = this.model.get('graphData'); // author node\n\n    if (!d.children) {\n      papers = _.map(d.papers, function (bib) {\n        var paperDict = graphData.bibcode_dict[bib];\n        paperDict.bibcode = bib;\n\n        if (_.isArray(paperDict.title)) {\n          paperDict.title = paperDict.title[0];\n        }\n\n        return paperDict;\n      });\n      papers = _.sortBy(papers, function (p) {\n        return p.citation_count;\n      }).reverse(); // now find most recent year, and papers from that year\n\n      var mostRecentYear = _.chain(papers).pluck('bibcode').sortBy(function (bibcode) {\n        return bibcode.slice(0, 4);\n      }).value().reverse()[0].slice(0, 4);\n\n      data.bibcodes = d.papers;\n      data.mostRecentYear = mostRecentYear;\n      data.papers = papers;\n      data.total = papers.length;\n      data.name = d.name;\n      data.groupColor = d.parent.color;\n      data.inFilter = !!Marionette.getOption(this, 'filterCollection').get(d.name); // make the query that will be issued when user clicks \"view network for this person\"\n\n      data.dataQuery = 'author:\"' + d.name + '\"';\n      this.ui.detailsContainerSelected.empty().append(authorDetailsTemplate(data)); // group node\n    } else {\n      children = d.children;\n\n      _.each(children, function (c) {\n        Array.prototype.push.apply(allPapers, c.papers);\n      }); // now find most recent year\n\n\n      var mostRecentYear = _.sortBy(allPapers, function (bibcode) {\n        return bibcode.slice(0, 4);\n      }).reverse()[0].slice(0, 4);\n\n      allPapers = _.pairs(_.countBy(allPapers));\n      /*\n       * compare three variables to get a final score : number of authors in the group,\n       * percent authors in the group, and total number of citations\n       * */\n\n      var numAuthors = _.chain(allPapers).map(function (a) {\n        return a[1];\n      }).sortBy(function (x) {\n        return x;\n      }).value();\n\n      var percentAuthors = _.chain(allPapers).map(function (a) {\n        return a[1] / graphData.bibcode_dict[a[0]].authors.length;\n      }).sortBy(function (x) {\n        return x;\n      }).value();\n\n      var numCitations = _.chain(allPapers).map(function (a) {\n        return graphData.bibcode_dict[a[0]].citation_count / graphData.bibcode_dict[a[0]].authors.length;\n      }).sortBy(function (x) {\n        return x;\n      }).value();\n\n      allPapers = _.sortBy(allPapers, function (list) {\n        // percent of authors that are members of this group\n        return (list[1] - numAuthors[0]) / (numAuthors[numAuthors.length - 1] - numAuthors[0]) * (list[1] / graphData.bibcode_dict[list[0]].authors.length - percentAuthors[0]) / (percentAuthors[percentAuthors.length - 1] - percentAuthors[0]) * (graphData.bibcode_dict[list[0]].citation_count / graphData.bibcode_dict[list[0]].authors.length - numCitations[0]) / (numCitations[numCitations.length - 1] - numCitations[0]);\n      }).reverse();\n      bibcodes = _.map(allPapers, function (l) {\n        return l[0];\n      });\n      papers = _.map(bibcodes, function (b, i) {\n        var d = {};\n        d.bibcode = b;\n        d.title = graphData.bibcode_dict[b].title;\n        d.citation_count = graphData.bibcode_dict[b].citation_count;\n        d.numAuthors = allPapers[i][1];\n        return d;\n      });\n      data.bibcodes = bibcodes;\n      data.papers = papers;\n      data.groupColor = d.color;\n      data.total = allPapers.length;\n      data.mostRecentYear = mostRecentYear;\n      data.name = d.name;\n      data.inFilter = !!Marionette.getOption(this, 'filterCollection').get(d.name);\n      this.ui.detailsContainerSelected.empty().append(groupDetailsTemplate(data));\n    } // set the selected details tab as default\n\n\n    this.$(\".nav-tabs a[href='#selected-item']\").tab('show');\n  }), _defineProperty(_Marionette$ItemView$, \"renderMetadata\", function renderMetadata() {\n    var data = {};\n    data.max = this.model.get('max');\n    data.current = this.model.get('current');\n    this.$('.network-metadata').html(metadataTemplate(data));\n  }), _Marionette$ItemView$));\n  var ContainerModel = UserChangeMixin.Model.extend({\n    initialize: function initialize(opts) {\n      var options = opts || {};\n      this.on('newMetadata', function () {\n        this.updateCurrent();\n        this.updateMax();\n      });\n\n      if (!options.widgetName) {\n        throw new Error('need to configure with widget name so we can get limit/default info from api_targets._limits');\n      }\n\n      var defaults = {\n        graphData: {},\n        rows: undefined,\n        numFound: undefined,\n        current: undefined,\n        // current max\n        max: undefined,\n        // when this changes, make a new request\n        userVal: undefined,\n        // keep record of former query so user can return\n        cachedQuery: undefined,\n        loading: true\n      };\n\n      _.extend(defaults, ApiTargets._limits[options.widgetName], options.title);\n\n      this.defaults = function () {\n        return defaults;\n      };\n\n      this.set(this.defaults());\n    }\n  });\n  var GraphView = Marionette.ItemView.extend({\n    initialize: function initialize(options) {\n      // listen to filter collection in order to re-render current view\n      this.listenTo(options.filterCollection, 'reset', this.showSelectedEntity);\n    },\n    template: graphContainerTemplate,\n    events: {\n      'change input[name=mode]': function changeInputNameMode(e) {\n        this.model.set('mode', e.target.value);\n      },\n      'change input[name=show-link]': function changeInputNameShowLink(e) {\n        this.model.set('linkLayer', e.target.checked);\n      }\n    },\n    modelEvents: {\n      'change:graphData': 'renderGraph',\n      'change:selectedEntity': 'showSelectedEntity',\n      'change:linkLayer': 'changeLinkLayer',\n      'change:mode': 'changeMode'\n    },\n    onRender: function onRender() {\n      if (this.model.get('graphData')) {\n        this.renderGraph();\n      }\n    },\n\n    /* functions to render the graph and overlay */\n    getConfig: function getConfig() {\n      // hold static config variables here\n      this.config = {\n        numberOfLabelsToShow: 100,\n        width: 900,\n        height: 900,\n        noGroupColor: '#a6a6a6'\n      };\n      this.config.radius = Math.min(this.config.width, this.config.height) / 3;\n    },\n    // /   for items generated over the course of regular d3 functions that might be useful later\n    cachedVals: {\n      partition: undefined,\n      line: undefined,\n      computeLabelPosition: undefined,\n      svg: undefined,\n      arc: undefined\n    },\n    renderGraph: function renderGraph() {\n      var graphData = this.model.get('graphData');\n      var that = this;\n      this.cachedVals.svg = d3.select(this.$('svg')[0]);\n      this.getConfig(); // creating all the scales that this and other functions need\n\n      this.customizeScales(graphData); // some functions to be used below\n      // stash the old values for transition.\n\n      function stash(d) {\n        d.x0 = d.x;\n        d.dx0 = d.dx;\n      }\n\n      function computeLabelPosition(d) {\n        var angle = (d.x + d.x + d.dx) / 2 * 180 / Math.PI - 90;\n        var t = parseInt(that.config.radius) + 10;\n        var flip = angle > 90 ? 180 : 0;\n\n        if (flip) {\n          d3.select(this).attr('text-anchor', 'end');\n        } else {\n          d3.select(this).attr('text-anchor', 'start');\n        }\n\n        return 'rotate(' + angle + ')translate(' + t + ')rotate(' + flip + ')';\n      }\n\n      this.cachedVals.computeLabelPosition = computeLabelPosition; // append the groups containing the paths and the text labels\n\n      var svg = that.cachedVals.svg.attr('width', that.config.width).attr('height', that.config.height).append('g').classed('network-g', true);\n      var g2 = svg.append('g').classed('real-container-of-stuff', true); // zoom behavior\n\n      var zoom = d3.behavior.zoom().scaleExtent([0.7, 3]).on('zoom', zoomed);\n\n      function zoomed() {\n        g2.attr('transform', 'translate(' + d3.event.translate + ')scale(' + d3.event.scale + ')');\n      }\n\n      svg.call(zoom);\n      svg.on('dblclick.zoom', null);\n      svg.attr('transform', 'translate(' + that.config.width / 2 + ',' + that.config.height / 2.1 + ')');\n      var partition = d3.layout.partition().value(function (d) {\n        return d.size;\n      }).size([2 * Math.PI, that.config.radius * that.config.radius]).sort(function (a, b) {\n        return b.value - a.value;\n      });\n      this.cachedVals.partition = partition;\n      var arc = d3.svg.arc().startAngle(function (d) {\n        return d.x;\n      }).endAngle(function (d) {\n        return d.x + d.dx;\n      }).innerRadius(function (d) {\n        if (d.depth == 1) {\n          return Math.sqrt(d.y) + 40;\n        }\n\n        return Math.sqrt(d.y);\n      }).outerRadius(function (d) {\n        return Math.sqrt(d.y + d.dy);\n      });\n      this.cachedVals.arc = arc; // for mouse interaction\n      // otherwise there is a weird hollow space between center and the colored sections\n\n      g2.append('circle').attr('r', that.config.radius).attr('fill', '#fff').style('cursor', 'move');\n      var containers = g2.selectAll('g').data(partition.nodes(graphData.root)).enter().append('g').classed('node-containers', true) // cache sort value\n      .each(function (d) {\n        d.sortVal = d.value;\n      });\n      var colorDict = {};\n      var path = containers.append('path').attr('d', arc).classed('node-path', function (d) {\n        if (d.depth == 0) {\n          return false;\n        }\n\n        return true;\n      }).style('cursor', function (d) {\n        if (d.depth == 0) return 'move';\n      }).style('fill', function (d) {\n        if (d.depth == 0) {\n          return 'white';\n        }\n\n        if (d.depth == 1) {\n          var index = d.parent.children.indexOf(d);\n\n          if (index < 7) {\n            d.color = that.scales.color(index);\n            colorDict[d.name] = d.color;\n            return d.color;\n          }\n\n          return that.config.noGroupColor;\n        }\n\n        if (d.depth == 2) {\n          // child nodes\n          if (!d.parent.color) {\n            return that.config.noGroupColor;\n          }\n\n          return d.parent.color;\n        }\n      }).each(stash); // now taking care of labels\n\n      containers.filter(function (d) {\n        return !d.children;\n      }).classed('author-node', true).append('text').text(function (d) {\n        return d.name;\n      }).classed('node-label', true).on('mouseover', function (d) {\n        // only show link stuff if link layer is active\n        if (!that.model.get('linkLayer')) {\n          return;\n        }\n\n        var thisD = d; // get all links, add selected link class\n\n        d3.selectAll('.link').filter(function (d) {\n          if (d[0] == thisD || d[d.length - 1] == thisD) {\n            return true;\n          }\n        }).classed('selected-link', true); // add linked label class to nodes connected by a link\n\n        d3.selectAll('.link').each(function (linkD) {\n          if (linkD[0] == thisD) {\n            d3.selectAll('.node-label').filter(function (d) {\n              return d.name == linkD[linkD.length - 1].name;\n            }).classed('linked-label', true);\n          } else if (linkD[linkD.length - 1] == thisD) {\n            d3.selectAll('.node-label').filter(function (d) {\n              return d.name == linkD[0].name;\n            }).classed('linked-label', true);\n          }\n        });\n      }).on('mouseout', function () {\n        d3.selectAll('.link').classed('selected-link', false);\n        d3.selectAll('.node-label').classed('linked-label', false);\n      }).attr('font-size', function (d) {\n        return that.scales.occurrencesFontScale(d.size) + 'px';\n      }).attr('transform', computeLabelPosition); // append connector nodes if possible\n\n      _.each(graphData.root.name, function (n, i) {\n        g2.append('text').classed('s-connector-node', true).attr('y', function () {\n          return i * 25 - graphData.root.name.length * 25 / 2;\n        }).text(n.nodeName);\n      }); // attach event listeners\n\n\n      containers.on('click', function (d, i) {\n        // ignore top-level node\n        if (d.depth == 0) {\n          return;\n        } // prevent interaction when link layer is active\n\n\n        if (that.model.get('linkLayer')) {\n          return;\n        } // could be a label or a path that was clicked\n        // within the group\n\n\n        if (that.model.get('selectedEntity') === this) {\n          that.model.set('selectedEntity', null);\n        } else {\n          that.model.set('selectedEntity', this);\n        }\n      }); // render the link layer\n\n      this.renderLinkLayer();\n    },\n    renderLinkLayer: function renderLinkLayer() {\n      var that = this;\n      svg = d3.select(that.$('.real-container-of-stuff')[0]), tooltip = d3.select(that.$('.d3-tooltip')[0]), bibDict = this.model.get('graphData').bibcode_dict;\n      var links;\n      var bundle;\n      var line;\n      var linkContainer;\n      links = _.map(that.model.get('graphData').link_data, function (l) {\n        var linkData = {};\n        linkData.source = svg.selectAll('.node-path').filter(function (d) {\n          return d.numberName == l[0];\n        })[0][0].__data__;\n        linkData.target = svg.selectAll('.node-path').filter(function (d) {\n          return d.numberName == l[1];\n        })[0][0].__data__;\n        linkData.weight = l[2];\n        return linkData;\n      });\n      bundle = d3.layout.bundle();\n      line = d3.svg.line.radial().interpolate('bundle').tension(0.9).radius(function (d) {\n        return Math.sqrt(d.y + d.dy);\n      }).angle(function (d) {\n        // UGH IT WANTS RADIANS NOT DEGREES BLAAKSKDKDK\n        return (d.x + d.x + d.dx) / 2;\n      }); // cache for event handlers\n\n      this.cachedVals.line = line;\n      linkContainer = svg.append('g').classed('link-container', true);\n      linkContainer.append('circle').attr('r', that.config.radius).classed('link-background', true);\n      linkContainer.selectAll('.link').data(bundle(links)).enter().append('path').attr('class', 'link').attr('d', function (d) {\n        return line(d);\n      }).attr('stroke-width', function (d) {\n        // get link weight\n        var weight = _.filter(links, function (l) {\n          return l.source == d[0] && l.target == d[d.length - 1] || l.target == d[0] && l.source == d[d.length - 1];\n        })[0].weight;\n\n        return that.scales.linkScale(weight);\n      });\n    },\n    customizeScales: function customizeScales(graphData) {\n      // scales and a few other variables to share\n      this.scales = {};\n      this.scales.color = d3.scale.ordinal().domain([0, 1, 2, 3, 4, 5, 6]).range(['hsla(282, 60%, 52%, 1)', 'hsla(349, 61%, 47%, 1)', 'hsla(26, 95%, 67%, 1)', 'hsla(152, 60%, 40%, 1)', 'hsla(193, 64%, 61%, 1)', 'hsla(220, 70%, 56%, 1)', 'hsla(250, 50%, 47%, 1)']);\n      var sizes = [];\n      var citation_counts = [];\n      var read_counts = [];\n\n      _.each(graphData.root.children, function (group) {\n        _.each(group.children, function (c) {\n          sizes.push(c.size);\n          citation_counts.push(c.citation_count);\n          read_counts.push(c.read_count);\n        });\n      });\n\n      citation_counts = _.sortBy(citation_counts, function (c) {\n        return c;\n      }).reverse();\n      read_counts = _.sortBy(read_counts, function (r) {\n        return r;\n      }).reverse(); // when the ring sizing is by citation, how many labels should be shown?\n\n      this.scales.citationLimit = citation_counts[this.config.numberOfLabelsToShow] || citation_counts[citation_counts.length - 1]; // when the ring sizing is by reads, how many labels should be shown?\n\n      this.scales.readLimit = read_counts[this.config.numberOfLabelsToShow] || read_counts[read_counts.length - 1];\n      this.scales.occurrencesFontScale = d3.scale.log().domain([d3.min(sizes), d3.max(sizes)]).range([8, 20]);\n      this.scales.citationFontScale = d3.scale.linear().domain([d3.min(citation_counts), d3.max(citation_counts)]).range([8, 20]);\n      this.scales.readFontScale = d3.scale.linear().domain([d3.min(read_counts), d3.max(read_counts)]).range([8, 20]); // link scale\n\n      var weights = _.map(graphData.link_data, function (l) {\n        return l[2];\n      });\n\n      this.scales.linkScale = d3.scale.pow().exponent(8).domain([d3.min(weights), d3.max(weights)]).range([0.5, 3.5]);\n    },\n\n    /* functions to deal with user interaction */\n    showSelectedEntity: function showSelectedEntity() {\n      var selected = this.model.get('selectedEntity');\n      var that = this;\n      var $div = that.$('.network-detail-area');\n      this.cachedVals.svg.selectAll('.node-path').classed('selected-node', false);\n      this.cachedVals.svg.selectAll('.node-label').classed('selected-label', false);\n      $div.empty();\n\n      if (!selected) {\n        return;\n      }\n\n      this.trigger('show-detail-view', selected);\n    },\n    changeLinkLayer: function changeLinkLayer(model, val) {\n      if (val) {\n        this.model.set('cachedEntity', this.model.get('selectedEntity'));\n        this.model.set('selectedEntity', undefined); // show link layer\n\n        var interval;\n        d3.select(this.$('.link-container')[0]).style('display', 'block').selectAll('.link').call(function (selection) {\n          interval = 3000 / selection[0].length;\n        }).sort(function (d) {\n          return d.weight;\n        }).style('display', 'block');\n      } else {\n        // hide it\n        this.model.set('selectedEntity', this.model.get('cachedEntity'));\n        d3.select(this.$('.link-container')[0]).style('display', 'none');\n      }\n    },\n    changeMode: function changeMode(model, currentVal) {\n      var that = this;\n\n      function value(d) {\n        return d[currentVal];\n      } // Interpolate the arcs in data space.\n\n\n      function arcTween(a) {\n        var i = d3.interpolate({\n          x: a.x0,\n          dx: a.dx0\n        }, a);\n        return function (t) {\n          var b = i(t);\n          a.x0 = b.x;\n          a.dx0 = b.dx;\n          return that.cachedVals.arc(b);\n        };\n      }\n\n      var containers = that.cachedVals.svg.selectAll('.node-containers');\n      var data = that.cachedVals.partition.sort(function (a, b) {\n        return b.sortVal - a.sortVal;\n      }).value(value).nodes(that.model.get('graphData').root);\n      containers.data(data, function (d) {\n        return d.name;\n      }).selectAll('path').transition().duration(1500).attrTween('d', arcTween);\n      containers.selectAll('text').attr('opacity', '0').attr('display', function (d) {\n        if (currentVal == 'size') {\n          return 'block';\n        }\n\n        if (currentVal == 'citation_count' && d.citation_count > that.scales.citationLimit) {\n          return 'block';\n        }\n\n        if (currentVal == 'read_count' && d.read_count > that.scales.readLimit) {\n          return 'block';\n        }\n\n        return 'none';\n      }).attr('font-size', function (d) {\n        if (currentVal == 'size') {\n          return that.scales.occurrencesFontScale(d.size) + 'px';\n        }\n\n        if (currentVal == 'citation_count') {\n          return that.scales.citationFontScale(d.citation_count) + 'px';\n        }\n\n        if (currentVal == 'read_count') {\n          return that.scales.readFontScale(d.read_count) + 'px';\n        }\n      }).attr('transform', that.cachedVals.computeLabelPosition).transition().duration(1500).attr('opacity', 1);\n      d3.selectAll('.link').transition().duration(1500).attr('d', function (d) {\n        return that.cachedVals.line(d);\n      });\n    }\n  });\n  var GraphModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        // data from the api\n        graphData: {},\n        // keep track of selection state\n        selectedEntity: undefined,\n        cachedEntity: undefined,\n        query: undefined,\n        linkLayer: false,\n        mode: 'occurrences'\n      };\n    }\n  });\n  var NetworkWidget = BaseWidget.extend({\n    initialize: function initialize(options) {\n      if (!options.endpoint) {\n        throw new Error('widget was not configured with an endpoint');\n      }\n\n      if (options.broadcastFilteredQuery) {\n        this.broadcastFilteredQuery = options.broadcastFilteredQuery;\n      }\n\n      this.model = new ContainerModel({\n        widgetName: options.widgetName || 'AuthorNetwork',\n        title: options.networkType.charAt(0).toUpperCase() + options.networkType.slice(1) + ' Network'\n      });\n      this.listenTo(this.model, 'change:userVal', this.requestDifferentRows);\n      this.filterCollection = new FilterCollection();\n      this.view = new ContainerView({\n        graphView: options.graphView,\n        model: this.model,\n        filterCollection: this.filterCollection,\n        networkType: options.networkType,\n        helpText: options.helpText,\n        graphMixin: options.graphMixin,\n        showDetailGraphView: options.showDetailGraphView\n      });\n      this.listenTo(this.view, 'new-network-requested', this.requestDifferentQuery);\n      this.listenTo(this.view, 'filter:initiated', this.broadcastFilteredQuery);\n      this.listenTo(this.view, 'close', this.broadcastClose);\n      this.listenTo(this.view, 'download', this.download);\n      this.widgetName = 'visualization_' + options.networkType;\n      this.queryUpdater = new ApiQueryUpdater(this.widgetName);\n    },\n    download: function download() {\n      var output = 'data:text/csv;charset=utf-8,';\n      var filename = 'author-network.csv';\n\n      if (this.model.get('widgetName') === 'AuthorNetwork') {\n        var root = this.model.get('graphData').root;\n        output += 'group, author, papers, citation count, download count\\n';\n        root.children.forEach(function (group) {\n          var groupName = group.name;\n          group.children.forEach(function (author) {\n            output += \"\".concat(groupName, \",\\\"\").concat(author.name, \"\\\",\\\"\").concat(author.papers.join(','), \"\\\",\").concat(author.citation_count, \",\").concat(author.read_count, \"\\n\");\n          });\n        });\n      } else if (this.model.get('widgetName') === 'PaperNetwork') {\n        filename = 'papers-network.csv';\n        var data = this.model.get('graphData').summaryGraph.nodes;\n        data.sort(function (e1, e2) {\n          if (e1.node_name === e2.node_name) {\n            return 0;\n          }\n\n          return e1.node_name < e2.node_name ? -1 : 1;\n        });\n        output += 'group,label,paper_count,top_references,citations,download count\\n';\n        data.forEach(function (row) {\n          output += \"\\\"\".concat(row.node_name, \"\\\",\\\"\").concat(Object.keys(row.node_label).join(','), \"\\\",\\\"\").concat(row.paper_count, \"\\\",\\\"\").concat(Object.keys(row.top_common_references).join(','), \"\\\",\\\"\").concat(row.total_citations, \"\\\",\\\"\").concat(row.total_reads, \"\\\"\\n\");\n        });\n      }\n\n      var encodedUri = encodeURI(output);\n      var link = document.getElementById('download-link');\n      link.setAttribute('download', filename);\n      link.setAttribute('href', encodedUri);\n      link.click();\n    },\n    generateApiRequest: function generateApiRequest(query) {\n      return new ApiRequest({\n        target: Marionette.getOption(this, 'endpoint'),\n        query: new ApiQuery({\n          query: JSON.stringify(query.toJSON())\n        }),\n        options: {\n          type: 'POST',\n          contentType: 'application/json'\n        }\n      });\n    },\n    // when a user requests a different number of documents\n    requestDifferentRows: function requestDifferentRows(model, rows) {\n      var query = this.getCurrentQuery().clone();\n      query.unlock();\n      query.set('rows', this.model.get('userVal'));\n      query.unset('hl');\n      query.unset('hl.fl');\n      var request = this.generateApiRequest(query);\n      this.getPubSub().publish(this.getPubSub().EXECUTE_REQUEST, request);\n    },\n    // allows you to view network for another author\n    requestDifferentQuery: function requestDifferentQuery(newQuery) {\n      // cache the current query\n      this.model.set('cachedQuery', this.getCurrentQuery()); // make a new query, otherwise facet parameters remain\n\n      var query = new ApiQuery();\n      query.set('q', newQuery);\n      query.set('rows', this.model.get('default')); // default setting sort to \"date desc\" since that is presumably what users will be used to\n      // this isn't perfect (it might override the original query's sorted value)\n      // but probably no one will notice\n\n      query.set('sort', 'date desc');\n      var request = this.generateApiRequest(query); // update the current widget query\n\n      this.setCurrentQuery(query);\n      this.getPubSub().publish(this.getPubSub().EXECUTE_REQUEST, request);\n    },\n    activate: function activate(beehive) {\n      this.setBeeHive(beehive);\n\n      _.bindAll(this, 'setOriginalQuery', 'processResponse');\n\n      var pubsub = this.getPubSub(); // custom dispatchRequest function goes here\n\n      pubsub.subscribe(pubsub.INVITING_REQUEST, this.setOriginalQuery); // custom handleResponse function goes here\n\n      pubsub.subscribe(pubsub.DELIVERING_RESPONSE, this.processResponse); // on initialization, store the current query\n\n      if (this.getBeeHive().getObject('AppStorage')) {\n        this.setOriginalQuery(this.getBeeHive().getObject('AppStorage').getCurrentQuery());\n      }\n\n      this.activateWidget();\n      this.attachGeneralHandler(this.onApiFeedback);\n    },\n    onApiFeedback: function onApiFeedback(feedback) {\n      if (feedback.error) {\n        var self = this; // on error, wait a small timeout and then exit\n\n        setTimeout(function () {\n          self.broadcastClose();\n        }, 1000);\n      }\n    },\n    // cache this so that the \"broadcastFilteredResponse\" still works even if user is looking at a\n    // different network\n    setOriginalQuery: function setOriginalQuery(query) {\n      // clear the \"cachedQuery\" because it's a new search cycle\n      this.model.set('cachedQuery', undefined);\n      this._originalQuery = query;\n      this.setCurrentQuery(query);\n    },\n    getOriginalQuery: function getOriginalQuery() {\n      return this._originalQuery;\n    },\n    // empty all data\n    // this will show the loading view by default\n    // until new data comes in\n    resetWidget: function resetWidget() {\n      // close graphView\n      if (this.view && this.view.graphView) {\n        this.view.$('.network-metadata').empty();\n        this.view.graphView.$el.empty();\n        this.view.graphView.stopListening();\n      }\n\n      this.filterCollection.reset(null, {\n        silent: true\n      }); // reset model\n\n      this.model.set(_.result(this.model, 'defaults'), {\n        silent: true\n      });\n    },\n    // for now, called to show vis for library\n    // and for bigquery\n    renderWidgetForListOfBibcodes: function renderWidgetForListOfBibcodes(bibcodes) {\n      // so the earlier state of the widget is not preserved\n      this.resetWidget(); // force a reset even if the data is the same\n      // so the earlier state of the widget is not preserved\n\n      this.model.set({\n        graphData: {},\n        loading: true\n      });\n      var request = new ApiRequest({\n        target: Marionette.getOption(this, 'endpoint'),\n        query: new ApiQuery({\n          // endpoint caps at 1000\n          bibcodes: bibcodes.slice(0, 1000)\n        }),\n        options: {\n          type: 'POST',\n          contentType: 'application/json'\n        }\n      });\n      this.getPubSub().publish(this.getPubSub().EXECUTE_REQUEST, request);\n    },\n    // fetch data\n    renderWidgetForCurrentQuery: function renderWidgetForCurrentQuery() {\n      // force a reset even if the data is the same\n      // so the earlier state of the widget is not preserved\n      this.resetWidget();\n      var query = this.getCurrentQuery().clone();\n      query.unlock(); // if it's a bigquery, we need the bibcodes first\n\n      if (query.get('__qid')) {\n        query.set('fl', 'bibcode'); // limit is 1000\n\n        query.set('rows', '1000');\n        var request = this.composeRequest(query);\n        this.getPubSub().publish(this.getPubSub().DELIVERING_REQUEST, request);\n      } else {\n        query.set('rows', this.model.get('default'));\n        query.unset('hl');\n        query.unset('hl.fl');\n        var request = this.generateApiRequest(query);\n        this.getPubSub().publish(this.getPubSub().EXECUTE_REQUEST, request);\n      }\n    },\n    processResponse: function processResponse(jsonResponse) {\n      try {\n        // it's a bigquery response with bibcodes, now request the vis data\n        var qid = jsonResponse.get('responseHeader.params.__qid');\n        this.renderWidgetForListOfBibcodes(jsonResponse.get('response').docs.map(function (b) {\n          return b.bibcode;\n        }));\n      } catch (e) {\n        // it's from the network endpoint, loading is done\n        var data = jsonResponse.toJSON(); // let container view know how many bibcodes we have\n\n        this.model.set({\n          graphData: data.data,\n          numFound: parseInt(data.msg.numFound),\n          rows: parseInt(data.msg.rows),\n          query: jsonResponse.getApiQuery().get('q'),\n          loading: false\n        }); // so there is a one time render event\n\n        this.model.trigger('newMetadata');\n      }\n    },\n    // filter the original query\n    broadcastFilteredQuery: function broadcastFilteredQuery() {\n      var allBibs = _.flatten(this.filterCollection.pluck('papers'));\n\n      this.resetWidget();\n      var ps = this.getPubSub();\n      ps.publish(ps.CUSTOM_EVENT, 'second-order-search/limit', {\n        ids: allBibs\n      });\n    },\n    broadcastClose: function broadcastClose() {\n      this.resetWidget();\n      this.getPubSub().publish(this.getPubSub().NAVIGATE, 'results-page');\n    },\n    testing: {\n      detailView: DefaultDetailsView\n    }\n  });\n  return NetworkWidget;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/network_widget.js?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/author-details-template.html":
/*!***************************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/author-details-template.html ***!
  \***************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <button class=\\\"btn btn-sm  btn-default filter-remove\\\">\\n      <i class=\\\"s-filter-image\\\"></i>remove from filter\\n    </button>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"    <button class=\\\"btn btn-sm btn-default filter-add\\\">\\n      <i class=\\\"s-filter-image\\\"></i> add to filter\\n    </button>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li>\\n      <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"bibcode\") || (depth0 != null ? lookupProperty(depth0,\"bibcode\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"bibcode\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":20},\"end\":{\"line\":29,\"column\":31}}}) : helper)))\n    + \"\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\"\\n        ><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":12},\"end\":{\"line\":30,\"column\":21}}}) : helper)))\n    + \"</b></a\\n      >\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.program(8, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":32,\"column\":6},\"end\":{\"line\":36,\"column\":13}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"numAuthors\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":36,\"column\":14},\"end\":{\"line\":38,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </li>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <small> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"citation_count\") || (depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"citation_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":14},\"end\":{\"line\":33,\"column\":32}}}) : helper)))\n    + \" citations</small>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"      <small>no citations</small>\\n      \";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n      <small>(\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"numAuthors\") || (depth0 != null ? lookupProperty(depth0,\"numAuthors\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"numAuthors\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":14},\"end\":{\"line\":37,\"column\":28}}}) : helper)))\n    + \" authors from this group)</small>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"author-detail-header print-hidden\\\">\\n  <div style=\\\"border-bottom:4px solid \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"groupColor\") || (depth0 != null ? lookupProperty(depth0,\"groupColor\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"groupColor\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":38},\"end\":{\"line\":2,\"column\":52}}}) : helper)))\n    + \"\\\">\\n    <h4>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":8},\"end\":{\"line\":3,\"column\":16}}}) : helper)))\n    + \"</h4>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"inFilter\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":12,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n  <div>\\n    Total Papers: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"total\") || (depth0 != null ? lookupProperty(depth0,\"total\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"total\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":18},\"end\":{\"line\":15,\"column\":27}}}) : helper)))\n    + \" Most recent Paper: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"mostRecentYear\") || (depth0 != null ? lookupProperty(depth0,\"mostRecentYear\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"mostRecentYear\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":47},\"end\":{\"line\":15,\"column\":65}}}) : helper)))\n    + \"\\n  </div>\\n  <button\\n    class=\\\"btn btn-default load-author-network\\\"\\n    data-query=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"dataQuery\") || (depth0 != null ? lookupProperty(depth0,\"dataQuery\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"dataQuery\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":16},\"end\":{\"line\":19,\"column\":29}}}) : helper)))\n    + \"\\\"\\n  >\\n    View author network for this author\\n  </button>\\n</div>\\n<div class=\\\"paper-description\\\">\\n  <h5>Papers by this author</h5>\\n  <ul class=\\\"list-unstyled\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"papers\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":4},\"end\":{\"line\":40,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"  </ul>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/author-details-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/container-template.html":
/*!**********************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/container-template.html ***!
  \**********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container-fluid\\\">\\n<div class=\\\"row s-control-row\\\">\\n    <div class=\\\"col-xs-12 s-explore-close-container\\\">\\n        <div class=\\\"s-large-close close-widget close\\\">x</div>\\n    </div>\\n    <header class=\\\"s-network-title\\\">\\n        <h3 class=\\\"title\\\"></h3>\\n        <button class=\\\"btn btn-link download s-download hidden\\\">\\n            <i class=\\\"fa fa-download fa-2x\\\" aria-hidden=\\\"true\\\" title=\\\"download data in csv\\\"></i>\\n            <span class=\\\"sr-only\\\">download data in csv</span>\\n        </button>\\n    </header>\\n    <div class=\\\"col-xs-12 col-sm-6\\\">\\n        <div class=\\\"network-metadata s-network-metadata\\\"></div>\\n    </div>\\n    <div class=\\\"col-xs-12 col-sm-6\\\">\\n        <div class=\\\"network-filter-container s-network-filter-container\\\"></div>\\n    </div>\\n</div>\\n     <div class=\\\"network-container s-network-container row\\\">\\n         <div class=\\\"col-md-7 graph-container\\\">\\n\\n         </div>\\n         <div class=\\\"col-md-5 details-container\\\">\\n\\n             <!--tabs-->\\n\\n             <div role=\\\"tabpanel\\\">\\n\\n                 <!-- Nav tabs -->\\n                 <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\n                     <li role=\\\"presentation\\\" class=\\\"active\\\"><a href=\\\"#home\\\" aria-controls=\\\"home\\\" role=\\\"tab\\\" data-toggle=\\\"tab\\\">Summary</a></li>\\n                     <li role=\\\"presentation\\\"><a href=\\\"#selected-item\\\" aria-controls=\\\"profile\\\" role=\\\"tab\\\" data-toggle=\\\"tab\\\">Detail </a></li>\\n                 </ul>\\n\\n                 <!-- Tab panes -->\\n                 <div class=\\\"tab-content\\\">\\n                     <div role=\\\"tabpanel\\\" class=\\\"tab-pane active\\\" id=\\\"home\\\"></div>\\n                     <div role=\\\"tabpanel\\\" class=\\\"tab-pane\\\" id=\\\"selected-item\\\">\\n                         <br/>\\n                         <br/>\\n                         <b>No item selected</b>\\n                         <p> Click on a section in the visualization on the left to see the papers\\n                         associated with an author or group of authors.</p>\\n                     </div>\\n\\n                 </div>\\n\\n             </div>\\n\\n\\n\\n         </div>\\n\\n     </div>\\n </div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/container-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/default-details-template.html":
/*!****************************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/default-details-template.html ***!
  \****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h3><span class=\\\"s-light-font\\\">Author Network</span></h3>\\n\\n<p>This network visualization finds groups of authors within your search results.\\n    You can click on the segments to view the papers connected with a group or a particular author.\\n</p>\\n\\n<h5>Group Activity Over Time (measured in papers published)</h5>\\n <div class=\\\"time-series-container\\\">\\n <svg viewBox=\\\"0 0 960 500\\\" id=\\\"network-viz-time-series\\\"></svg>\\n </div>\\n\\n<br/>\\n<div>\\n    <a href=\\\"/help/actions/visualize#author-network\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\">Learn more about the author network.</a>\\n</div>\\n\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"cachedQuery\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":0},\"end\":{\"line\":32,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"\\n\\n\\n\\n</div>\\n\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<button class=\\\"btn btn-default load-author-network\\\" data-query=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cachedQuery\") || (depth0 != null ? lookupProperty(depth0,\"cachedQuery\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cachedQuery\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":64},\"end\":{\"line\":20,\"column\":79}}}) : helper)))\n    + \"\\\">\\n    <i class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i>\\n    Go back to previous author network (\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cachedQuery\") || (depth0 != null ? lookupProperty(depth0,\"cachedQuery\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cachedQuery\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":40},\"end\":{\"line\":22,\"column\":55}}}) : helper)))\n    + \")\\n</button>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"<!--only show this for first time view of network-->\\n\\n<p>If you are interested in seeing the author network for another author, you can do that directly\\n    by clicking on the author in the ring visualization, then clicking the button at the top.</p>\\n\\n<p>You can zoom and drag the visualization to reposition it.</p>\\n\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h3><span class=\\\"s-light-font\\\">Paper Network for Query</span> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"currentQuery\") || (depth0 != null ? lookupProperty(depth0,\"currentQuery\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"currentQuery\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":43,\"column\":62},\"end\":{\"line\":43,\"column\":78}}}) : helper)))\n    + \"</h3>\\n\\n<p>The segments of the visualization to the left represent groups of papers from your result set which cite similar papers. </p>\\n\\n<h5>Group Activity Over Time (measured in papers published)</h5>\\n<div class=\\\"time-series-container\\\">\\n    <svg id=\\\"network-chart-main-visualization\\\" viewBox=\\\"0 0 960 500\\\"></svg>\\n</div>\\n\\n<br/>\\n<p>Click on a group to learn more about the papers within the group, as well as the papers cited by those papers.</p>\\n<a href=\\\"/help/actions/visualize#paper-network\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\">Learn more about the paper network.</a>\\n\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"networkType\") : depth0),\"author\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":39,\"column\":12}}})) != null ? stack1 : \"\")\n    + \"\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"compare\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"networkType\") : depth0),\"paper\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":42,\"column\":0},\"end\":{\"line\":56,\"column\":12}}})) != null ? stack1 : \"\");\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/default-details-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/filter-container-template.html":
/*!*****************************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/filter-container-template.html ***!
  \*****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" \"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"limit\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":18},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + \" \";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"last\")),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":43},\"end\":{\"line\":7,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n    \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \" OR \";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \" select an author or group of authors in the visualization\\n    below and click the \\\"add to filter\\\" button \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"print-hidden\\\">\\n  <div>\\n    <b><i class=\\\"s-filter-image\\\"></i> Filter current search:</b>\\n    <button class=\\\"btn btn-default btn-xs clear-filter\\\">X clear</button>\\n  </div>\\n  <div class=\\\"s-filter-names-container \\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"limit\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":4},\"end\":{\"line\":9,\"column\":54}}})) != null ? stack1 : \"\")\n    + \"\\n  </div>\\n\\n  <div class=\\\"s-filter-buttons-container\\\">\\n    <div>\\n      <button class=\\\"btn btn-success apply-filter\\\">\\n        <i class=\\\"icon-go fa-lg\\\" aria-hidden=\\\"true\\\"></i>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/filter-container-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/graph-container-template.html":
/*!****************************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/graph-container-template.html ***!
  \****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"s-network-control-panel\\\">\\n    <div class=\\\"detail-panel s-detail-panel\\\">\\n        <h4 style=\\\"display:inline-block\\\">Size wedges based on:</h4>\\n        <div class=\\\"btn-group network-sizes\\\" data-toggle=\\\"buttons\\\">\\n        <label class=\\\"btn btn-primary active\\\">\\n            <input type=\\\"radio\\\" name=\\\"mode\\\" value=\\\"size\\\" checked autocomplete=\\\"off\\\"> Author Occurrences\\n        </label>\\n        <label class=\\\"btn btn-primary\\\">\\n            <input type=\\\"radio\\\" name=\\\"mode\\\" value=\\\"citation_count\\\" autocomplete=\\\"off\\\"> Paper Citations\\n        </label>\\n        <label class=\\\"btn btn-primary\\\">\\n            <input type=\\\"radio\\\" name=\\\"mode\\\" value=\\\"read_count\\\" autocomplete=\\\"off\\\"> Paper Downloads\\n        </label>\\n        </div>\\n        <br/>\\n        <label class=\\\"custom-checkbox\\\">\\n            <input type=\\\"checkbox\\\" name=\\\"show-link\\\" value=\\\"true\\\"> View Link Overlay\\n        </label>\\n    </div>\\n</div>\\n\\n<div class=\\\"s-network-graph-div\\\">\\n    <svg id=\\\"network-viz-main-chart\\\"\\n         class=\\\"network-chart s-network-chart\\\"\\n         viewBox=\\\"0 0 900 900\\\"\\n         style=\\\"font-family:helvetica,arial,san-serif\\\"\\n    >\\n    </svg>\\n    <a id=\\\"download-link\\\" class=\\\"hidden\\\"></a> \\n\\n</div>\\n\\n\\n\\n\\n\\n\\n\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/graph-container-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/group-details-template.html":
/*!**************************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/group-details-template.html ***!
  \**************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <button class=\\\"btn btn-sm btn-default filter-remove\\\">\\n        <i class=\\\"s-filter-image\\\"></i>remove from filter\\n      </button>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"      <button class=\\\"btn btn-sm btn-default filter-add\\\">\\n        <i class=\\\"s-filter-image\\\"></i> add to filter\\n      </button>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li>\\n      <a\\n        href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"bibcode\") || (depth0 != null ? lookupProperty(depth0,\"bibcode\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"bibcode\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":19},\"end\":{\"line\":24,\"column\":30}}}) : helper)))\n    + \"\\\"\\n        data-bypass=\\\"\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noreferrer noopener\\\"\\n        ><b>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":12},\"end\":{\"line\":28,\"column\":21}}}) : helper)))\n    + \"</b></a\\n      >\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.program(8, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":6},\"end\":{\"line\":32,\"column\":41}}})) != null ? stack1 : \"\")\n    + \" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"numAuthors\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":32,\"column\":42},\"end\":{\"line\":33,\"column\":69}}})) != null ? stack1 : \"\")\n    + \"\\n    </li>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <small> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"citation_count\") || (depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"citation_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":14},\"end\":{\"line\":31,\"column\":32}}}) : helper)))\n    + \" citations</small> \";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"\\n      <small>no citations</small> \";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n      <small>(\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"numAuthors\") || (depth0 != null ? lookupProperty(depth0,\"numAuthors\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"numAuthors\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":14},\"end\":{\"line\":33,\"column\":28}}}) : helper)))\n    + \" authors from this group)</small> \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"author-detail-header\\\">\\n  <div style=\\\"border-bottom:4px solid \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"groupColor\") || (depth0 != null ? lookupProperty(depth0,\"groupColor\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"groupColor\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":38},\"end\":{\"line\":2,\"column\":52}}}) : helper)))\n    + \"\\\" class=\\\"print-hidden\\\">\\n    <h4>Group \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":22}}}) : helper)))\n    + \"</h4>\\n    <span class=\\\"pull-right\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"inFilter\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":13,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </span>\\n  </div>\\n  <small>Total papers: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"total\") || (depth0 != null ? lookupProperty(depth0,\"total\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"total\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":23},\"end\":{\"line\":16,\"column\":32}}}) : helper)))\n    + \"</small>\\n  <small>Most recent: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"mostRecentYear\") || (depth0 != null ? lookupProperty(depth0,\"mostRecentYear\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"mostRecentYear\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":22},\"end\":{\"line\":17,\"column\":40}}}) : helper)))\n    + \"</small>\\n</div>\\n<div class=\\\"paper-description\\\">\\n  <ul class=\\\"list-unstyled\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"papers\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":4},\"end\":{\"line\":35,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"  </ul>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/group-details-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/loading-template.html":
/*!********************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/loading-template.html ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(__webpack_require__(/*! ../../../wraps/widget/loading/template.html */ \"./src/js/wraps/widget/loading/template.html\"),depth0,{\"name\":\"js/wraps/widget/loading/template\",\"hash\":{\"hideCloseButton\":true,\"widgetLoadingSize\":\"medium\"},\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"usePartial\":true,\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/loading-template.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/network_metadata.html":
/*!********************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/network_metadata.html ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <form action=\\\"\\\">\\n    Change to first\\n    <input\\n      type=\\\"text\\\"\\n      class=\\\"network-rows s-network-rows form-control input-sm\\\"\\n    />\\n    papers (max is \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"max\") || (depth0 != null ? lookupProperty(depth0,\"max\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"max\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":19},\"end\":{\"line\":11,\"column\":26}}}) : helper)))\n    + \").\\n    <button type=\\\"submit\\\" class=\\\"submit-rows btn btn-sm btn-info\\\">\\n      Submit\\n    </button>\\n  </form>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"print-hidden\\\">\\n  <h4>Currently viewing data for \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"current\") || (depth0 != null ? lookupProperty(depth0,\"current\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"current\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":33},\"end\":{\"line\":2,\"column\":44}}}) : helper)))\n    + \" papers.</h4>\\n  <br />\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"max\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":2},\"end\":{\"line\":16,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/network_metadata.html?");

/***/ }),

/***/ "./src/js/widgets/network_vis/templates/not-enough-data-template.html":
/*!****************************************************************************!*\
  !*** ./src/js/widgets/network_vis/templates/not-enough-data-template.html ***!
  \****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <button\\n    class=\\\"btn btn-default load-author-network\\\"\\n    data-query=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cachedQuery\") || (depth0 != null ? lookupProperty(depth0,\"cachedQuery\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cachedQuery\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":16},\"end\":{\"line\":20,\"column\":31}}}) : helper)))\n    + \"\\\"\\n  >\\n    <i class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i>\\n    Go back to previous author network. (\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cachedQuery\") || (depth0 != null ? lookupProperty(depth0,\"cachedQuery\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cachedQuery\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":41},\"end\":{\"line\":23,\"column\":56}}}) : helper)))\n    + \")\\n  </button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"col-xs-12\\\">\\n  <br />\\n  <p>\\n    The network grouping algorithm could not generate group data for your\\n    network.\\n  </p>\\n  <p>\\n    This might be because the list of papers was too small or sparse to produce\\n    multiple meaningful groups.\\n  </p>\\n  <p>\\n    <a href=\\\"/help/actions/visualize\\\">\\n      Learn more about how ADS networks are created and how they can be used.\\n    </a>\\n  </p>\\n\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"cachedQuery\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":2},\"end\":{\"line\":25,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/widgets/network_vis/templates/not-enough-data-template.html?");

/***/ }),

/***/ "./src/js/wraps/paper_network.js":
/*!***************************************!*\
  !*** ./src/js/wraps/paper_network.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! marionette */ \"./src/libs/backbone.marionette.js\"), __webpack_require__(/*! js/widgets/network_vis/network_widget */ \"./src/js/widgets/network_vis/network_widget.js\"), __webpack_require__(/*! js/components/api_query_updater */ \"./src/js/components/api_query_updater.js\"), __webpack_require__(/*! hbs!js/wraps/templates/paper-network-data */ \"./src/js/wraps/templates/paper-network-data.html\"), __webpack_require__(/*! hbs!js/wraps/templates/paper-network-container */ \"./src/js/wraps/templates/paper-network-container.html\"), __webpack_require__(/*! hbs!js/widgets/network_vis/templates/not-enough-data-template */ \"./src/js/widgets/network_vis/templates/not-enough-data-template.html\"), __webpack_require__(/*! hbs!js/wraps/templates/paper-network-link-data */ \"./src/js/wraps/templates/paper-network-link-data.html\"), __webpack_require__(/*! js/components/api_targets */ \"./src/js/components/api_targets.js\"), __webpack_require__(/*! bootstrap */ \"./src/libs/bootstrap/bootstrap.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (Marionette, NetworkWidget, ApiQueryUpdater, GroupDataTemplate, ContainerTemplate, NotEnoughDataTemplate, LinkDataTemplate, ApiTargets, bs) {\n  var options = {};\n  options.endpoint = ApiTargets.SERVICE_PAPER_NETWORK;\n  options.networkType = 'paper';\n  options.helpText = '<p>Papers are grouped by shared references, because ' + ' they are more likely to discuss similar topics.</p>' + ' <p>If your search returned a large enough set of papers, you will see two views:' + ' a <span class=\"s-text-bold\">summary view</span>  with groups of tightly linked papers, and a <span class=\"s-text-bold\">detail view</span> ' + ' that gives you more information about the group </p>';\n  var GraphModel = Backbone.Model.extend({\n    defaults: function defaults() {\n      return {\n        // data from the api\n        graphData: {},\n        // keep track of selection state\n        selectedEntity: undefined,\n        cachedEntity: undefined,\n        linkLayer: false,\n        mode: 'occurrences'\n      };\n    }\n  });\n  options.graphView = Marionette.ItemView.extend({\n    template: ContainerTemplate,\n    className: 'graph-view',\n    events: {\n      'change input[name=mode]': function changeInputNameMode(e) {\n        this.model.set('mode', e.target.value);\n      },\n      'change input[name=show-link]': function changeInputNameShowLink(e) {\n        this.model.set('linkLayer', e.target.checked);\n      },\n      'click .filter-remove': function clickFilterRemove(e) {\n        var id = this.model.get('selectedEntity');\n\n        var displayName = _.findWhere(this.model.get('graphData').summaryGraph.nodes, {\n          id: id\n        }).node_name; // showing display name\n\n\n        Marionette.getOption(this, 'filterCollection').remove({\n          id: displayName\n        }); // re-render detail sub view\n\n        this.showSelectedEntity();\n      },\n      'click .filter-add': function clickFilterAdd(e) {\n        var id = this.model.get('selectedEntity');\n\n        var displayName = _.findWhere(this.model.get('graphData').summaryGraph.nodes, {\n          id: id\n        }).node_name;\n\n        Marionette.getOption(this, 'filterCollection').add({\n          name: displayName\n        }); // re-render detail sub view\n\n        this.showSelectedEntity();\n      }\n    },\n    modelEvents: {\n      'change:graphData': 'renderGraph',\n      'change:selectedEntity': 'showSelectedEntity',\n      'change:mode': 'changeMode'\n    },\n    onRender: function onRender() {\n      if (this.model.get('graphData')) {\n        this.renderGraph();\n      }\n    },\n\n    /* functions to render the graph and overlay */\n    getConfig: function getConfig() {\n      // hold static config variables here\n      this.config = {\n        width: 300,\n        height: 300,\n        noGroupColor: 'hsl(0, 0%, 65%)'\n      };\n      this.config.radius = Math.min(this.config.width, this.config.height) / 1.5;\n      this.config.outerRadius = Math.min(this.config.width, this.config.height) * 0.33;\n      this.config.innerRadius = Math.min(this.config.width, this.config.height) * 0.21;\n    },\n    generateCachedVals: function generateCachedVals() {\n      var that = this; // these are d3 layouts/objects we cache for multiple functions\n\n      this.cachedVals = {\n        line: undefined,\n        bundle: undefined,\n        svg: undefined,\n        arc: undefined\n      };\n      this.cachedVals.bundle = d3.layout.bundle();\n      this.cachedVals.line = d3.svg.line.radial().interpolate('bundle').tension(0.3).radius(function (d) {\n        if (d.startAngle) {\n          return that.config.innerRadius + 10;\n        } // it's the center node\n\n\n        return 0;\n      }).angle(function (d) {\n        if (d.startAngle) {\n          return (d.startAngle + d.endAngle) / 2;\n        }\n\n        return 0;\n      });\n      this.cachedVals.svg = d3.select(this.$('svg.network-chart')[0]).attr('width', that.config.width).attr('height', that.config.height).append('g').attr('transform', 'translate(' + that.config.width / 2 + ',' + that.config.height / 2 + ')');\n      this.cachedVals.arc = d3.svg.arc().innerRadius(that.config.innerRadius).outerRadius(that.config.outerRadius);\n      this.cachedVals.pie = d3.layout.pie().value(function (d) {\n        return d.paper_count;\n      }).sort(function (a, b) {\n        return a.node_name - b.node_name;\n      });\n\n      that.cachedVals.groupTicks = function (d) {\n        return {\n          angle: (d.startAngle + d.endAngle) / 2,\n          label: d.data.node_label,\n          data: d\n        };\n      };\n    },\n    computeScales: function computeScales() {\n      var graphData = this.model.get('graphData').summaryGraph;\n      this.scales = {}; // get a  range for link weights\n\n      var weights = _.map(graphData.links, function (l) {\n        if (l.source !== l.target) {\n          return l.weight;\n        }\n      });\n\n      this.scales.tensionScale = d3.scale.linear().domain([d3.min(weights), d3.max(weights)]).range([0, 1]);\n      this.scales.linkScale = d3.scale.linear().domain([d3.min(weights), d3.max(weights)]).range([3, 22]);\n\n      var paperCounts = _.pluck(graphData.nodes, 'paper_count'); // set up initial font scale\n\n\n      this.scales.initialFontScale = d3.scale.linear().domain([d3.min(paperCounts), d3.max(paperCounts)]).range([9, 14]);\n      this.scales.fill = d3.scale.ordinal().domain([1, 2, 3, 4, 5, 6]).range(['hsl(282, 59%, 61%)', 'hsl(349, 54%, 57%)', 'hsl(26, 94%, 73%)', 'hsl(152, 40%, 52%)', 'hsl(193, 65%, 69%)', 'hsl(220, 70%, 65%)', 'hsl(250, 44%, 58%)']);\n    },\n    renderGraph: function renderGraph() {\n      this.getConfig();\n      this.computeScales();\n      this.generateCachedVals();\n      var svg = this.cachedVals.svg;\n      var graphData = this.model.get('graphData').summaryGraph;\n      var labelSum = [];\n      var that = this;\n\n      if (!graphData) {\n        this.$el.html(NotEnoughDataTemplate());\n      }\n\n      var pie = this.cachedVals.pie;\n      var arc = this.cachedVals.arc;\n      var data = pie(graphData.nodes); // can't be equal to zero or else the lines barf\n\n      _.findWhere(data, {\n        startAngle: 0\n      }).startAngle = 0.001;\n      svg.selectAll('rect').data(data).enter().append('rect').classed('node-path', true); // do this first so that the path data can layer over it slightly\n      // and make it look better\n\n      this.renderLinkLayer();\n      svg.selectAll('rect').remove();\n      svg.selectAll('.node-path').data(data).enter().append('path').classed('node-path', true).attr('fill', function (d, i) {\n        if (d.data.node_name > 7) {\n          return that.config.noGroupColor;\n        }\n\n        return that.scales.fill(d.data.node_name);\n      }).attr('d', arc) // for testing purposes, add the id\n      .attr('id', function (d, i) {\n        return 'vis-group-' + d.data.node_name;\n      }).on('mouseover', fade('mouseenter')).on('mouseout', fade('mouseleave')) // trigger group select events\n      .on('click', function (d, i) {\n        var groupId = d.data.id;\n        that.model.set('selectedEntity', this);\n      });\n      var ticks = svg.selectAll('.groupLabel').data(function () {\n        return _.map(data, function (d, i) {\n          return that.cachedVals.groupTicks(d);\n        });\n      }).enter().append('g').each(function (d) {\n        labelSum.push(d.data.value);\n      }).classed('groupLabel', true).attr('transform', function (d) {\n        return 'rotate(' + (d.angle * 180 / Math.PI - 90) + ')' + 'translate(' + that.config.outerRadius * 1 / 1 + ',0)';\n      });\n      labelSum = d3.sum(labelSum); // append labels\n\n      var text = ticks.append('g').attr('x', 0).attr('dy', '.5em').attr('transform', function (d, i) {\n        return 'rotate(' + -(d.angle * 180 / Math.PI - 90) + ')';\n      }).classed('summary-label-container', true).classed('hidden', function (d) {\n        if (d.data.value / labelSum < 0.08) {\n          return true;\n        }\n      }).selectAll('text').data(function (d, i) {\n        var data = _.pairs(d.label); // take top 4 with highest idf\n\n\n        data = _.sortBy(data, function (d) {\n          return -d[1];\n        });\n        data = data.slice(0, 5);\n        return _.map(data, function (wordList) {\n          wordList[2] = d.data.data.id;\n          return wordList;\n        });\n      }).enter().append('text').attr('x', 0).classed('paper-network-labels', true).attr('text-anchor', 'middle').attr('y', function (d, i, j) {\n        var size = _.findWhere(graphData.nodes, {\n          id: d[2]\n        }).paper_count;\n\n        return i * that.scales.initialFontScale(size) - 30;\n      }).attr('font-size', function (d, i, j) {\n        var size = _.findWhere(graphData.nodes, {\n          id: d[2]\n        }).paper_count;\n\n        return that.scales.initialFontScale(size) + 'px';\n      }).text(function (d, i) {\n        return d[0];\n      }); // show and fade labels\n\n      text.on('mouseover', fadeText('mouseenter')).on('mouseout', fadeText('mouseleave')); // trigger group select events\n\n      text.on('click', function (d) {\n        var nodeName = d3.select(this.parentNode).data()[0].data.data.node_name;\n        var nodePath = that.$('#vis-group-' + nodeName)[0];\n        that.model.set('selectedEntity', nodePath);\n      }); // Returns an event handler for fading a given chord group.\n\n      function fade(event) {\n        return function (g, i, j) {\n          // properly color the group background\n          if (event === 'mouseenter') {\n            if (g.data.node_name > 7) {\n              d3.select(this).attr('fill', d3.hsl(that.config.noGroupColor).darker(0.7));\n            } else {\n              d3.select(this).attr('fill', d3.hsl(that.scales.fill(g.data.node_name)).darker(0.7));\n            }\n          } else if (g.data.node_name > 7) {\n            d3.select(this).attr('fill', that.config.noGroupColor);\n          } else {\n            d3.select(this).attr('fill', that.scales.fill(g.data.node_name));\n          }\n        };\n      } // have to add this to the text or else it interferes with mouseover\n\n\n      function fadeText(event) {\n        return function (g, j, i) {\n          // properly color the group background\n          var nodeName = d3.select(this.parentNode).data()[0].data.data.node_name;\n          var pieNode = d3.selectAll('.node-path').filter(function (d) {\n            return d.data.node_name === nodeName;\n          })[0][0];\n\n          if (event === 'mouseenter') {\n            if (nodeName > 7) {\n              d3.select(pieNode).attr('fill', d3.hsl(that.config.noGroupColor).darker(0.7));\n            } else {\n              d3.select(pieNode).attr('fill', d3.hsl(that.scales.fill(nodeName)).darker(0.7));\n            }\n          } else if (nodeName > 7) {\n            d3.select(pieNode).attr('fill', d3.hsl(that.config.noGroupColor));\n          } else {\n            d3.select(pieNode).attr('fill', that.scales.fill(nodeName));\n          }\n        };\n      }\n    },\n    parseLinks: function parseLinks(links) {\n      var svg = this.cachedVals.svg;\n      var parentInCommon = {\n        name: 'fake'\n      };\n      links = _.chain(links).map(function (l) {\n        var linkData = {};\n        linkData.source = svg.selectAll('.node-path').filter(function (d, i) {\n          return d.data.stable_index == l.source;\n        })[0][0].__data__;\n        linkData.target = svg.selectAll('.node-path').filter(function (d, i) {\n          return d.data.stable_index == l.target;\n        })[0][0].__data__; // ignore self links\n\n        if (linkData.source === linkData.target) {\n          return undefined;\n        }\n\n        linkData.weight = l.weight;\n        linkData.source.parent = parentInCommon;\n        linkData.target.parent = parentInCommon;\n        return linkData;\n      }).filter(function (l) {\n        if (l) {\n          return true;\n        }\n      }).value();\n      return links;\n    },\n    updateLinkLayer: function updateLinkLayer() {\n      var that = this;\n      var svg = this.cachedVals.svg;\n      var links = that.model.get('graphData').summaryGraph.links;\n      var line;\n      links = this.parseLinks(links);\n      line = this.cachedVals.line;\n      svg.selectAll('.link').data(that.cachedVals.bundle(links)).transition().duration(1000).attr('d', function (d) {\n        return line(d);\n      });\n    },\n    renderLinkLayer: function renderLinkLayer() {\n      var that = this;\n      var svg = this.cachedVals.svg;\n      var links = that.model.get('graphData').summaryGraph.links;\n      var line;\n      var linkContainer;\n      links = this.parseLinks(links);\n      line = this.cachedVals.line;\n      linkContainer = svg.append('g').classed('link-container', true);\n      linkContainer.append('circle').attr('r', that.config.radius).classed('link-background', true);\n      linkContainer.selectAll('.link').data(that.cachedVals.bundle(links)).enter().append('path').attr('class', 'link').attr('d', function (d) {\n        return line(d);\n      }).attr('stroke-width', function (d) {\n        // get link weight\n        var weight = _.findWhere(links, function (l) {\n          return l.source == d[0] && l.target == d[d.length - 1] || l.target == d[0] && l.source == d[d.length - 1];\n        }).weight;\n\n        return that.scales.linkScale(weight);\n      }).on('click', function (d) {\n        // set the selected Entity to be the link\n        that.model.set('selectedEntity', [d[0], d[2]]);\n      });\n    },\n    showSelectedEntity: function showSelectedEntity() {\n      var that = this;\n      var data = {};\n      var topNodes; // expects the id, not the path itself\n\n      var entity = this.model.get('selectedEntity'); // it's a link\n\n      if (_.isArray(entity)) {\n        var id1;\n        var id2;\n        var links1;\n        var links2;\n        var allReferences1;\n        var allReferences2;\n        var shared = []; // find references in common\n\n        id1 = entity[0].data.id;\n        id2 = entity[1].data.id;\n        links1 = that.getAllLinks(id1);\n        links2 = that.getAllLinks(id2);\n        allReferences1 = _.flatten(_.pluck(links1, 'overlap'));\n        allReferences2 = _.flatten(_.pluck(links2, 'overlap'));\n\n        _.each(_.intersection(allReferences1, allReferences2), function (s) {\n          var percent1 = _.filter(allReferences1, function (b) {\n            return b == s;\n          }).length / allReferences1.length;\n          var percent2 = _.filter(allReferences2, function (b) {\n            return b == s;\n          }).length / allReferences2.length;\n          shared.push({\n            name: s,\n            percentOne: percent1 * 100,\n            percentTwo: percent2 * 100\n          });\n        });\n\n        shared = _.sortBy(shared, function (s) {\n          return s.percentOne * s.percentTwo;\n        }).reverse();\n        data.shared = shared;\n\n        _.each(data.shared, function (s, i) {\n          data.shared[i].percentOne = data.shared[i].percentOne.toFixed(2);\n          data.shared[i].percentTwo = data.shared[i].percentTwo.toFixed(2);\n        });\n\n        data.group1 = {\n          name: _.findWhere(this.model.get('graphData').summaryGraph.nodes, {\n            id: id1\n          }).node_name\n        };\n        data.group1.color = data.group1.name < 8 ? that.scales.fill(data.group1.name) : that.config.noGroupColor;\n        data.group2 = {\n          name: _.findWhere(this.model.get('graphData').summaryGraph.nodes, {\n            id: id2\n          }).node_name\n        };\n        data.group2.color = data.group1.name < 8 ? that.scales.fill(data.group2.name) : that.config.noGroupColor;\n        data.referencesLength = data.shared.length; // not actually located within this view, so slightly messy\n\n        $('.details-container #selected-item').html(LinkDataTemplate(data));\n      } // it's a node id\n      else {\n        // the network widget actually expects a path\n        var entity = entity.__data__.data.id;\n\n        var groupData = _.findWhere(that.model.get('graphData').summaryGraph.nodes, function (g) {\n          return g.id == entity;\n        }); // make a copy\n\n\n        var summaryData = $.extend({}, groupData);\n        summaryData.processedTopCommonReferences = [];\n        summaryData.titleWords = _.keys(groupData.node_label);\n\n        var groupBibs = _.pluck(that.getAllNodes(entity), 'node_name');\n\n        _.each(summaryData.top_common_references, function (v, k) {\n          var inGroup = !!_.contains(groupBibs, k);\n          summaryData.processedTopCommonReferences.push({\n            bibcode: k,\n            percent: (v * 100).toFixed(0),\n            inGroup: inGroup\n          });\n        });\n\n        summaryData.processedTopCommonReferences = _.sortBy(summaryData.processedTopCommonReferences, function (n) {\n          return n[1];\n        }).reverse(); // using OLD ID because it is the one that joins the group to the detail nodes\n\n        var filteredNodes = this.getAllNodes(groupData.id);\n        topNodes = _.sortBy(filteredNodes, function (o) {\n          return o.citation_count;\n        }).reverse();\n        data.morePapers = topNodes.length > 30;\n        data.summaryData = summaryData;\n        data.inFilter = !!Marionette.getOption(that, 'filterCollection').get(groupData.node_name);\n        data.topNodes = topNodes.slice(0, 30);\n        data.groupIdToShow = groupData.node_name;\n        data.borderColor = groupData.node_name < 8 ? that.scales.fill(groupData.node_name) : that.config.noGroupColor; // create a faded background color\n\n        data.backgroundColor = d3.hsl(data.borderColor).brighter();\n        $('.details-container #selected-item').html(GroupDataTemplate(data));\n      } // set the selected details tab as default\n\n\n      $(\".nav-tabs a[href='#selected-item']\").tab('show');\n    },\n    changeMode: function changeMode() {\n      var that = this;\n      var pie = this.cachedVals.pie;\n      var arc = this.cachedVals.arc;\n      var svg = this.cachedVals.svg;\n      var vals = [];\n      var fontScale;\n      var data;\n      var newData;\n      var groups;\n      var labelSum = [];\n      var graphData = this.model.get('graphData').summaryGraph;\n      var mode = this.model.get('mode');\n\n      function arcTween(d, i) {\n        var i = d3.interpolate({\n          startAngle: this.oldStartAngle,\n          endAngle: this.oldEndAngle\n        }, d);\n        return function (t) {\n          var b = i(t);\n          this.startAngle = b.startAngle;\n          this.endAngle = b.endAngle;\n          return arc(b);\n        };\n      }\n\n      pie.value(function (d) {\n        if (mode === 'references') {\n          var linkInfo = _.findWhere(graphData.links, function (l) {\n            if (l.source === d.stable_index && l.target === d.stable_index) {\n              return true;\n            }\n          });\n\n          vals.push(linkInfo.weight);\n          return linkInfo.weight;\n        }\n\n        vals.push(d[mode]);\n        return d[mode];\n      });\n      data = pie(graphData.nodes);\n      fontScale = d3.scale.linear().domain([d3.min(vals), d3.max(vals)]).range([7, 17]); // can't be equal to zero or else the lines barf\n\n      _.findWhere(data, {\n        startAngle: 0\n      }).startAngle = 0.001;\n      svg.selectAll('.node-path').each(function (d) {\n        // cache for the transition\n        this.oldStartAngle = d.startAngle;\n        this.oldEndAngle = d.endAngle;\n      }).data(data, function (d) {\n        return d.data.id;\n      }).transition().duration(1000).attrTween('d', arcTween); // take care of link placement\n\n      this.updateLinkLayer();\n      newData = _.map(data, function (d) {\n        labelSum.push(d.value);\n        return that.cachedVals.groupTicks(d);\n      });\n      labelSum = d3.sum(labelSum);\n      groups = svg.selectAll('.groupLabel').data(newData).transition().duration(1000).attr('transform', function (d) {\n        return 'rotate(' + (d.angle * 180 / Math.PI - 90) + ')' + 'translate(' + that.config.outerRadius + ',0)';\n      });\n      svg.selectAll('.summary-label-container') // why isn't this updating with the parent data ????\n      // WHYY?????\n      .data(newData).classed('hidden', function (d) {\n        if (d.data.value / labelSum < 0.08) {\n          return true;\n        }\n      }).transition().duration(1000).attr('transform', function (d, i) {\n        return 'rotate(' + -(d.angle * 180 / Math.PI - 90) + ')';\n      });\n      groups.selectAll('text').attr('y', function (d, i, j) {\n        var size = this.parentNode.__data__.data.value;\n        return i * fontScale(size) - 30;\n      }).attr('font-size', function (d, i, j) {\n        var size = this.parentNode.__data__.data.value;\n        return fontScale(size) + 'px';\n      });\n    },\n    getAllNodes: function getAllNodes(id) {\n      var fullGraph = this.model.get('graphData').fullGraph;\n      var filteredNodes = [];\n\n      _.each(fullGraph.nodes, function (n, i) {\n        if (n.group === id) {\n          filteredNodes.push(n);\n        }\n      });\n\n      return filteredNodes;\n    },\n    getAllLinks: function getAllLinks(id) {\n      var fullGraph = this.model.get('graphData').fullGraph;\n      var indexes = [];\n      var links = [];\n      var filteredNodes = [];\n\n      _.each(fullGraph.nodes, function (n, i) {\n        if (n.group === id) {\n          indexes.push(i);\n        }\n      });\n\n      _.each(fullGraph.links, function (l, i) {\n        if (indexes.indexOf(l.source) !== -1 || indexes.indexOf(l.target) !== -1) {\n          links.push(l);\n        }\n      });\n\n      return links;\n    }\n  });\n\n  options.broadcastFilteredQuery = function () {\n    var graphData = this.model.get('graphData');\n    var that = this;\n    var filterBibcodes = [];\n    var newQuery = this.getCurrentQuery().clone(); // get associated bibcodes\n\n    this.filterCollection.each(function (model) {\n      var name = model.get('name');\n\n      var group = _.findWhere(graphData.summaryGraph.nodes, {\n        node_name: name\n      });\n\n      var bibcodes = that.view.graphView.getAllNodes(group.id);\n      bibcodes = _.pluck(bibcodes, 'node_name');\n      Array.prototype.push.apply(filterBibcodes, bibcodes);\n    });\n    newQuery.unlock();\n    newQuery.set('__bigquery', filterBibcodes);\n    this.resetWidget();\n    var ps = this.getPubSub();\n    ps.publish(ps.CUSTOM_EVENT, 'second-order-search/limit', {\n      ids: filterBibcodes\n    });\n  };\n\n  options.widgetName = 'PaperNetwork';\n  return function () {\n    return new NetworkWidget(options);\n  };\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/paper_network.js?");

/***/ }),

/***/ "./src/js/wraps/templates/paper-network-container.html":
/*!*************************************************************!*\
  !*** ./src/js/wraps/templates/paper-network-container.html ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"s-network-control-panel\\\">\\n    <div class=\\\"detail-panel s-detail-panel\\\">\\n        <h4 style=\\\"display:inline-block\\\">Size wedges based on:</h4>\\n        <div class=\\\"btn-group network-sizes\\\" data-toggle=\\\"buttons\\\">\\n            <label class=\\\"btn btn-primary active\\\">\\n                <input type=\\\"radio\\\" name=\\\"mode\\\" value=\\\"paper_count\\\" checked autocomplete=\\\"off\\\"> Number of Papers\\n            </label>\\n            <label class=\\\"btn btn-primary\\\">\\n                <input type=\\\"radio\\\" name=\\\"mode\\\" value=\\\"total_citations\\\" autocomplete=\\\"off\\\"> Paper Citations\\n            </label>\\n            <label class=\\\"btn btn-primary\\\">\\n                <input type=\\\"radio\\\" name=\\\"mode\\\" value=\\\"total_reads\\\" autocomplete=\\\"off\\\"> Paper Downloads\\n            </label>\\n        </div>\\n    </div>\\n</div>\\n<div class=\\\"s-network-graph-div\\\">\\n    <svg class=\\\"network-chart s-network-chart\\\" width=\\\"400\\\"\\n         height=\\\"400\\\" viewBox=\\\"0 0 300 300\\\"\\n         id=\\\"network-viz-main-chart\\\"\\n         style=\\\"font-family:helvetica,arial,san-serif\\\"\\n    >\\n    </svg>\\n\\n    <a id=\\\"download-link\\\" class=\\\"hidden\\\"></a> \\n</div>\\n\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/templates/paper-network-container.html?");

/***/ }),

/***/ "./src/js/wraps/templates/paper-network-data.html":
/*!********************************************************!*\
  !*** ./src/js/wraps/templates/paper-network-data.html ***!
  \********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" \"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"last\")),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":49},\"end\":{\"line\":9,\"column\":79}}})) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \", \";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"      <button class=\\\"btn btn-xs btn-default filter-remove\\\">\\n        <i class=\\\"s-filter-image\\\"></i>remove group from filter\\n      </button>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"      <button class=\\\"btn btn-xs btn-default filter-add\\\">\\n        <i class=\\\"s-filter-image\\\"></i> add group to filter\\n      </button>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \"      <p><b>Top papers from this group include:</b></p>\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \"      <p><b>Papers in this group: </b></p>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li title=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"node_name\") : depth0), depth0))\n    + \"\\\">\\n          <a\\n            href=\\\"#abs/\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"node_name\") : depth0), depth0))\n    + \"\\\"\\n            data-bypass\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer noopener\\\"\\n            ><b>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</b></a\\n          >; <i>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"first_author\") : depth0), depth0))\n    + \"</i>\\n          (\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"citation_count\") : depth0), depth0))\n    + \" citations)\\n        </li>\\n\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\n        <li>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"inGroup\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.program(17, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":67,\"column\":10},\"end\":{\"line\":71,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"          <a\\n            href=\\\"#abs/\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"bibcode\") : depth0), depth0))\n    + \"\\\"\\n            data-bypass\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer noopener\\\"\\n            >\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"bibcode\") : depth0), depth0))\n    + \"</a\\n          >\\n          (cited by \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"percent\") : depth0), depth0))\n    + \"% of papers in this group)\\n        </li>\\n\\n\";\n},\"15\":function(container,depth0,helpers,partials,data) {\n    return \"          <i class=\\\"fa fa-star-o\\\" aria-hidden=\\\"true\\\"></i>\\n\";\n},\"17\":function(container,depth0,helpers,partials,data) {\n    return \"          <i class=\\\"fa fa-star-o no-show\\\" aria-hidden=\\\"true\\\"></i>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div style=\\\"padding: 0 -15px\\\">\\n  <div\\n    class=\\\"s-group-title clearfix\\\"\\n    style=\\\"border-bottom: 6px solid \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"borderColor\") || (depth0 != null ? lookupProperty(depth0,\"borderColor\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"borderColor\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":36},\"end\":{\"line\":4,\"column\":51}}}) : helper)))\n    + \";\\\"\\n  >\\n    <h3>\\n      Group \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"groupIdToShow\") || (depth0 != null ? lookupProperty(depth0,\"groupIdToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"groupIdToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":12},\"end\":{\"line\":7,\"column\":29}}}) : helper)))\n    + \":\\n      <span class=\\\"s-light-font\\\">\\n        \"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"summaryData\") : depth0)) != null ? lookupProperty(stack1,\"titleWords\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":10,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </span>\\n    </h3>\\n\\n    <div class=\\\"pull-right print-hidden\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"inFilter\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":6},\"end\":{\"line\":23,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\n  </div>\\n\\n  <div class=\\\"s-group-content\\\">\\n    <p>\\n      This group consists of <b>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"summaryData\") : depth0)) != null ? lookupProperty(stack1,\"paper_count\") : stack1), depth0))\n    + \"</b> papers, which\\n      have been cited, in total, <b>\"\n    + alias4(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"summaryData\") : depth0)) != null ? lookupProperty(stack1,\"total_citations\") : stack1), depth0))\n    + \"</b> times.\\n    </p>\\n\\n    <div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"morePapers\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":6},\"end\":{\"line\":38,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"      <ul class=\\\"list-unstyled s-top-papers\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"topNodes\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":40,\"column\":8},\"end\":{\"line\":52,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </ul>\\n    </div>\\n\\n    <div>\\n      <p>\\n        <b> Papers highly referenced by papers in this group:</b> <br />\\n        (A <i class=\\\"fa fa-star-o\\\" aria-hidden=\\\"true\\\"></i> indicates that this\\n        paper is also a member of Group \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"groupIdToShow\") || (depth0 != null ? lookupProperty(depth0,\"groupIdToShow\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"groupIdToShow\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":60,\"column\":40},\"end\":{\"line\":60,\"column\":57}}}) : helper)))\n    + \")\\n      </p>\\n\\n      <ul class=\\\"list-unstyled\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"summaryData\") : depth0)) != null ? lookupProperty(stack1,\"processedTopCommonReferences\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":64,\"column\":8},\"end\":{\"line\":82,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"      </ul>\\n      <small\\n        >(Click on a link above to view the paper's abstract page in ADS in a\\n        new tab)</small\\n      >\\n    </div>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/templates/paper-network-data.html?");

/***/ }),

/***/ "./src/js/wraps/templates/paper-network-link-data.html":
/*!*************************************************************!*\
  !*** ./src/js/wraps/templates/paper-network-link-data.html ***!
  \*************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <tr>\\n            <td>\\n                <a href=\\\"#abs/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":30},\"end\":{\"line\":34,\"column\":38}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":40},\"end\":{\"line\":34,\"column\":48}}}) : helper)))\n    + \"</a>\\n            </td>\\n            <td>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"percentOne\") || (depth0 != null ? lookupProperty(depth0,\"percentOne\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"percentOne\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":16},\"end\":{\"line\":37,\"column\":30}}}) : helper)))\n    + \"%\\n            </td>\\n            <td>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"percentTwo\") || (depth0 != null ? lookupProperty(depth0,\"percentTwo\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"percentTwo\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":40,\"column\":16},\"end\":{\"line\":40,\"column\":30}}}) : helper)))\n    + \"%\\n            </td>\\n        </tr>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"s-group-title s-paper-network-link-data-header\\\">\\n\\n    <h3>References From Both <span style=\\\"color:\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"group1\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\"> Group \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"group1\") : depth0)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \" </span> and <span\\n            style=\\\"color:\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"group2\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\"> Group \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"group2\") : depth0)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \" </span></h3>\\n\\n</div>\\n\\n<div class=\\\"s-group-content\\\">\\n    <p>These groups have <b>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"referencesLength\") || (depth0 != null ? lookupProperty(depth0,\"referencesLength\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias3,{\"name\":\"referencesLength\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":28},\"end\":{\"line\":9,\"column\":48}}}) : helper)))\n    + \" </b> unique references in common</p>\\n\\n    <p></p>\\n    <small>(Click on a link below to view the paper's abstract page in ADS in a new tab)</small>\\n    </p>\\n\\n\\n    <table class=\\\"table table-condensed\\\">\\n        <thead>\\n        <tr>\\n            <th>\\n                Paper\\n            </th>\\n            <th>\\n                Group \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"group1\") : depth0)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"\\n            </th>\\n            <th>\\n                Group \"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"group2\") : depth0)) != null ? lookupProperty(stack1,\"name\") : stack1), depth0))\n    + \"\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"shared\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":8},\"end\":{\"line\":43,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        </tbody>\\n    </table>\\n\\n\\n</div>\\n\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/templates/paper-network-link-data.html?");

/***/ }),

/***/ "./src/js/wraps/widget/loading/template.html":
/*!***************************************************!*\
  !*** ./src/js/wraps/widget/loading/template.html ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var Handlebars = __webpack_require__(/*! ../../../../../node_modules/handlebars/runtime.js */ \"./node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <div class=\\\"close-widget close-circle\\\">\\n    <a href=\\\"javascript:void(0)\\\"\\n      ><i class=\\\"fa fa-times fa-lg\\\" aria-hidden=\\\"true\\\"></i\\n    ></a>\\n  </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"loading-container\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hideCloseButton\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":8,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"  <div class=\\\"loading\\\">\\n    <div\\n      class=\\\"loading-icon-\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"widgetLoadingSize\") || (depth0 != null ? lookupProperty(depth0,\"widgetLoadingSize\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"widgetLoadingSize\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":26},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \" fa fa-spinner fa-spin\\\"\\n      aria-hidden=\\\"true\\\"\\n    ></div>\\n    <div class=\\\"loading-text loading-text-\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"widgetLoadingSize\") || (depth0 != null ? lookupProperty(depth0,\"widgetLoadingSize\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"widgetLoadingSize\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":42},\"end\":{\"line\":14,\"column\":63}}}) : helper)))\n    + \"\\\">\\n      Loading...\\n    </div>\\n  </div>\\n</div>\\n\";\n},\"useData\":true});\n\n//# sourceURL=webpack://bumblebee/./src/js/wraps/widget/loading/template.html?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd define */
/******/ 	!function() {
/******/ 		__webpack_require__.amdD = function () {
/******/ 			throw new Error('define cannot be used indirect');
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/amd options */
/******/ 	!function() {
/******/ 		__webpack_require__.amdO = {};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	!function() {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = function(result, chunkIds, fn, priority) {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.nmd = function(module) {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"PaperNetwork": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkbumblebee"] = self["webpackChunkbumblebee"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	!function() {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendor"], function() { return __webpack_require__("./src/js/wraps/paper_network.js"); })
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;